import{j as e,a9 as Z,aa as q,ab as K,bQ as ee,r as s,i as M,T as t,u as B,b as se,a as F,F as r,n as te,S as d,ak as V,bR as oe,G as O,bS as ae,a1 as ne,_ as C,o as re,Z as ie,d as le,bT as ce,g as de,I as ue,f as xe,bU as pe,V as me,e as he,L as z,B as fe,D,H as je,l as ge,bV as be}from"./index-4302fa73.js";import{u as Se}from"./Login-c5c340c6.js";import{F as ye}from"./formik.esm-5e033970.js";import{I as we}from"./index.esm-cfaad004.js";import{P as Ce,a as ve}from"./chunk-I5V4ORUK-7ee0060c.js";import{C as _e}from"./chunk-CWVAJCXJ-445af26e.js";import"./chunk-7D6N5TE5-dde2d0e5.js";const Ee=({children:o,isOpen:i,onClose:a,modalContentStyle:n,modalBodyStyle:l,...u})=>e.jsxs(Z,{isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:i,size:"lg",onClose:a,motionPreset:"slideInBottom",...u,children:[e.jsx(q,{bg:"#00000020",backdropFilter:"auto",backdropBlur:"2px"}),e.jsx(K,{w:{base:"90vw",md:"60vw"},borderRadius:0,py:"1%",...n,children:e.jsx(ee,{...l,children:o})})]}),ke=({countFrom:o,onCountdownComplete:i})=>{const[a,n]=s.useState(o),[l,u]=s.useState(!0);s.useEffect(()=>{if(l&&a>0){const x=setInterval(()=>{n(a-1)},1e3);return()=>clearInterval(x)}else a===0&&l&&(u(!1),i())},[a,l,i]);const m=x=>{const g=Math.floor(x/60),h=x%60;return`${g.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`},j=()=>{o>0||(n(o),u(!0))};return e.jsxs(M,{as:"button",onClick:j,children:[e.jsx(t,{children:"Resend"}),e.jsxs(t,{opacity:a>0?1:0,children:["(",m(a),")"]})]})},Ie=({isOpen:o,onClose:i,token:a})=>{const[n,l]=s.useState(!1),[u,m]=s.useState(!1),[j,x]=s.useState(60),[g,h]=s.useState("");let I=B(),b=se();const v=F();async function P(p){try{m(!0);const{payload:f,error:_}=await v(oe({code:p,token:a}));if(_)return h(_.message);if(f){i();const E="error-toast";b.isActive(E)||b({id:E,position:"top",title:"Account Created Successfully",description:"Your account was created using email and password, please enter your email and password to continue",status:"success",duration:9e3,isClosable:!1}),I(`${O}/login`)}}catch{}finally{m(!1)}}async function R(){try{m(!0);const{payload:p,error:f}=await v(ae({token:a}));if(f)return h(f.message);p&&ne(b,"Code resent successfully",9e3,"bottom-left")}catch{}finally{m(!1)}}return e.jsx(Ee,{isOpen:o,onClose:i,closeOnOverlayClick:!1,modalContentStyle:{borderRadius:"10px"},children:e.jsxs(r,{flexDir:"column",py:"5px",children:[e.jsx(r,{alignSelf:"flex-end",as:"button",onClick:i,mb:"20px",children:e.jsx(we,{size:20})}),e.jsx(t,{fontSize:"14px",mb:"10px",children:"Please provide the OTP sent to your Email"}),e.jsx(M,{w:"100%",h:"80px",children:e.jsx(Ce,{onComplete:p=>{h(""),P(p)},otp:!0,placeholder:"*",children:[1,2,3,4].map(()=>e.jsx(ve,{bg:"grey",borderRadius:10,borderWidth:0,w:"30%",h:"100%"},te()))})}),g&&e.jsx(t,{color:"red",children:g}),u&&e.jsx(d,{size:"sm",alignSelf:"flex-end",mt:"10px"}),e.jsxs(M,{fontSize:"14px",mt:"25px",children:[e.jsx(t,{children:"Did not receive OTP?"}),e.jsx(V,{opacity:n?1:.5,onClick:()=>{n&&(R(),x(j+1),l(!1))},children:e.jsx(ke,{countFrom:j,onCountdownComplete:()=>{l(!0)}})})]})]})})},Pe=s.lazy(()=>C(()=>import("./index-036c94a7.js"),["assets/index-036c94a7.js","assets/index-4302fa73.js","assets/index-ed5220eb.css"])),Re=s.lazy(()=>C(()=>import("./index-4302fa73.js").then(o=>o.cQ),["assets/index-4302fa73.js","assets/index-ed5220eb.css"])),w=s.lazy(()=>C(()=>import("./index-c93abaf5.js"),["assets/index-c93abaf5.js","assets/index-4302fa73.js","assets/index-ed5220eb.css","assets/formik.esm-5e033970.js"])),Le=s.lazy(()=>C(()=>import("./index-4fa2e507.js"),["assets/index-4fa2e507.js","assets/index-4302fa73.js","assets/index-ed5220eb.css","assets/countries-020c4914.js","assets/chunk-3RSXBRAN-6b0fc4b3.js"])),ze=s.lazy(()=>C(()=>import("./index-64097767.js"),["assets/index-64097767.js","assets/index-4302fa73.js","assets/index-ed5220eb.css"])),Me=()=>{const o=F();let i=B();const a=re(),[n,l]=s.useState(!1),[u,m]=s.useState(!1),{isOpen:j,onClose:x,onOpen:g}=ie(),[h,I]=s.useState(""),[b,v]=s.useState(""),P=()=>l(!n),{token:R,registerLoading:p}=le(c=>c.authReducer),{root:f,boxLeft:_,boxRegister:E,leftImg:G,registerColumn:$,head:N,desc:k,basedText:L,checkBoxRoot:H,countrySelect:U}=Se();s.useEffect(()=>{o(ce()),Q(),R&&i(`${O}/dashboard`)},[]);const[J,T]=s.useState("United States of America"),Q=()=>{de.get("https://ipapi.co/json/").then(c=>{let S=c.data;T(S.country_name)}).catch(c=>{console.log(c)})},W=async({email:c,password:S,firstname:X,lastname:Y})=>{if(!a)return;const{payload:A,error:y}=await o(be({firstname:X,lastname:Y,email:c,password:S}));if(y)return console.log(y),v(y==null?void 0:y.message);A&&(I(A),g())};return e.jsxs(e.Fragment,{children:[e.jsx(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:e.jsx(r,{pos:"absolute",children:e.jsx(ze,{pos:"fixed"})})}),e.jsxs(r,{...f,children:[e.jsx(r,{..._,children:e.jsx(ue,{src:xe.AuthImage,alt:"Me Protocol",...G})}),e.jsx(r,{...E,overflowX:"hidden",children:e.jsx(ye,{initialValues:{email:"",password:"",confirm:"",firstname:"",lastname:""},validationSchema:pe,onSubmit:W,children:c=>e.jsxs(me,{as:"form",...$,onChange:()=>o(he()),onSubmit:c.handleSubmit,children:[e.jsx(t,{...N,children:"Letâ€™s get started."}),e.jsx(r,{w:"100%",justify:"space-between",children:e.jsx(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:e.jsx(z,{href:`${fe}/user/google`,w:"full",children:e.jsx(Re,{isLoading:u,name:"Sign up with Google",rest:{w:"100%"}})})})}),e.jsxs(r,{align:"center",w:"100%",justify:"space-between",children:[e.jsx(D,{w:"45%",color:"#ECECEC"}),e.jsx(t,{color:"#999999",fontSize:{base:"12px",md:"20px"},children:"or"}),e.jsx(D,{w:"45%",color:"#ECECEC"})]}),e.jsx(t,{...k,children:"Enter a few details to join the ME community"}),e.jsxs(r,{flexDir:{base:"column",md:"row"},justifyContent:"space-between",w:"100%",children:[e.jsx(r,{w:{base:"100%",md:"49%"},children:e.jsx(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:e.jsx(w,{name:"firstname",placeholder:"First Name"})})}),e.jsx(r,{w:{base:"100%",md:"49%"},children:e.jsx(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:e.jsx(w,{name:"lastname",placeholder:"Last Name"})})})]}),e.jsxs(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:[e.jsx(w,{name:"email",type:"email",placeholder:"your@email.com"}),b&&e.jsx(t,{fontSize:"12px",color:"red",children:b})]}),e.jsx(je,{...L,children:"Get yourself a password."}),e.jsx(t,{...k,children:"Passwords must include a symbol or number and have at least 8 characters."}),e.jsxs(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:[e.jsx(w,{name:"password",type:n?"text":"password",placeholder:"Password"}),e.jsx(w,{name:"confirm",type:n?"text":"password",placeholder:"Confirm Password"})]}),e.jsx(t,{as:ge,onClick:P,alignSelf:"flex-end",...L,pt:"0px",bg:"transparent",_hover:{bg:"transparent"},children:n?"Hide":"Show"}),e.jsx(t,{...L,children:"Where are you based?"}),e.jsx(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:e.jsx(Le,{value:J,onChange:S=>{T(S.target.value)},...U})}),e.jsx(r,{...H,children:e.jsx(_e,{w:"100%",borderColor:"black",spacing:"1rem",children:"Get exclusive offers, trends and deals"})}),e.jsx(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:e.jsx(Pe,{isLoading:p,name:"Create Account"})}),e.jsxs(t,{...k,pt:"10px",children:["By signing up you accept to our"," ",e.jsxs(z,{href:"https://google.com",textDecoration:"underline",children:[" ","Terms and Services."]})]}),e.jsxs(t,{...k,pt:"10px",children:["Already have an account?",e.jsxs(z,{onClick:()=>{i(`${O}/login`,{replace:!0})},textDecoration:"underline",children:[" ","Login here."]})]}),e.jsx(V,{bg:"transparent",pt:"40px",w:"100%"})]})})})]}),e.jsx(Ie,{isOpen:j,onClose:x,token:h})]})},Ge=Me;export{Ge as default};
