import{r as t,_ as N,u as Ge,a as Je,d as m,a$ as Ue,b as qe,b0 as I,b1 as Ke,b2 as Xe,Y as ne,b3 as Qe,b4 as Ze,j as e,al as z,S as v,F as a,m as eo,h as y,i as E,a5 as oo,T as n,K as so,E as te,l as P,G as L,b5 as no,b6 as to,b7 as ro,y as x,O as T,a4 as re,b8 as ao,b9 as A,A as ae,V as le,M as ie,a6 as ce,a7 as de,a8 as xe,an as lo,C as B,H as io,ai as co,a0 as he,I as pe,f as ue,aJ as xo,aK as ho,aL as po}from"./index-a17d5818.js";import{A as uo}from"./index.esm-f506ec4c.js";import{e as fe}from"./empty-fb04a4d6.js";const fo=t.lazy(()=>N(()=>import("./index-a17d5818.js").then(i=>i.cR),["assets/index-a17d5818.js","assets/index-ed5220eb.css"])),mo=t.lazy(()=>N(()=>import("./index-1351f90b.js"),["assets/index-1351f90b.js","assets/index-a17d5818.js","assets/index-ed5220eb.css","assets/index-83045dca.js","assets/index-141f022b.js"])),jo=t.lazy(()=>N(()=>import("./index-ab234084.js"),["assets/index-ab234084.js","assets/index-a17d5818.js","assets/index-ed5220eb.css"])),bo=()=>{var q,K,X,Q,Z,ee,oe,se;let i=Ge();const h=Je(),me=t.useRef(),{token:l}=m(o=>o.authReducer),{user_data:r}=m(o=>o.userReducer),{order_data:c,getOrder_loading:je}=m(o=>o.orderReducer),[be]=Ue(),ge=be.get("tab"),_=qe(),{my_deals_loading:we,my_followed_brands:d}=m(o=>o.userReducer),{collection_data:k,collection_loading:wo}=m(o=>o.collectionReducer);t.useEffect(()=>{l&&h(I({token:l}))},[l]),t.useEffect(()=>{l&&(h(Ke({token:l})),h(Xe({token:l})))},[]);const{isOpen:Ce,onOpen:$,onClose:j}=ne(),{isOpen:Se,onOpen:ve,onClose:D}=ne(),{root:ye,infoBox:ke,font1:De,font2:Fe,editProfileText:Oe,contain:Co,smallerDesc:Me,singleCol:Y,popContentStyle:Re,colOptionText:Ie,cancelButton:H,nextButton:W,newCollectionInput:ze,editProfileButton:Ee,iconCenter:Pe,editIconStack:Le,imageDisplay:Te,fontUnderline:Ae,nameStack:Be}=go(),[Ne]=Qe(),[_e]=Ze(),[$e,V]=t.useState(!1),[So,G]=t.useState(""),[b,J]=t.useState(""),[F,U]=t.useState(!1);t.useState(!1),t.useState([]);const[g,O]=t.useState(null),[vo,Ye]=t.useState("");t.useEffect(()=>{const p=["January","February","March","April","May","June","July","August","September","October","November","December"][new Date().getMonth()];Ye(p)},[]);const M=[{id:"1",name:"My deals"},{id:"2",name:"My saved"},{id:"3",name:"My brands"}];async function He(){b&&(V(!0),await Ne({name:b}).then(({data:o})=>{h(I({token:l})),he(_,"Collection added successfully"),j()}).catch(o=>{G(o)}).finally(()=>{V(!1),J("")}))}async function We(o){U(!0),O(o),await _e(o).then(({data:s})=>{h(I({token:l})),he(_,"Collection deleted successfully"),j()}).catch(s=>{G(s)}).finally(()=>{D(),U(!1),O(null)})}function Ve(){var o;return e.jsx(e.Fragment,{children:e.jsxs(a,{w:"100%",justify:"space-between",flexDir:"row",flexWrap:"wrap",children:[(o=k==null?void 0:k.collections)==null?void 0:o.map((s,p)=>{var u,f;return e.jsxs(a,{...Y,children:[e.jsx(a,{...Te,flexDir:"row",wrap:"wrap",as:"button",onClick:()=>i(`${s==null?void 0:s.id}`,{state:{id:s==null?void 0:s.name}}),children:e.jsx(pe,{src:s==null?void 0:s.image,objectFit:"contain",fallbackSrc:ue.appLogoPlaceholder},x())}),e.jsxs(y,{justify:"center",...Be,children:[e.jsx(n,{noOfLines:1,fontSize:"18px",children:s==null?void 0:s.name}),e.jsxs(n,{color:"#999999",children:[(u=s.likes)==null?void 0:u.length," ",((f=s.likes)==null?void 0:f.length)>0?"items":"item"]})]}),e.jsx(a,{w:"10%",h:"15%",alignSelf:"center",children:e.jsx(xo,{isLazy:!0,placement:"bottom",children:({isOpen:R,onClose:w})=>e.jsxs(e.Fragment,{children:[e.jsx(ho,{children:e.jsx(z,{as:"button",children:F&&s.id===g?e.jsx(v,{size:"sm"}):e.jsx(T,{w:"100%",h:"100%",as:uo})})}),e.jsx(z,{as:"button",textAlign:"left",children:e.jsx(po,{ref:me,onClick:w,...Re,children:e.jsx(y,{...Le,children:["Delete"].map((C,S)=>e.jsxs(a,{as:"button",flexDir:"row",align:"center",onClick:()=>{S===1?i(`${s==null?void 0:s.id}`,{state:{id:s==null?void 0:s.id}}):O((s==null?void 0:s.id)??null),ve()},children:[e.jsx(pe,{w:"8%",h:"8%",src:ue.edit_Icon,mr:"5%"}),e.jsx(n,{...Ie,children:C})]},x()))})})})]})})})]},x())}),e.jsxs(a,{...Y,onClick:$,children:[e.jsx(B,{...Pe,flexDir:"row",flexWrap:"wrap",children:e.jsx(T,{w:"3vw",h:"3vw",as:re})}),e.jsx(E,{ml:"5%",children:e.jsx(n,{children:"New collection"})})]})]})})}return e.jsxs(z,{w:"100%",h:"100vh",flexDir:"column",children:[e.jsx(t.Suspense,{fallback:e.jsx(v,{size:"sm"}),children:e.jsx(fo,{})}),e.jsx(a,{flexDir:"column",children:e.jsx(eo,{children:e.jsxs(y,{...ye,children:[e.jsxs(E,{...ke,bg:"#F2F2F2",children:[e.jsx(oo,{size:"xl",mr:"2%",name:`${(q=r==null?void 0:r.customer)==null?void 0:q.name}`,src:(K=r==null?void 0:r.customer)==null?void 0:K.profilePicture}),e.jsxs(y,{children:[e.jsx(n,{...De,textTransform:"uppercase",children:(X=r==null?void 0:r.customer)==null?void 0:X.name}),e.jsxs(n,{...Fe,children:["Member since ",so((Q=r==null?void 0:r.customer)==null?void 0:Q.createdAt).format("DD MMM YYYY")]})]}),e.jsx(te,{}),e.jsx(P,{variant:"outline",...Ee,onClick:()=>i(`${L}/settings`),children:e.jsx(n,{...Oe,children:"Edit Profile"})})]}),e.jsxs(no,{isLazy:!0,defaultIndex:ge==="saved"?1:0,children:[e.jsxs(a,{flexDir:"row",w:"100%",children:[e.jsx(to,{children:M==null?void 0:M.map(o=>e.jsx(ro,{...Me,_selected:{color:"black",borderColor:"black"},color:"#999999",children:e.jsx(n,{fontWeight:"700",children:o.name})},x()))}),e.jsx(te,{}),e.jsxs(E,{onClick:$,cursor:"pointer",children:[e.jsx(n,{fontWeight:"600",children:"New collection"}),e.jsx(T,{w:"30px",h:"30px",as:re})]})]}),e.jsxs(ao,{children:[e.jsx(A,{px:0,children:e.jsx(t.Suspense,{fallback:e.jsx(v,{size:"sm"}),children:((Z=c==null?void 0:c.orders)==null?void 0:Z.length)>0?e.jsx(e.Fragment,{children:(ee=c==null?void 0:c.orders)==null?void 0:ee.map(o=>{var s,p,u,f,R,w,C,S;return e.jsx(ae,{isLoaded:!je,mb:"2px",children:e.jsx(mo,{name:(s=o==null?void 0:o.offer)==null?void 0:s.name,price:Number((p=o==null?void 0:o.offer)==null?void 0:p.originalPrice),token:`${(u=o==null?void 0:o.offer)==null?void 0:u.tokens} ${(R=(f=o==null?void 0:o.offer)==null?void 0:f.reward)==null?void 0:R.rewardSymbol}`,quantity:o==null?void 0:o.quantity,date:(w=o==null?void 0:o.offer)==null?void 0:w.updatedAt,expired:!1,image:(S=(C=o==null?void 0:o.offer)==null?void 0:C.offerImages[0])==null?void 0:S.url,rest:{...o}})},x())})}):e.jsxs(le,{children:[e.jsx(a,{w:"500px",h:"500px",children:e.jsx(ie,{animationData:fe,loop:!0,autoplay:!0,width:50,height:70})}),e.jsxs(n,{children:["You currently have no deals,"," ",e.jsx(n,{as:"button",onClick:()=>i(`${L}/dashboard/category`),...Ae,children:"Explore your favorite deals to purchase"})]})]})})}),e.jsx(A,{px:0,children:Ve()}),e.jsx(A,{px:0,children:e.jsx(t.Suspense,{fallback:e.jsx(v,{size:"sm"}),children:((oe=d==null?void 0:d.following)==null?void 0:oe.length)>0?e.jsx(e.Fragment,{children:(se=d==null?void 0:d.following)==null?void 0:se.map(o=>e.jsx(ae,{isLoaded:!we,mb:"2px",children:e.jsx(jo,{item:{...o}},x())}))}):e.jsxs(le,{children:[e.jsx(a,{w:"400px",h:"400px",children:e.jsx(ie,{animationData:fe,loop:!0,autoplay:!0,width:50,height:70})}),e.jsxs(n,{children:["You currently have followed brands,"," ",e.jsx(n,{as:"button",onClick:()=>i(`${L}/dashboard/shop`),children:"Explore your favorite brands"})]})]})})})]})]})]})})}),e.jsxs(ce,{isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:Ce,size:"xl",onClose:j,motionPreset:"slideInBottom",closeOnOverlayClick:!1,children:[e.jsx(de,{}),e.jsxs(xe,{w:{base:"90vw",md:"30vw"},h:"15vw",borderRadius:0,p:"1%",children:[e.jsx(n,{children:"Create new collection"}),e.jsx(lo,{variant:"outline",...ze,placeholder:"Collection name",value:b,onChange:({target:o})=>{J(o.value)}}),e.jsx(P,{isLoading:$e,...W,onClick:He,disabled:!b,children:e.jsx(n,{children:"Create"})}),e.jsx(B,{...H,onClick:j,as:"button",children:e.jsx(n,{children:"Cancel"})})]})]}),e.jsxs(ce,{isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:Se,size:"xl",onClose:D,motionPreset:"slideInBottom",closeOnOverlayClick:!1,children:[e.jsx(de,{}),e.jsxs(xe,{w:{base:"90vw",md:"30vw"},h:"15vw",borderRadius:0,p:"1%",children:[e.jsxs(io,{mb:3,fontSize:"sm",children:["Delete collection"," "]}),e.jsx(n,{children:"Are you sure you want to delete this collection? This action cannot be undone."}),e.jsx(P,{isLoading:!!g&&F,...W,bg:"red.600",onClick:()=>We(g),isDisabled:!g,children:e.jsx(n,{children:"Delete"})}),e.jsx(B,{...H,onClick:D,as:"button",children:e.jsx(n,{children:"Cancel"})})]})]}),F&&e.jsx(co,{})]})},Fo=bo,go=()=>({root:{w:"100%",mt:"108px",pt:"3%",overflow:"hidden"},infoBox:{w:"100%",h:"150px",px:"2%",borderRadius:"16px"},root2:{w:"1440px",h:"248px",mt:"1px"},font1:{fontSize:"24px",color:"#000000"},font2:{fontSize:"16px",color:"#999999"},editProfileText:{fontSize:"14px"},button:{w:"150px",h:"47px",borderRadius:"0px",background:"#000000",fontSize:"18px",lineHeight:"22px",color:"#FFFFFF"},contain:{w:"100%",h:"64px",mt:"297px"},head:{fontSize:{base:"18px",md:"20px"}},smallerDesc:{fontSize:{base:"10px",md:"16px"}},container:{w:"100px",_hover:{background:"black",color:"white"}},search:{w:"240px",h:"40px",background:"#F6F6F6",borderRadius:"53px"},font:{fontSize:"16px",lineHeight:"19px",_hover:{color:"#FFFFFF"}},popfont:{fontSize:"12px",lineHeight:"14px",color:"#999999"},singleCol:{w:"44%",h:"200px",borderRadius:"16px",borderWidth:"1px",borderColor:"#9999992B",overflow:"hidden",mb:"2vw"},popContentStyle:{borderRadius:"0",width:"100%",background:"#FFFFFF",border:"0px"},colOptionText:{fontSize:"12px"},cancelButton:{bg:"light",color:"dark",h:"40px",borderWidth:1,mt:"6px"},nextButton:{mt:"20px",color:"white",h:"40px",borderRadius:0,_hover:{bg:"dark"},bg:"dark"},editProfileButton:{borderRadius:"30px",alignSelf:"flex-start",top:"20%",borderColor:"dark"},newCollectionInput:{mt:"10px",h:"40px",borderRadius:0,_placeholder:{color:"#cfcfcf"}},iconCenter:{bg:"#f2f2f2",w:"40%",cursor:"pointer",h:"100%"},editIconStack:{bg:"light",py:"5%",pr:"20%",w:"15vw",borderRadius:"4px",boxShadow:"1px 2px 9px #00000035",pl:"5%"},imageDisplay:{h:"100%",bg:"grey",cursor:"pointer",w:"40%"},fontUnderline:{decoration:"underline"},nameStack:{ml:"5%",w:"60%"}});export{Fo as default};
