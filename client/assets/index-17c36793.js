import{r as s,_ as z,u as ke,a as Fe,d as u,aW as De,aX as Re,aY as ze,Z as Ee,aZ as Oe,a_ as Ie,j as e,ak as V,S as b,F as a,m as Le,h as v,i as k,M as Te,T as t,K as G,l as H,G as F,a$ as Me,b0 as Pe,b1 as _e,y as f,U as D,a5 as Y,b2 as Be,b3 as R,N as J,V as q,b4 as X,a9 as Ne,aa as Ae,ab as $e,am as We,C as Z,k as Ue,I as Ve,f as Ge,ay as He,az as Ye}from"./index-4302fa73.js";import{A as Je}from"./index.esm-537e7cd5.js";import{e as K}from"./empty-fb04a4d6.js";import{L as qe}from"./index-f4ee9d70.js";const Xe=s.lazy(()=>z(()=>import("./index-4302fa73.js").then(d=>d.cP),["assets/index-4302fa73.js","assets/index-ed5220eb.css"])),Ze=s.lazy(()=>z(()=>import("./index-3d27cf58.js"),["assets/index-3d27cf58.js","assets/index-4302fa73.js","assets/index-ed5220eb.css","assets/index-d018a494.js","assets/index-b8525ad7.js"])),Ke=s.lazy(()=>z(()=>import("./index-ce5365e7.js"),["assets/index-ce5365e7.js","assets/index-4302fa73.js","assets/index-ed5220eb.css"])),Qe=()=>{var M,P,_,B,N,A,$;let d=ke();const m=Fe(),Q=s.useRef(),{token:i}=u(o=>o.authReducer),{user_data:r}=u(o=>o.userReducer),{order_data:l,getOrder_loading:ee}=u(o=>o.orderReducer),{user_collection:oo,my_deals:so,my_deals_loading:oe,my_followed_brands:c}=u(o=>o.userReducer),{collection_data:g,collection_loading:to}=u(o=>o.collectionReducer);s.useEffect(()=>{i&&m(De({token:i}))},[i]),s.useEffect(()=>{i&&(m(Re({token:i})),m(ze({token:i})))},[]);const{isOpen:se,onOpen:E,onClose:w}=Ee(),{root:te,infoBox:ne,font1:re,font2:ae,editProfileText:ie,contain:no,smallerDesc:le,singleCol:O,popContentStyle:ro,colOptionText:ao,cancelButton:ce,nextButton:de,newCollectionInput:xe,editProfileButton:he,iconCenter:pe,editIconStack:io,imageDisplay:ue,fontUnderline:fe,nameStack:me}=eo(),[je]=Oe();Ie();const[be,I]=s.useState(!1),[lo,ge]=s.useState(""),[j,L]=s.useState(""),[T,co]=s.useState(!1);s.useState(!1),s.useState([]);const[we,xo]=s.useState(null),[Se,Ce]=s.useState("");s.useEffect(()=>{const x=["January","February","March","April","May","June","July","August","September","October","November","December"][new Date().getMonth()];Ce(x)},[]);const S=[{id:"1",name:"My deals"},{id:"2",name:"My saved"},{id:"3",name:"My brands"}];async function ye(){j&&(I(!0),await je({name:j}).then(({data:o})=>{o.status===200&&(m(Ue({token:i})),w())}).catch(o=>{ge(o)}).finally(()=>{I(!1),L("")}))}function ve(){var o;return e.jsx(e.Fragment,{children:e.jsxs(a,{w:"100%",justify:"space-between",flexDir:"row",flexWrap:"wrap",children:[(o=g==null?void 0:g.collections)==null?void 0:o.map((n,x)=>{var h,p;return e.jsxs(a,{...O,children:[e.jsx(a,{...ue,flexDir:"row",wrap:"wrap",children:e.jsx(Ve,{h:"50%",w:"50%",src:n==null?void 0:n.image,fallbackSrc:Ge.appLogoPlaceholder},f())}),e.jsxs(v,{justify:"center",...me,children:[e.jsx(t,{noOfLines:1,fontSize:"18px",children:n==null?void 0:n.name}),e.jsxs(t,{color:"#999999",children:[(h=n.likes)==null?void 0:h.length," ",((p=n.likes)==null?void 0:p.length)>0?"items":"item"]})]}),e.jsx(a,{w:"10%",h:"15%",alignSelf:"center",children:e.jsx(He,{isLazy:!0,placement:"bottom",initialFocusRef:Q,children:({isOpen:C,onClose:y})=>e.jsx(e.Fragment,{children:e.jsx(Ye,{children:e.jsx(V,{as:"button",children:T&&n.id.toString()===we?e.jsx(b,{size:"sm"}):e.jsx(D,{w:"100%",h:"100%",as:Je})})})})})})]},f())}),e.jsxs(a,{...O,onClick:E,children:[e.jsx(Z,{...pe,flexDir:"row",flexWrap:"wrap",children:e.jsx(D,{w:"3vw",h:"3vw",as:Y})}),e.jsx(k,{ml:"5%",children:e.jsx(t,{children:"New collection"})})]})]})})}return e.jsxs(V,{w:"100%",h:"100vh",flexDir:"column",children:[e.jsx(s.Suspense,{fallback:e.jsx(b,{size:"sm"}),children:e.jsx(Xe,{})}),e.jsx(a,{flexDir:"column",children:e.jsx(Le,{children:e.jsxs(v,{...te,children:[e.jsxs(k,{...ne,bg:"#F2F2F2",children:[e.jsx(Te,{size:"xl",mr:"2%",name:`${(M=r==null?void 0:r.customer)==null?void 0:M.name}`,src:(P=r==null?void 0:r.customer)==null?void 0:P.profilePicture}),e.jsxs(v,{children:[e.jsx(t,{...re,textTransform:"uppercase",children:(_=r==null?void 0:r.customer)==null?void 0:_.name}),e.jsxs(t,{...ae,children:["Member since ",Se," ",new Date().getUTCFullYear()]})]}),e.jsx(G,{}),e.jsx(H,{variant:"outline",...he,onClick:()=>d(`${F}/settings`),children:e.jsx(t,{...ie,children:"Edit Profile"})})]}),e.jsxs(Me,{isLazy:!0,children:[e.jsxs(a,{flexDir:"row",w:"100%",children:[e.jsx(Pe,{children:S==null?void 0:S.map(o=>e.jsx(_e,{...le,_selected:{color:"black",borderColor:"black"},color:"#999999",children:e.jsx(t,{fontWeight:"700",children:o.name})},f()))}),e.jsx(G,{}),e.jsxs(k,{onClick:E,cursor:"pointer",children:[e.jsx(t,{fontWeight:"600",children:"New collection"}),e.jsx(D,{w:"30px",h:"30px",as:Y})]})]}),e.jsxs(Be,{children:[e.jsx(R,{px:0,children:e.jsx(s.Suspense,{fallback:e.jsx(b,{size:"sm"}),children:((B=l==null?void 0:l.orders)==null?void 0:B.length)>0?e.jsx(e.Fragment,{children:(N=l==null?void 0:l.orders)==null?void 0:N.map(o=>{var n,x,h,p,C,y,W,U;return e.jsx(J,{isLoaded:!ee,mb:"2px",children:e.jsx(Ze,{name:(n=o==null?void 0:o.offer)==null?void 0:n.name,price:Number((x=o==null?void 0:o.offer)==null?void 0:x.originalPrice),token:`${(h=o==null?void 0:o.offer)==null?void 0:h.tokens} ${(C=(p=o==null?void 0:o.offer)==null?void 0:p.reward)==null?void 0:C.rewardSymbol}`,quantity:o==null?void 0:o.quantity,date:(y=o==null?void 0:o.offer)==null?void 0:y.updatedAt,expired:!1,image:(U=(W=o==null?void 0:o.offer)==null?void 0:W.offerImages[0])==null?void 0:U.url,rest:{...o}})},f())})}):e.jsxs(q,{children:[e.jsx(a,{w:"500px",h:"500px",children:e.jsx(X,{animationData:K,loop:!0,autoplay:!0,width:50,height:70})}),e.jsxs(t,{children:["You currently have no deals,"," ",e.jsx(t,{as:"button",onClick:()=>d(`${F}/dashboard/category`),...fe,children:"Explore your favorite deals to purchase"})]})]})})}),e.jsx(R,{px:0,children:ve()}),e.jsx(R,{px:0,children:e.jsx(s.Suspense,{fallback:e.jsx(b,{size:"sm"}),children:((A=c==null?void 0:c.following)==null?void 0:A.length)>0?e.jsx(e.Fragment,{children:($=c==null?void 0:c.following)==null?void 0:$.map(o=>e.jsx(J,{isLoaded:!oe,mb:"2px",children:e.jsx(Ke,{item:{...o}},f())}))}):e.jsxs(q,{children:[e.jsx(a,{w:"400px",h:"400px",children:e.jsx(X,{animationData:K,loop:!0,autoplay:!0,width:50,height:70})}),e.jsxs(t,{children:["You currently have followed brands,"," ",e.jsx(t,{as:"button",onClick:()=>d(`${F}/dashboard/shop`),children:"Explore your favorite brands"})]})]})})})]})]})]})})}),e.jsxs(Ne,{isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:se,size:"xl",onClose:w,motionPreset:"slideInBottom",closeOnOverlayClick:!1,children:[e.jsx(Ae,{}),e.jsxs($e,{w:{base:"90vw",md:"30vw"},h:"15vw",borderRadius:0,p:"1%",children:[e.jsx(t,{children:"Create new collection"}),e.jsx(We,{variant:"outline",...xe,placeholder:"Collection name",value:j,onChange:({target:o})=>{L(o.value)}}),e.jsx(H,{isLoading:be,...de,onClick:ye,disabled:!j,children:e.jsx(t,{children:"Next"})}),e.jsx(Z,{...ce,onClick:w,as:"button",children:e.jsx(t,{children:"Cancel"})})]})]}),T&&e.jsx(qe,{})]})},mo=Qe,eo=()=>({root:{w:"100%",mt:"108px",pt:"3%",overflow:"hidden"},infoBox:{w:"100%",h:"150px",px:"2%",borderRadius:"16px"},root2:{w:"1440px",h:"248px",mt:"1px"},font1:{fontSize:"24px",color:"#000000"},font2:{fontSize:"16px",color:"#999999"},editProfileText:{fontSize:"14px"},button:{w:"150px",h:"47px",borderRadius:"0px",background:"#000000",fontSize:"18px",lineHeight:"22px",color:"#FFFFFF"},contain:{w:"100%",h:"64px",mt:"297px"},head:{fontSize:{base:"18px",md:"20px"}},smallerDesc:{fontSize:{base:"10px",md:"16px"}},container:{w:"100px",_hover:{background:"black",color:"white"}},search:{w:"240px",h:"40px",background:"#F6F6F6",borderRadius:"53px"},font:{fontSize:"16px",lineHeight:"19px",_hover:{color:"#FFFFFF"}},popfont:{fontSize:"12px",lineHeight:"14px",color:"#999999"},singleCol:{w:"44%",h:"200px",borderRadius:"16px",borderWidth:"1px",borderColor:"#9999992B",overflow:"hidden",mb:"2vw"},popContentStyle:{borderRadius:"0",width:"100%",background:"#FFFFFF",border:"0px"},colOptionText:{fontSize:"12px"},cancelButton:{bg:"light",color:"dark",h:"40px",borderWidth:1,mt:"6px"},nextButton:{mt:"20px",color:"white",h:"40px",borderRadius:0,_hover:{bg:"dark"},bg:"dark"},editProfileButton:{borderRadius:"30px",alignSelf:"flex-start",top:"20%",borderColor:"dark"},newCollectionInput:{mt:"10px",h:"40px",borderRadius:0,_placeholder:{color:"#cfcfcf"}},iconCenter:{bg:"#f2f2f2",w:"40%",cursor:"pointer",h:"100%"},editIconStack:{bg:"light",py:"5%",pr:"20%",w:"15vw",borderRadius:"4px",boxShadow:"1px 2px 9px #00000035",pl:"5%"},imageDisplay:{h:"100%",bg:"grey",cursor:"pointer",w:"40%"},fontUnderline:{decoration:"underline"},nameStack:{ml:"5%",w:"60%"}});export{mo as default};
