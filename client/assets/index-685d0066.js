import{aD as ot,r as o,_ as W,u as st,a as at,d as w,cg as rt,b as it,b3 as _,b2 as lt,bk as ct,N as de,ch as dt,ci as xt,j as e,X as F,S as L,F as l,m as ht,h as z,i as h,a0 as ut,T as s,y as pt,w as I,l as A,G as $,a_ as ft,a$ as mt,b0 as jt,q as f,A as v,$ as xe,cj as gt,ck as H,a8 as bt,cl as wt,v as he,V as ue,z as pe,a1 as fe,a2 as me,a3 as je,ah as vt,C as G,H as Ct,ad as St,U as ge,I as be,f as we,aG as kt,aH as Pt,aI as yt}from"./index-805c2800.js";import{e as ve}from"./empty-fb04a4d6.js";import{S as Dt}from"./chunk-3RSXBRAN-ac8942a7.js";function Ft(i){return ot({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M176 511a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm280 0a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm280 0a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"}}]})(i)}function Lt(i=10){const d=[10,20,50],[u,c]=o.useState(i);return{pagLimit:u,availableLimits:d,handleLimitChange:x=>{c(x)}}}const zt=({total:i,page:d,limit:u})=>({getPaginationInfo:()=>{const r=(d-1)*u+1,x=Math.min(d*u,i);return`${r} to ${x} of ${i}`}}),It=o.lazy(()=>W(()=>import("./index-805c2800.js").then(i=>i.di),["assets/index-805c2800.js","assets/index-00bfa456.css"])),Ot=o.lazy(()=>W(()=>import("./index-5f6f4cf3.js"),["assets/index-5f6f4cf3.js","assets/index-805c2800.js","assets/index-00bfa456.css"])),Mt=o.lazy(()=>W(()=>import("./index-47fad98d.js"),["assets/index-47fad98d.js","assets/index-805c2800.js","assets/index-00bfa456.css"])),Rt=()=>{var ne,oe,se,ae,re,ie,le,ce;let i=st();const d=at(),u=o.useRef(),{token:c}=w(t=>t.authReducer),{user_data:r}=w(t=>t.userReducer),{order_data:x,getOrder_loading:Y}=w(t=>t.orderReducer),[Ce]=rt(),Se=Ce.get("tab"),V=it(),[O,U]=o.useState(1),[m,ke]=o.useState(10),{availableLimits:Pe,handleLimitChange:ye}=Lt(m),[a,De]=o.useState({nextPage:null,prevPage:null,total:0}),{my_deals_loading:Fe,my_followed_brands:p}=w(t=>t.userReducer),{collection_data:M,collection_loading:Et}=w(t=>t.collectionReducer);o.useEffect(()=>{c&&d(_({token:c}))},[c]),o.useEffect(()=>{c&&((async()=>{const{payload:t,error:n}=await d(lt({token:c,page:O,limit:m}));t&&De({...a,total:t==null?void 0:t.total,nextPage:t==null?void 0:t.nextPage,prevPage:t==null?void 0:t.previousPage})})(),d(ct({token:c})))},[O,m]);const Le=()=>{a!=null&&a.nextPage&&U(a==null?void 0:a.nextPage)},ze=()=>{a!=null&&a.prevPage&&U(a==null?void 0:a.prevPage)},{getPaginationInfo:Ie}=zt({page:O,total:a==null?void 0:a.total,limit:m}),{isOpen:Oe,onOpen:q,onClose:C}=de(),{isOpen:Me,onOpen:Re,onClose:R}=de(),{root:Te,infoBox:Ee,font1:Be,font2:Ne,editProfileText:_e,contain:Bt,smallerDesc:Ae,singleCol:J,popContentStyle:$e,colOptionText:He,cancelButton:X,nextButton:K,newCollectionInput:Ge,editProfileButton:We,iconCenter:Ye,editIconStack:Ve,imageDisplay:Ue,fontUnderline:qe,nameStack:Je}=Tt(),[Xe]=dt(),[Ke]=xt(),[Qe,Q]=o.useState(!1),[Nt,Z]=o.useState(""),[S,ee]=o.useState(""),[T,te]=o.useState(!1);o.useState(!1),o.useState([]);const[k,E]=o.useState(null),[_t,Ze]=o.useState("");o.useEffect(()=>{const j=["January","February","March","April","May","June","July","August","September","October","November","December"][new Date().getMonth()];Ze(j)},[]);const B=[{id:"1",name:"My deals"},{id:"2",name:"My saved"},{id:"3",name:"My brands"}];async function et(){S&&(Q(!0),await Xe({name:S}).then(({data:t})=>{d(_({token:c})),ge(V,"Collection added successfully"),C()}).catch(t=>{Z(t)}).finally(()=>{Q(!1),ee("")}))}async function tt(t){te(!0),E(t),await Ke(t).then(({data:n})=>{d(_({token:c})),ge(V,"Collection deleted successfully"),C()}).catch(n=>{Z(n)}).finally(()=>{R(),te(!1),E(null)})}function nt(){var t;return e.jsx(e.Fragment,{children:e.jsxs(l,{w:"100%",justify:"space-between",flexDir:["column","row"],flexWrap:"wrap",children:[(t=M==null?void 0:M.collections)==null?void 0:t.map((n,j)=>{var g,b;return e.jsxs(l,{...J,children:[e.jsx(l,{...Ue,flexDir:"row",wrap:"wrap",as:"button",onClick:()=>i(`${n==null?void 0:n.id}`,{state:{id:n==null?void 0:n.name}}),children:e.jsx(be,{src:n==null?void 0:n.image,objectFit:"contain",fallbackSrc:we.appLogoPlaceholder},f())}),e.jsxs(z,{justify:"center",...Je,children:[e.jsx(s,{noOfLines:1,fontSize:"18px",children:n==null?void 0:n.name}),e.jsxs(s,{color:"#999999",children:[(g=n.likes)==null?void 0:g.length," ",((b=n.likes)==null?void 0:b.length)>0?"items":"item"]})]}),e.jsx(l,{w:"10%",h:"15%",alignSelf:"center",children:e.jsx(kt,{isLazy:!0,placement:"bottom",children:({isOpen:N,onClose:P})=>e.jsxs(e.Fragment,{children:[e.jsx(Pt,{children:e.jsx(F,{as:"button",children:T&&n.id===k?e.jsx(L,{size:"sm"}):e.jsx(v,{w:"100%",h:"100%",as:Ft})})}),e.jsx(F,{as:"button",textAlign:"left",children:e.jsx(yt,{ref:u,onClick:P,...$e,children:e.jsx(z,{...Ve,children:["Delete"].map((y,D)=>e.jsxs(l,{as:"button",flexDir:"row",align:"center",onClick:()=>{D===1?i(`${n==null?void 0:n.id}`,{state:{id:n==null?void 0:n.id}}):E((n==null?void 0:n.id)??null),Re()},children:[e.jsx(be,{w:"8%",h:"8%",src:we.edit_Icon,mr:"5%"}),e.jsx(s,{...He,children:y})]},f()))})})})]})})})]},f())}),e.jsxs(l,{...J,onClick:q,children:[e.jsx(G,{...Ye,flexDir:"row",flexWrap:"wrap",children:e.jsx(v,{w:"3vw",h:"3vw",as:xe})}),e.jsx(h,{ml:"5%",children:e.jsx(s,{children:"New collection"})})]})]})})}return e.jsxs(F,{w:"100%",h:"100vh",flexDir:"column",children:[e.jsx(o.Suspense,{fallback:e.jsx(L,{size:"sm"}),children:e.jsx(It,{})}),e.jsx(l,{flexDir:"column",children:e.jsx(ht,{children:e.jsxs(z,{...Te,children:[e.jsxs(l,{flexDir:["column","row"],justifyContent:["center","space-between"],...Ee,bg:"#F2F2F2",children:[e.jsxs(h,{gap:["2","5"],children:[e.jsx(ut,{size:["lg","xl"],mr:"2%",name:`${(ne=r==null?void 0:r.customer)==null?void 0:ne.name}`,src:(oe=r==null?void 0:r.customer)==null?void 0:oe.profilePicture}),e.jsxs(z,{gap:[0,1],children:[e.jsx(s,{...Be,textTransform:"uppercase",children:(se=r==null?void 0:r.customer)==null?void 0:se.name}),e.jsxs(s,{...Ne,children:["Member since"," ",pt((ae=r==null?void 0:r.customer)==null?void 0:ae.createdAt).format("DD MMM YYYY")]})]}),e.jsx(I,{})]}),e.jsx(F,{pt:["10px","0px"],children:e.jsx(A,{variant:"outline",...We,onClick:()=>i(`${$}/settings`),children:e.jsx(s,{..._e,children:"Edit Profile"})})})]}),e.jsxs(ft,{isLazy:!0,defaultIndex:Se==="saved"?1:0,children:[e.jsxs(l,{flexDir:["column","row"],w:"100%",children:[e.jsx(mt,{children:B==null?void 0:B.map(t=>e.jsx(jt,{...Ae,_selected:{color:"black",borderColor:"black"},color:"#999999",children:e.jsx(s,{fontWeight:"700",children:t.name})},f()))}),e.jsx(I,{}),e.jsxs(h,{display:["none","flex"],children:[e.jsxs(h,{onClick:q,cursor:"pointer",children:[e.jsx(s,{fontSize:["13px","16px"],fontWeight:"600",children:"New collection"}),e.jsx(v,{w:["20px","30px"],h:["20px","30px"],as:xe})]}),e.jsx(I,{}),e.jsx(I,{})]})]}),e.jsxs(gt,{children:[e.jsx(H,{px:0,children:e.jsxs(o.Suspense,{fallback:e.jsx(L,{size:"sm"}),children:[e.jsxs(h,{children:[e.jsx(s,{children:"Page:"}),e.jsxs(h,{color:"#999999",ml:"5px",children:[e.jsx(s,{noOfLines:1,children:Ie()}),e.jsx(l,{disabled:!a.prevPage,as:"button",ml:"5px",onClick:ze,_hover:{color:"black"},children:e.jsx(v,{as:bt,size:15})}),e.jsx(l,{disabled:!a.nextPage,as:"button",onClick:Le,_hover:{color:"black"},children:e.jsx(v,{as:wt,size:15})})]}),e.jsx(h,{display:["none","flex"],children:e.jsx(Dt,{value:m,onChange:t=>{ke(Number(t.target.value)),ye(Number(t.target.value))},w:"auto",fontSize:"14px",borderRadius:"12px",border:"0.5px solid grey ",_focus:{border:"1px solid grey",outline:"none",boxShadow:"none"},color:"gray.600",children:Pe.map(t=>e.jsxs("option",{value:t,children:[t," limit per page"]},t))})})]}),((re=x==null?void 0:x.orders)==null?void 0:re.length)>0?e.jsx(e.Fragment,{children:(ie=x==null?void 0:x.orders)==null?void 0:ie.map(t=>{var n,j,g,b,N,P,y,D;return e.jsx(he,{isLoaded:!Y,mb:"2px",children:e.jsx(Ot,{name:(n=t==null?void 0:t.offer)==null?void 0:n.name,price:Number((j=t==null?void 0:t.offer)==null?void 0:j.originalPrice),token:`${(g=t==null?void 0:t.offer)==null?void 0:g.tokens} ${(N=(b=t==null?void 0:t.offer)==null?void 0:b.reward)==null?void 0:N.rewardSymbol}`,quantity:t==null?void 0:t.quantity,date:(P=t==null?void 0:t.offer)==null?void 0:P.updatedAt,expired:!1,image:(D=(y=t==null?void 0:t.offer)==null?void 0:y.offerImages[0])==null?void 0:D.url,rest:{...t}})},f())})}):e.jsxs(ue,{children:[e.jsx(l,{w:"500px",h:"500px",children:e.jsx(pe,{animationData:ve,loop:!0,autoplay:!0,width:50,height:70})}),e.jsxs(s,{children:["You currently have no deals,"," ",e.jsx(s,{as:"button",onClick:()=>i(`${$}/dashboard/category`),...qe,children:"Explore your favorite deals to purchase"})]})]})]})}),e.jsx(H,{px:0,children:nt()}),e.jsx(H,{px:0,children:e.jsx(o.Suspense,{fallback:e.jsx(L,{size:"sm"}),children:((le=p==null?void 0:p.following)==null?void 0:le.length)>0?e.jsx(e.Fragment,{children:(ce=p==null?void 0:p.following)==null?void 0:ce.map(t=>e.jsx(he,{isLoaded:!Fe,mb:"2px",children:e.jsx(Mt,{item:{...t}},f())}))}):e.jsxs(ue,{children:[e.jsx(l,{w:"400px",h:"400px",children:e.jsx(pe,{animationData:ve,loop:!0,autoplay:!0,width:50,height:70})}),e.jsxs(s,{children:["You currently have followed brands,"," ",e.jsx(s,{as:"button",textDecor:"underline",onClick:()=>i(`${$}/dashboard/shop`),children:"Explore your favorite brands"})]})]})})})]})]})]})})}),e.jsxs(fe,{isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:Oe,size:"xl",onClose:C,motionPreset:"slideInBottom",closeOnOverlayClick:!1,children:[e.jsx(me,{}),e.jsxs(je,{w:{base:"90vw",md:"30vw"},h:"15vw",borderRadius:0,p:"1%",children:[e.jsx(s,{children:"Create new collection"}),e.jsx(vt,{variant:"outline",...Ge,placeholder:"Collection name",value:S,onChange:({target:t})=>{ee(t.value)}}),e.jsx(A,{isLoading:Qe,...K,onClick:et,disabled:!S,children:e.jsx(s,{children:"Create"})}),e.jsx(G,{...X,onClick:C,as:"button",children:e.jsx(s,{children:"Cancel"})})]})]}),e.jsxs(fe,{isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:Me,size:"xl",onClose:R,motionPreset:"slideInBottom",closeOnOverlayClick:!1,children:[e.jsx(me,{}),e.jsxs(je,{w:{base:"90vw",md:"30vw"},h:"15vw",borderRadius:0,p:"1%",children:[e.jsxs(Ct,{mb:3,fontSize:"sm",children:["Delete collection"," "]}),e.jsx(s,{children:"Are you sure you want to delete this collection? This action cannot be undone."}),e.jsx(A,{isLoading:!!k&&T,...K,bg:"red.600",onClick:()=>tt(k),isDisabled:!k,children:e.jsx(s,{children:"Delete"})}),e.jsx(G,{...X,onClick:R,as:"button",children:e.jsx(s,{children:"Cancel"})})]})]}),T&&e.jsx(St,{})]})},Gt=Rt,Tt=()=>({root:{w:"100%",mt:["80px","108px"],pt:"3%",overflow:"hidden"},infoBox:{w:"100%",h:["170px","150px"],px:"2%",borderRadius:"16px"},root2:{w:"1440px",h:"248px",mt:"1px"},font1:{fontSize:["16px","24px"],color:"#000000"},font2:{fontSize:"16px",color:"#999999"},editProfileText:{fontSize:"14px"},button:{w:"150px",h:"47px",borderRadius:"0px",background:"#000000",fontSize:"18px",lineHeight:"22px",color:"#FFFFFF"},contain:{w:"100%",h:"64px",mt:"297px"},head:{fontSize:{base:"18px",md:"20px"}},smallerDesc:{fontSize:{base:"14px",md:"16px"}},container:{w:"100px",_hover:{background:"black",color:"white"}},search:{w:"240px",h:"40px",background:"#F6F6F6",borderRadius:"53px"},font:{fontSize:"16px",lineHeight:"19px",_hover:{color:"#FFFFFF"}},popfont:{fontSize:"12px",lineHeight:"14px",color:"#999999"},singleCol:{w:["100%","44%"],h:["150px","200px"],borderRadius:"16px",borderWidth:"1px",borderColor:"#9999992B",overflow:"hidden",mb:"2vw"},popContentStyle:{borderRadius:"0",width:"100%",background:"#FFFFFF",border:"0px"},colOptionText:{fontSize:"12px"},cancelButton:{bg:"light",color:"dark",h:"40px",borderWidth:1,mt:"6px"},nextButton:{mt:"20px",color:"white",h:"40px",borderRadius:0,_hover:{bg:"dark"},bg:"dark"},editProfileButton:{borderRadius:"30px",alignSelf:"flex-start",top:"20%",borderColor:"dark"},newCollectionInput:{mt:"10px",h:"40px",borderRadius:0,_placeholder:{color:"#cfcfcf"}},iconCenter:{bg:"#f2f2f2",w:"40%",cursor:"pointer",h:"100%"},editIconStack:{bg:"light",py:"5%",pr:"20%",w:"15vw",borderRadius:"4px",boxShadow:"1px 2px 9px #00000035",pl:"5%"},imageDisplay:{h:"100%",bg:"grey",cursor:"pointer",w:"40%"},fontUnderline:{decoration:"underline"},nameStack:{ml:"5%",w:"60%"}});export{Gt as default};
