import{r as t,_,u as Ge,a as Ye,d as m,aW as Je,b as qe,aX as I,aY as Xe,aZ as Ze,Z as se,a_ as Ke,a$ as Qe,j as e,ak as M,S as v,F as r,m as eo,h as y,i as P,M as oo,T as n,K as ne,l as T,G as E,b0 as so,b1 as no,b2 as to,y as x,U as L,a5 as te,b3 as ro,b4 as B,N as re,V as ae,b5 as le,a9 as ie,aa as ce,ab as de,am as ao,C as A,H as lo,a1 as xe,I as he,f as pe,ay as io,az as co,aA as xo}from"./index-43f03252.js";import{A as ho}from"./index.esm-7d2072ad.js";import{e as ue}from"./empty-fb04a4d6.js";import{L as po}from"./index-8e328a88.js";const uo=t.lazy(()=>_(()=>import("./index-43f03252.js").then(i=>i.cR),["assets/index-43f03252.js","assets/index-ed5220eb.css"])),fo=t.lazy(()=>_(()=>import("./index-6fc69be8.js"),["assets/index-6fc69be8.js","assets/index-43f03252.js","assets/index-ed5220eb.css","assets/index-b4d8fd8f.js","assets/index-dfa709cc.js"])),mo=t.lazy(()=>_(()=>import("./index-6bc0f619.js"),["assets/index-6bc0f619.js","assets/index-43f03252.js","assets/index-ed5220eb.css"])),jo=()=>{var q,X,Z,K,Q,ee,oe;let i=Ge();const h=Ye(),fe=t.useRef(),{token:l}=m(o=>o.authReducer),{user_data:a}=m(o=>o.userReducer),{order_data:c,getOrder_loading:me}=m(o=>o.orderReducer),[je]=Je(),be=je.get("tab"),N=qe(),{my_deals_loading:ge,my_followed_brands:d}=m(o=>o.userReducer),{collection_data:k,collection_loading:go}=m(o=>o.collectionReducer);t.useEffect(()=>{l&&h(I({token:l}))},[l]),t.useEffect(()=>{l&&(h(Xe({token:l})),h(Ze({token:l})))},[]);const{isOpen:we,onOpen:$,onClose:j}=se(),{isOpen:Ce,onOpen:Se,onClose:F}=se(),{root:ve,infoBox:ye,font1:ke,font2:Fe,editProfileText:De,contain:wo,smallerDesc:Oe,singleCol:W,popContentStyle:Re,colOptionText:ze,cancelButton:H,nextButton:U,newCollectionInput:Ie,editProfileButton:Me,iconCenter:Pe,editIconStack:Te,imageDisplay:Ee,fontUnderline:Le,nameStack:Be}=bo(),[Ae]=Ke(),[_e]=Qe(),[Ne,V]=t.useState(!1),[Co,G]=t.useState(""),[b,Y]=t.useState(""),[D,J]=t.useState(!1);t.useState(!1),t.useState([]);const[g,O]=t.useState(null),[$e,We]=t.useState("");t.useEffect(()=>{const p=["January","February","March","April","May","June","July","August","September","October","November","December"][new Date().getMonth()];We(p)},[]);const R=[{id:"1",name:"My deals"},{id:"2",name:"My saved"},{id:"3",name:"My brands"}];async function He(){b&&(V(!0),await Ae({name:b}).then(({data:o})=>{h(I({token:l})),xe(N,"Collection added successfully"),j()}).catch(o=>{G(o)}).finally(()=>{V(!1),Y("")}))}async function Ue(o){J(!0),O(o),await _e(o).then(({data:s})=>{h(I({token:l})),xe(N,"Collection deleted successfully"),j()}).catch(s=>{G(s)}).finally(()=>{F(),J(!1),O(null)})}function Ve(){var o;return e.jsx(e.Fragment,{children:e.jsxs(r,{w:"100%",justify:"space-between",flexDir:"row",flexWrap:"wrap",children:[(o=k==null?void 0:k.collections)==null?void 0:o.map((s,p)=>{var u,f;return e.jsxs(r,{...W,children:[e.jsx(r,{...Ee,flexDir:"row",wrap:"wrap",children:e.jsx(he,{src:s==null?void 0:s.image,objectFit:"contain",fallbackSrc:pe.appLogoPlaceholder},x())}),e.jsxs(y,{justify:"center",...Be,children:[e.jsx(n,{noOfLines:1,fontSize:"18px",children:s==null?void 0:s.name}),e.jsxs(n,{color:"#999999",children:[(u=s.likes)==null?void 0:u.length," ",((f=s.likes)==null?void 0:f.length)>0?"items":"item"]})]}),e.jsx(r,{w:"10%",h:"15%",alignSelf:"center",children:e.jsx(io,{isLazy:!0,placement:"bottom",children:({isOpen:z,onClose:w})=>e.jsxs(e.Fragment,{children:[e.jsx(co,{children:e.jsx(M,{as:"button",children:D&&s.id===g?e.jsx(v,{size:"sm"}):e.jsx(L,{w:"100%",h:"100%",as:ho})})}),e.jsx(M,{as:"button",textAlign:"left",children:e.jsx(xo,{ref:fe,onClick:w,...Re,children:e.jsx(y,{...Te,children:["Delete"].map((C,S)=>e.jsxs(r,{as:"button",flexDir:"row",align:"center",onClick:()=>{S===1?i(`${s==null?void 0:s.id}`,{state:{id:s==null?void 0:s.id}}):O((s==null?void 0:s.id)??null),Se()},children:[e.jsx(he,{w:"8%",h:"8%",src:pe.edit_Icon,mr:"5%"}),e.jsx(n,{...ze,children:C})]},x()))})})})]})})})]},x())}),e.jsxs(r,{...W,onClick:$,children:[e.jsx(A,{...Pe,flexDir:"row",flexWrap:"wrap",children:e.jsx(L,{w:"3vw",h:"3vw",as:te})}),e.jsx(P,{ml:"5%",children:e.jsx(n,{children:"New collection"})})]})]})})}return e.jsxs(M,{w:"100%",h:"100vh",flexDir:"column",children:[e.jsx(t.Suspense,{fallback:e.jsx(v,{size:"sm"}),children:e.jsx(uo,{})}),e.jsx(r,{flexDir:"column",children:e.jsx(eo,{children:e.jsxs(y,{...ve,children:[e.jsxs(P,{...ye,bg:"#F2F2F2",children:[e.jsx(oo,{size:"xl",mr:"2%",name:`${(q=a==null?void 0:a.customer)==null?void 0:q.name}`,src:(X=a==null?void 0:a.customer)==null?void 0:X.profilePicture}),e.jsxs(y,{children:[e.jsx(n,{...ke,textTransform:"uppercase",children:(Z=a==null?void 0:a.customer)==null?void 0:Z.name}),e.jsxs(n,{...Fe,children:["Member since ",$e," ",new Date().getUTCFullYear()]})]}),e.jsx(ne,{}),e.jsx(T,{variant:"outline",...Me,onClick:()=>i(`${E}/settings`),children:e.jsx(n,{...De,children:"Edit Profile"})})]}),e.jsxs(so,{isLazy:!0,defaultIndex:be==="saved"?1:0,children:[e.jsxs(r,{flexDir:"row",w:"100%",children:[e.jsx(no,{children:R==null?void 0:R.map(o=>e.jsx(to,{...Oe,_selected:{color:"black",borderColor:"black"},color:"#999999",children:e.jsx(n,{fontWeight:"700",children:o.name})},x()))}),e.jsx(ne,{}),e.jsxs(P,{onClick:$,cursor:"pointer",children:[e.jsx(n,{fontWeight:"600",children:"New collection"}),e.jsx(L,{w:"30px",h:"30px",as:te})]})]}),e.jsxs(ro,{children:[e.jsx(B,{px:0,children:e.jsx(t.Suspense,{fallback:e.jsx(v,{size:"sm"}),children:((K=c==null?void 0:c.orders)==null?void 0:K.length)>0?e.jsx(e.Fragment,{children:(Q=c==null?void 0:c.orders)==null?void 0:Q.map(o=>{var s,p,u,f,z,w,C,S;return e.jsx(re,{isLoaded:!me,mb:"2px",children:e.jsx(fo,{name:(s=o==null?void 0:o.offer)==null?void 0:s.name,price:Number((p=o==null?void 0:o.offer)==null?void 0:p.originalPrice),token:`${(u=o==null?void 0:o.offer)==null?void 0:u.tokens} ${(z=(f=o==null?void 0:o.offer)==null?void 0:f.reward)==null?void 0:z.rewardSymbol}`,quantity:o==null?void 0:o.quantity,date:(w=o==null?void 0:o.offer)==null?void 0:w.updatedAt,expired:!1,image:(S=(C=o==null?void 0:o.offer)==null?void 0:C.offerImages[0])==null?void 0:S.url,rest:{...o}})},x())})}):e.jsxs(ae,{children:[e.jsx(r,{w:"500px",h:"500px",children:e.jsx(le,{animationData:ue,loop:!0,autoplay:!0,width:50,height:70})}),e.jsxs(n,{children:["You currently have no deals,"," ",e.jsx(n,{as:"button",onClick:()=>i(`${E}/dashboard/category`),...Le,children:"Explore your favorite deals to purchase"})]})]})})}),e.jsx(B,{px:0,children:Ve()}),e.jsx(B,{px:0,children:e.jsx(t.Suspense,{fallback:e.jsx(v,{size:"sm"}),children:((ee=d==null?void 0:d.following)==null?void 0:ee.length)>0?e.jsx(e.Fragment,{children:(oe=d==null?void 0:d.following)==null?void 0:oe.map(o=>e.jsx(re,{isLoaded:!ge,mb:"2px",children:e.jsx(mo,{item:{...o}},x())}))}):e.jsxs(ae,{children:[e.jsx(r,{w:"400px",h:"400px",children:e.jsx(le,{animationData:ue,loop:!0,autoplay:!0,width:50,height:70})}),e.jsxs(n,{children:["You currently have followed brands,"," ",e.jsx(n,{as:"button",onClick:()=>i(`${E}/dashboard/shop`),children:"Explore your favorite brands"})]})]})})})]})]})]})})}),e.jsxs(ie,{isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:we,size:"xl",onClose:j,motionPreset:"slideInBottom",closeOnOverlayClick:!1,children:[e.jsx(ce,{}),e.jsxs(de,{w:{base:"90vw",md:"30vw"},h:"15vw",borderRadius:0,p:"1%",children:[e.jsx(n,{children:"Create new collection"}),e.jsx(ao,{variant:"outline",...Ie,placeholder:"Collection name",value:b,onChange:({target:o})=>{Y(o.value)}}),e.jsx(T,{isLoading:Ne,...U,onClick:He,disabled:!b,children:e.jsx(n,{children:"Next"})}),e.jsx(A,{...H,onClick:j,as:"button",children:e.jsx(n,{children:"Cancel"})})]})]}),e.jsxs(ie,{isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:Ce,size:"xl",onClose:F,motionPreset:"slideInBottom",closeOnOverlayClick:!1,children:[e.jsx(ce,{}),e.jsxs(de,{w:{base:"90vw",md:"30vw"},h:"15vw",borderRadius:0,p:"1%",children:[e.jsxs(lo,{mb:3,fontSize:"sm",children:["Delete collection"," "]}),e.jsx(n,{children:"Are you sure you want to delete this collection? This action cannot be undone."}),e.jsx(T,{isLoading:!!g&&D,...U,bg:"red.600",onClick:()=>Ue(g),isDisabled:!g,children:e.jsx(n,{children:"Delete"})}),e.jsx(A,{...H,onClick:F,as:"button",children:e.jsx(n,{children:"Cancel"})})]})]}),D&&e.jsx(po,{})]})},Fo=jo,bo=()=>({root:{w:"100%",mt:"108px",pt:"3%",overflow:"hidden"},infoBox:{w:"100%",h:"150px",px:"2%",borderRadius:"16px"},root2:{w:"1440px",h:"248px",mt:"1px"},font1:{fontSize:"24px",color:"#000000"},font2:{fontSize:"16px",color:"#999999"},editProfileText:{fontSize:"14px"},button:{w:"150px",h:"47px",borderRadius:"0px",background:"#000000",fontSize:"18px",lineHeight:"22px",color:"#FFFFFF"},contain:{w:"100%",h:"64px",mt:"297px"},head:{fontSize:{base:"18px",md:"20px"}},smallerDesc:{fontSize:{base:"10px",md:"16px"}},container:{w:"100px",_hover:{background:"black",color:"white"}},search:{w:"240px",h:"40px",background:"#F6F6F6",borderRadius:"53px"},font:{fontSize:"16px",lineHeight:"19px",_hover:{color:"#FFFFFF"}},popfont:{fontSize:"12px",lineHeight:"14px",color:"#999999"},singleCol:{w:"44%",h:"200px",borderRadius:"16px",borderWidth:"1px",borderColor:"#9999992B",overflow:"hidden",mb:"2vw"},popContentStyle:{borderRadius:"0",width:"100%",background:"#FFFFFF",border:"0px"},colOptionText:{fontSize:"12px"},cancelButton:{bg:"light",color:"dark",h:"40px",borderWidth:1,mt:"6px"},nextButton:{mt:"20px",color:"white",h:"40px",borderRadius:0,_hover:{bg:"dark"},bg:"dark"},editProfileButton:{borderRadius:"30px",alignSelf:"flex-start",top:"20%",borderColor:"dark"},newCollectionInput:{mt:"10px",h:"40px",borderRadius:0,_placeholder:{color:"#cfcfcf"}},iconCenter:{bg:"#f2f2f2",w:"40%",cursor:"pointer",h:"100%"},editIconStack:{bg:"light",py:"5%",pr:"20%",w:"15vw",borderRadius:"4px",boxShadow:"1px 2px 9px #00000035",pl:"5%"},imageDisplay:{h:"100%",bg:"grey",cursor:"pointer",w:"40%"},fontUnderline:{decoration:"underline"},nameStack:{ml:"5%",w:"60%"}});export{Fo as default};
