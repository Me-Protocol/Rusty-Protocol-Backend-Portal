import{r as n,_ as ce,K as pe,b as ue,a as he,d as N,at as xe,j as e,h as l,i as x,a7 as d,T as r,w as de,S as B,a0 as ge,aj as u,ai as _,ak as M,ax as W,W as K,g as $,B as me}from"./index-1c434c7b.js";const fe=n.lazy(()=>ce(()=>import("./index-2ed31925.js"),["assets/index-2ed31925.js","assets/index-1c434c7b.js","assets/index-56f23032.css","assets/countries-020c4914.js","assets/chunk-3RSXBRAN-b09b2060.js"])),je=()=>{var F,R,k,E,U,P,z,A;const{button:G,profileFont1:Y,profileFont2:Z,profileFont3:i,inputStyle:c}=O();pe();let b=ue();const w=he(),{countrySelect:V}=O(),{user_data:o}=N(t=>t.userReducer),{token:p}=N(t=>t.authReducer),[C]=xe(),[g,q]=n.useState(((F=o==null?void 0:o.customer)==null?void 0:F.location)||"United States of America"),[J,Q]=n.useState(),[v,X]=n.useState(),[ee,m]=n.useState(!1),[f,oe]=n.useState((R=o==null?void 0:o.customer)==null?void 0:R.height),[j,te]=n.useState((k=o==null?void 0:o.customer)==null?void 0:k.weight),[y,se]=n.useState((E=o==null?void 0:o.customer)==null?void 0:E.bio),[S,re]=n.useState((U=o==null?void 0:o.customer)==null?void 0:U.name);function ne(t){console.log(t.target.files),Q(URL.createObjectURL(t.target.files[0])),X(t.target.files[0])}console.log(o,"this is data");async function le(){const{signature:t,timestamp:h,cloudName:L,apiKey:ae}=await $.get(`${me}/upload/image-signature`,{headers:{Authorization:`Bearer ${p}`}}).then(({data:s})=>{var T,D,H,I;return{apiKey:(T=s==null?void 0:s.data)==null?void 0:T.apiKey,cloudName:(D=s==null?void 0:s.data)==null?void 0:D.cloudName,signature:(H=s==null?void 0:s.data)==null?void 0:H.signature,timestamp:(I=s==null?void 0:s.data)==null?void 0:I.timestamp}}),a=new FormData;return a.append("file",v),a.append("cloud_name",L),a.append("api_key",ae),a.append("timestamp",h),a.append("signature",t),$.post(`https://api.cloudinary.com/v1_1/${L}/upload`,a,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:s})=>(console.log(s,"pppp"),{secure_url:s==null?void 0:s.secure_url}))}async function ie(){if(m(!0),v){const{secure_url:t}=await le();await C({fullName:S,profilePicture:t,location:g,weight:j,height:f,bio:y}).then(({data:h})=>{p&&w(W({token:p})),K(b,"Profile updated successfully")}).catch(h=>{console.log(h,"UPDATeYUSERZRR")}).finally(()=>{m(!1)});return}await C({name:S,location:g,weight:j,height:f,bio:y}).then(({data:t})=>{p&&w(W({token:p})),K(b,"Profile updated successfully")}).catch(t=>{console.log(t,"UPDATeYUSERZRR")}).finally(()=>{m(!1)})}return e.jsxs(l,{children:[e.jsxs(x,{children:[e.jsx(d,{children:e.jsx(r,{...Y,children:"Edit Profile"})}),e.jsx(de,{}),e.jsx(d,{as:"button",...G,onClick:ie,children:e.jsx(r,{children:ee?e.jsx(B,{size:"xs"}):"Save"})})]}),e.jsxs(x,{py:"2%",children:[e.jsx(ge,{name:(P=o==null?void 0:o.customer)==null?void 0:P.name,src:J||((z=o==null?void 0:o.customer)==null?void 0:z.profilePicture)}),e.jsxs(l,{children:[e.jsx(r,{...Z,children:(A=o==null?void 0:o.customer)==null?void 0:A.name}),e.jsx(r,{...i,decoration:"underline",as:"button",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"image_uploads",style:{cursor:"pointer"},children:"Change profile photo"}),e.jsx("input",{type:"file",id:"image_uploads",name:"image_uploads",accept:".jpg, .jpeg, .png",style:{opacity:"0"},onChange:ne,placeholder:"Changle profile photo"})]})})]})]}),e.jsxs(l,{children:[e.jsxs(x,{w:"100%",children:[e.jsxs(l,{w:"25%",children:[e.jsx(r,{...i,ml:"0",children:"Full Name"}),e.jsx(u,{...c,placeholder:"Enter Full Name",value:S,onChange:({target:t})=>{re(t.value)},border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}})]}),e.jsxs(l,{w:"50%",children:[e.jsx(r,{...i,ml:"0",children:"Email"}),e.jsx(u,{...c,placeholder:"Enter Email",isDisabled:!0,value:o==null?void 0:o.email,border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}})]})]}),e.jsxs(x,{py:"20px",children:[e.jsxs(l,{w:"50%",children:[e.jsx(r,{...i,ml:"0",children:"Location"}),e.jsx(n.Suspense,{fallback:e.jsx(B,{size:"sm"}),children:e.jsx(fe,{value:g,onChange:t=>{q(t.target.value)},...V})})]}),e.jsxs(l,{w:"25%",children:[e.jsx(r,{...i,ml:"0",children:"Weight"}),e.jsxs(_,{children:[e.jsx(u,{type:"number",...c,placeholder:"Enter Weight",value:j,onChange:({target:t})=>{te(t.value)},border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}}),e.jsx(M,{mr:2,mt:1,fontSize:"6px",children:e.jsx(d,{children:e.jsx("span",{style:{fontSize:"12px"},children:"kg"})})})]})]}),e.jsxs(l,{w:"25%",children:[e.jsx(r,{...i,ml:"0",children:"Height"}),e.jsxs(_,{children:[e.jsx(M,{mr:2,mt:1,fontSize:"6px",children:e.jsx(d,{children:e.jsx("span",{style:{fontSize:"12px"},children:"cm"})})}),e.jsx(u,{...c,placeholder:"Enter Height",value:f,onChange:({target:t})=>{oe(t.value)},border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}})]})]})]}),e.jsxs(l,{children:[e.jsx(r,{...i,ml:"0",children:"Bio"}),e.jsx(u,{...c,p:"15px",as:"textarea",h:"100px",w:"100%",textAlign:"start",placeholder:"Express yourself.",noOfLines:5,_focus:{borderColor:"dark",boxShadow:"none"},value:y,onChange:({target:t})=>{se(t.value)},border:"1px solid rgba(0, 0, 0, 0.08)"})]})]})]})},Se=je,O=()=>({button:{display:"flex",alignItems:"center",justifyContent:"center",width:"71px",height:"42px",border:"1px solid #000000",borderRadius:"100px"},copyrightText:{color:"light",fontSize:["14px","16px","16px","14px","16px"]},countrySelect:{w:"100%",bg:"light",color:"dark",borderWidth:"1px",my:"30px",borderRadius:"0px",borderColor:"grey"},linksStyle:{color:"darkGrey"},profileFont1:{fontSize:"24px",lineHeight:"29px",color:"#000000"},profileFont2:{fontSize:"18px",lineHeight:"22px",color:"#000000"},profileFont3:{fontSize:"14px",lineHeight:"17px",color:"#000000",marginLeft:0,left:0},profileFont4:{fontSize:"14px",lineHeight:"20px",color:"#AFAFAF",marginLeft:0,left:0},inputStyle:{h:"48px",borderColor:"grey",variant:"outline",borderRadius:"0px"}});export{Se as M};
