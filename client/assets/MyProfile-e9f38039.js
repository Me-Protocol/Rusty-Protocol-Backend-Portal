import{r as n,_ as ce,J as pe,b as ue,a as he,d as _,ar as xe,g as S,j as e,h as l,i as x,X as d,T as r,w as de,S as B,a0 as ge,ah as h,ag as M,ai as W,av as $,U as G,B as me}from"./index-ad3b3a34.js";const fe=n.lazy(()=>ce(()=>import("./index-6f075b89.js"),["assets/index-6f075b89.js","assets/index-ad3b3a34.js","assets/index-00bfa456.css","assets/countries-020c4914.js","assets/chunk-3RSXBRAN-b36a4ee9.js"])),je=()=>{var R,U,k,P,z,A,L;const{button:O,profileFont1:Y,profileFont2:Z,profileFont3:i,inputStyle:p}=K();pe();let w=ue();const C=he(),{countrySelect:J}=K(),{user_data:o}=_(t=>t.userReducer),{token:u}=_(t=>t.authReducer),[v]=xe(),[g,E]=n.useState((o==null?void 0:o.countryName)||"United States of America"),[V,X]=n.useState(),[F,q]=n.useState(),[Q,m]=n.useState(!1),[f,ee]=n.useState((R=o==null?void 0:o.customer)==null?void 0:R.height),[j,oe]=n.useState((U=o==null?void 0:o.customer)==null?void 0:U.weight),[y,te]=n.useState((k=o==null?void 0:o.customer)==null?void 0:k.bio),[b,se]=n.useState((P=o==null?void 0:o.customer)==null?void 0:P.name);function ne(t){console.log(t.target.files),X(URL.createObjectURL(t.target.files[0])),q(t.target.files[0])}console.log(o,"this is data"),n.useEffect(()=>{re()},[]);const re=()=>{S.get("https://ipapi.co/json/").then(t=>{let a=t.data;E(a.country_name)}).catch(t=>{console.log(t)})};async function le(){const{signature:t,timestamp:a,cloudName:T,apiKey:ae}=await S.get(`${me}/upload/image-signature`,{headers:{Authorization:`Bearer ${u}`}}).then(({data:s})=>{var D,H,I,N;return{apiKey:(D=s==null?void 0:s.data)==null?void 0:D.apiKey,cloudName:(H=s==null?void 0:s.data)==null?void 0:H.cloudName,signature:(I=s==null?void 0:s.data)==null?void 0:I.signature,timestamp:(N=s==null?void 0:s.data)==null?void 0:N.timestamp}}),c=new FormData;return c.append("file",F),c.append("cloud_name",T),c.append("api_key",ae),c.append("timestamp",a),c.append("signature",t),S.post(`https://api.cloudinary.com/v1_1/${T}/upload`,c,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:s})=>(console.log(s,"pppp"),{secure_url:s==null?void 0:s.secure_url}))}async function ie(){if(m(!0),F){const{secure_url:t}=await le();await v({fullName:b,profilePicture:t,location:g,weight:j,height:f,bio:y}).then(({data:a})=>{u&&C($({token:u})),G(w,"Profile updated successfully")}).catch(a=>{console.log(a,"UPDATeYUSERZRR")}).finally(()=>{m(!1)});return}await v({name:b,location:g,weight:j,height:f,bio:y}).then(({data:t})=>{u&&C($({token:u})),G(w,"Profile updated successfully")}).catch(t=>{console.log(t,"UPDATeYUSERZRR")}).finally(()=>{m(!1)})}return e.jsxs(l,{children:[e.jsxs(x,{children:[e.jsx(d,{children:e.jsx(r,{...Y,children:"Edit Profile"})}),e.jsx(de,{}),e.jsx(d,{as:"button",...O,onClick:ie,children:e.jsx(r,{children:Q?e.jsx(B,{size:"xs"}):"Save"})})]}),e.jsxs(x,{py:"2%",children:[e.jsx(ge,{name:(z=o==null?void 0:o.customer)==null?void 0:z.name,src:V||((A=o==null?void 0:o.customer)==null?void 0:A.profilePicture)}),e.jsxs(l,{children:[e.jsx(r,{...Z,children:(L=o==null?void 0:o.customer)==null?void 0:L.name}),e.jsx(r,{...i,decoration:"underline",as:"button",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"image_uploads",style:{cursor:"pointer"},children:"Change profile photo"}),e.jsx("input",{type:"file",id:"image_uploads",name:"image_uploads",accept:".jpg, .jpeg, .png",style:{opacity:"0"},onChange:ne,placeholder:"Changle profile photo"})]})})]})]}),e.jsxs(l,{children:[e.jsxs(x,{w:"100%",children:[e.jsxs(l,{w:"25%",children:[e.jsx(r,{...i,ml:"0",children:"Full Name"}),e.jsx(h,{...p,placeholder:"Enter Full Name",value:b,onChange:({target:t})=>{se(t.value)},border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}})]}),e.jsxs(l,{w:"50%",children:[e.jsx(r,{...i,ml:"0",children:"Email"}),e.jsx(h,{...p,placeholder:"Enter Email",isDisabled:!0,value:o==null?void 0:o.email,border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}})]})]}),e.jsxs(x,{py:"20px",children:[e.jsxs(l,{w:"50%",children:[e.jsx(r,{...i,ml:"0",children:"Location"}),e.jsx(n.Suspense,{fallback:e.jsx(B,{size:"sm"}),children:e.jsx(fe,{value:g,onChange:t=>{E(t.target.value)},...J})})]}),e.jsxs(l,{w:"25%",children:[e.jsx(r,{...i,ml:"0",children:"Weight"}),e.jsxs(M,{children:[e.jsx(h,{type:"number",...p,placeholder:"Enter Weight",value:j,onChange:({target:t})=>{oe(t.value)},border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}}),e.jsx(W,{mr:2,mt:1,fontSize:"6px",children:e.jsx(d,{children:e.jsx("span",{style:{fontSize:"12px"},children:"kg"})})})]})]}),e.jsxs(l,{w:"25%",children:[e.jsx(r,{...i,ml:"0",children:"Height"}),e.jsxs(M,{children:[e.jsx(W,{mr:2,mt:1,fontSize:"6px",children:e.jsx(d,{children:e.jsx("span",{style:{fontSize:"12px"},children:"cm"})})}),e.jsx(h,{...p,placeholder:"Enter Height",value:f,onChange:({target:t})=>{ee(t.value)},border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}})]})]})]}),e.jsxs(l,{children:[e.jsx(r,{...i,ml:"0",children:"Bio"}),e.jsx(h,{...p,p:"15px",as:"textarea",h:"100px",mb:10,w:"100%",textAlign:"start",placeholder:"Express yourself.",noOfLines:5,_focus:{borderColor:"dark",boxShadow:"none"},value:y,onChange:({target:t})=>{te(t.value)},border:"1px solid rgba(0, 0, 0, 0.08)"})]})]})]})},be=je,K=()=>({button:{display:"flex",alignItems:"center",justifyContent:"center",width:"71px",height:"42px",border:"1px solid #000000",borderRadius:"100px"},copyrightText:{color:"light",fontSize:["14px","16px","16px","14px","16px"]},countrySelect:{w:"100%",bg:"light",color:"dark",borderWidth:"1px",my:"30px",borderRadius:"0px",borderColor:"grey"},linksStyle:{color:"darkGrey"},profileFont1:{fontSize:"24px",lineHeight:"29px",color:"#000000"},profileFont2:{fontSize:"18px",lineHeight:"22px",color:"#000000"},profileFont3:{fontSize:"14px",lineHeight:"17px",color:"#000000",marginLeft:0,left:0},profileFont4:{fontSize:"14px",lineHeight:"20px",color:"#AFAFAF",marginLeft:0,left:0},inputStyle:{h:"48px",borderColor:"grey",variant:"outline",borderRadius:"0px"}});export{be as M};
