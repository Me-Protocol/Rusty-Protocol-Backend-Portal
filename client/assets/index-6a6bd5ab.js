import{aE as nt,r as n,_ as Y,u as st,a as at,d as v,cc as rt,b as it,b4 as _,b3 as lt,bl as ct,O as de,cd as dt,ce as xt,j as e,a7 as N,S as F,F as l,m as ht,h as L,i as h,a0 as ut,T as s,y as pt,w as I,l as A,G as $,a_ as mt,a$ as ft,b0 as gt,q as m,E as w,$ as xe,cf as jt,cg as H,a9 as bt,ch as vt,v as he,V as ue,z as pe,a1 as me,a2 as fe,a3 as ge,ai as wt,C as W,H as Ct,ae as St,W as je,I as be,f as ve,aH as Pt,aI as kt,aJ as yt}from"./index-47ecebed.js";import{e as we}from"./empty-fb04a4d6.js";import{S as Dt}from"./chunk-3RSXBRAN-728f012d.js";function Ft(i){return nt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M176 511a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm280 0a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm280 0a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"}}]})(i)}function Lt(i=10){const d=[10,20,50],[u,c]=n.useState(i);return{pagLimit:u,availableLimits:d,handleLimitChange:x=>{c(x)}}}const It=({total:i,page:d,limit:u})=>({getPaginationInfo:()=>{const r=(d-1)*u+1,x=Math.min(d*u,i);return`${r} to ${x} of ${i}`}}),Ot=n.lazy(()=>Y(()=>import("./index-47ecebed.js").then(i=>i.d8),["assets/index-47ecebed.js","assets/index-d7a3f919.css"])),zt=n.lazy(()=>Y(()=>import("./index-e4bd164f.js"),["assets/index-e4bd164f.js","assets/index-47ecebed.js","assets/index-d7a3f919.css"])),Mt=n.lazy(()=>Y(()=>import("./index-7547b362.js"),["assets/index-7547b362.js","assets/index-47ecebed.js","assets/index-d7a3f919.css"])),Rt=()=>{var oe,ne,se,ae,re,ie,le,ce;let i=st();const d=at(),u=n.useRef(),{token:c}=v(t=>t.authReducer),{user_data:r}=v(t=>t.userReducer),{order_data:x,getOrder_loading:G}=v(t=>t.orderReducer),[Ce]=rt(),Se=Ce.get("tab"),V=it(),[O,J]=n.useState(1),[f,Pe]=n.useState(10),{availableLimits:ke,handleLimitChange:ye}=Lt(f),[a,De]=n.useState({nextPage:null,prevPage:null,total:0}),{my_deals_loading:Fe,my_followed_brands:p}=v(t=>t.userReducer),{collection_data:z,collection_loading:Tt}=v(t=>t.collectionReducer);n.useEffect(()=>{c&&d(_({token:c}))},[c]),n.useEffect(()=>{c&&((async()=>{const{payload:t,error:o}=await d(lt({token:c,page:O,limit:f}));t&&De({...a,total:t==null?void 0:t.total,nextPage:t==null?void 0:t.nextPage,prevPage:t==null?void 0:t.previousPage})})(),d(ct({token:c})))},[O,f]);const Le=()=>{a!=null&&a.nextPage&&J(a==null?void 0:a.nextPage)},Ie=()=>{a!=null&&a.prevPage&&J(a==null?void 0:a.prevPage)},{getPaginationInfo:Oe}=It({page:O,total:a==null?void 0:a.total,limit:f}),{isOpen:ze,onOpen:q,onClose:C}=de(),{isOpen:Me,onOpen:Re,onClose:M}=de(),{root:Ee,infoBox:Te,font1:Be,font2:_e,editProfileText:Ne,contain:Bt,smallerDesc:Ae,singleCol:U,popContentStyle:$e,colOptionText:He,cancelButton:X,nextButton:K,newCollectionInput:We,editProfileButton:Ye,iconCenter:Ge,editIconStack:Ve,imageDisplay:Je,fontUnderline:qe,nameStack:Ue}=Et(),[Xe]=dt(),[Ke]=xt(),[Qe,Q]=n.useState(!1),[_t,Z]=n.useState(""),[S,ee]=n.useState(""),[R,te]=n.useState(!1);n.useState(!1),n.useState([]);const[P,E]=n.useState(null),[Nt,Ze]=n.useState("");n.useEffect(()=>{const g=["January","February","March","April","May","June","July","August","September","October","November","December"][new Date().getMonth()];Ze(g)},[]);const T=[{id:"1",name:"My deals"},{id:"2",name:"My saved"},{id:"3",name:"My brands"}];async function et(){S&&(Q(!0),await Xe({name:S}).then(({data:t})=>{d(_({token:c})),je(V,"Collection added successfully"),C()}).catch(t=>{Z(t)}).finally(()=>{Q(!1),ee("")}))}async function tt(t){te(!0),E(t),await Ke(t).then(({data:o})=>{d(_({token:c})),je(V,"Collection deleted successfully"),C()}).catch(o=>{Z(o)}).finally(()=>{M(),te(!1),E(null)})}function ot(){var t;return e.jsx(e.Fragment,{children:e.jsxs(l,{w:"100%",justify:"space-between",flexDir:"row",flexWrap:"wrap",children:[(t=z==null?void 0:z.collections)==null?void 0:t.map((o,g)=>{var j,b;return e.jsxs(l,{...U,children:[e.jsx(l,{...Je,flexDir:"row",wrap:"wrap",as:"button",onClick:()=>i(`${o==null?void 0:o.id}`,{state:{id:o==null?void 0:o.name}}),children:e.jsx(be,{src:o==null?void 0:o.image,objectFit:"contain",fallbackSrc:ve.appLogoPlaceholder},m())}),e.jsxs(L,{justify:"center",...Ue,children:[e.jsx(s,{noOfLines:1,fontSize:"18px",children:o==null?void 0:o.name}),e.jsxs(s,{color:"#999999",children:[(j=o.likes)==null?void 0:j.length," ",((b=o.likes)==null?void 0:b.length)>0?"items":"item"]})]}),e.jsx(l,{w:"10%",h:"15%",alignSelf:"center",children:e.jsx(Pt,{isLazy:!0,placement:"bottom",children:({isOpen:B,onClose:k})=>e.jsxs(e.Fragment,{children:[e.jsx(kt,{children:e.jsx(N,{as:"button",children:R&&o.id===P?e.jsx(F,{size:"sm"}):e.jsx(w,{w:"100%",h:"100%",as:Ft})})}),e.jsx(N,{as:"button",textAlign:"left",children:e.jsx(yt,{ref:u,onClick:k,...$e,children:e.jsx(L,{...Ve,children:["Delete"].map((y,D)=>e.jsxs(l,{as:"button",flexDir:"row",align:"center",onClick:()=>{D===1?i(`${o==null?void 0:o.id}`,{state:{id:o==null?void 0:o.id}}):E((o==null?void 0:o.id)??null),Re()},children:[e.jsx(be,{w:"8%",h:"8%",src:ve.edit_Icon,mr:"5%"}),e.jsx(s,{...He,children:y})]},m()))})})})]})})})]},m())}),e.jsxs(l,{...U,onClick:q,children:[e.jsx(W,{...Ge,flexDir:"row",flexWrap:"wrap",children:e.jsx(w,{w:"3vw",h:"3vw",as:xe})}),e.jsx(h,{ml:"5%",children:e.jsx(s,{children:"New collection"})})]})]})})}return e.jsxs(N,{w:"100%",h:"100vh",flexDir:"column",children:[e.jsx(n.Suspense,{fallback:e.jsx(F,{size:"sm"}),children:e.jsx(Ot,{})}),e.jsx(l,{flexDir:"column",children:e.jsx(ht,{children:e.jsxs(L,{...Ee,children:[e.jsxs(h,{...Te,bg:"#F2F2F2",children:[e.jsx(ut,{size:"xl",mr:"2%",name:`${(oe=r==null?void 0:r.customer)==null?void 0:oe.name}`,src:(ne=r==null?void 0:r.customer)==null?void 0:ne.profilePicture}),e.jsxs(L,{children:[e.jsx(s,{...Be,textTransform:"uppercase",children:(se=r==null?void 0:r.customer)==null?void 0:se.name}),e.jsxs(s,{..._e,children:["Member since"," ",pt((ae=r==null?void 0:r.customer)==null?void 0:ae.createdAt).format("DD MMM YYYY")]})]}),e.jsx(I,{}),e.jsx(A,{variant:"outline",...Ye,onClick:()=>i(`${$}/settings`),children:e.jsx(s,{...Ne,children:"Edit Profile"})})]}),e.jsxs(mt,{isLazy:!0,defaultIndex:Se==="saved"?1:0,children:[e.jsxs(l,{flexDir:"row",w:"100%",children:[e.jsx(ft,{children:T==null?void 0:T.map(t=>e.jsx(gt,{...Ae,_selected:{color:"black",borderColor:"black"},color:"#999999",children:e.jsx(s,{fontWeight:"700",children:t.name})},m()))}),e.jsx(I,{}),e.jsxs(h,{children:[e.jsxs(h,{onClick:q,cursor:"pointer",children:[e.jsx(s,{fontWeight:"600",children:"New collection"}),e.jsx(w,{w:"30px",h:"30px",as:xe})]}),e.jsx(I,{}),e.jsx(I,{})]})]}),e.jsxs(jt,{children:[e.jsx(H,{px:0,children:e.jsxs(n.Suspense,{fallback:e.jsx(F,{size:"sm"}),children:[e.jsxs(h,{children:[e.jsx(s,{children:"Page:"}),e.jsxs(h,{color:"#999999",ml:"5px",children:[e.jsx(s,{noOfLines:1,children:Oe()}),e.jsx(l,{disabled:!a.prevPage,as:"button",ml:"5px",onClick:Ie,_hover:{color:"black"},children:e.jsx(w,{as:bt,size:15})}),e.jsx(l,{disabled:!a.nextPage,as:"button",onClick:Le,_hover:{color:"black"},children:e.jsx(w,{as:vt,size:15})})]}),e.jsx(h,{children:e.jsx(Dt,{value:f,onChange:t=>{Pe(Number(t.target.value)),ye(Number(t.target.value))},w:"auto",fontSize:"14px",borderRadius:"12px",border:"0.5px solid grey ",_focus:{border:"1px solid grey",outline:"none",boxShadow:"none"},color:"gray.600",children:ke.map(t=>e.jsxs("option",{value:t,children:[t," limit per page"]},t))})})]}),((re=x==null?void 0:x.orders)==null?void 0:re.length)>0?e.jsx(e.Fragment,{children:(ie=x==null?void 0:x.orders)==null?void 0:ie.map(t=>{var o,g,j,b,B,k,y,D;return e.jsx(he,{isLoaded:!G,mb:"2px",children:e.jsx(zt,{name:(o=t==null?void 0:t.offer)==null?void 0:o.name,price:Number((g=t==null?void 0:t.offer)==null?void 0:g.originalPrice),token:`${(j=t==null?void 0:t.offer)==null?void 0:j.tokens} ${(B=(b=t==null?void 0:t.offer)==null?void 0:b.reward)==null?void 0:B.rewardSymbol}`,quantity:t==null?void 0:t.quantity,date:(k=t==null?void 0:t.offer)==null?void 0:k.updatedAt,expired:!1,image:(D=(y=t==null?void 0:t.offer)==null?void 0:y.offerImages[0])==null?void 0:D.url,rest:{...t}})},m())})}):e.jsxs(ue,{children:[e.jsx(l,{w:"500px",h:"500px",children:e.jsx(pe,{animationData:we,loop:!0,autoplay:!0,width:50,height:70})}),e.jsxs(s,{children:["You currently have no deals,"," ",e.jsx(s,{as:"button",onClick:()=>i(`${$}/dashboard/category`),...qe,children:"Explore your favorite deals to purchase"})]})]})]})}),e.jsx(H,{px:0,children:ot()}),e.jsx(H,{px:0,children:e.jsx(n.Suspense,{fallback:e.jsx(F,{size:"sm"}),children:((le=p==null?void 0:p.following)==null?void 0:le.length)>0?e.jsx(e.Fragment,{children:(ce=p==null?void 0:p.following)==null?void 0:ce.map(t=>e.jsx(he,{isLoaded:!Fe,mb:"2px",children:e.jsx(Mt,{item:{...t}},m())}))}):e.jsxs(ue,{children:[e.jsx(l,{w:"400px",h:"400px",children:e.jsx(pe,{animationData:we,loop:!0,autoplay:!0,width:50,height:70})}),e.jsxs(s,{children:["You currently have followed brands,"," ",e.jsx(s,{as:"button",_hover:{textDecor:"underline"},onClick:()=>i(`${$}/dashboard/shop`),children:"Explore your favorite brands"})]})]})})})]})]})]})})}),e.jsxs(me,{isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:ze,size:"xl",onClose:C,motionPreset:"slideInBottom",closeOnOverlayClick:!1,children:[e.jsx(fe,{}),e.jsxs(ge,{w:{base:"90vw",md:"30vw"},h:"15vw",borderRadius:0,p:"1%",children:[e.jsx(s,{children:"Create new collection"}),e.jsx(wt,{variant:"outline",...We,placeholder:"Collection name",value:S,onChange:({target:t})=>{ee(t.value)}}),e.jsx(A,{isLoading:Qe,...K,onClick:et,disabled:!S,children:e.jsx(s,{children:"Create"})}),e.jsx(W,{...X,onClick:C,as:"button",children:e.jsx(s,{children:"Cancel"})})]})]}),e.jsxs(me,{isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:Me,size:"xl",onClose:M,motionPreset:"slideInBottom",closeOnOverlayClick:!1,children:[e.jsx(fe,{}),e.jsxs(ge,{w:{base:"90vw",md:"30vw"},h:"15vw",borderRadius:0,p:"1%",children:[e.jsxs(Ct,{mb:3,fontSize:"sm",children:["Delete collection"," "]}),e.jsx(s,{children:"Are you sure you want to delete this collection? This action cannot be undone."}),e.jsx(A,{isLoading:!!P&&R,...K,bg:"red.600",onClick:()=>tt(P),isDisabled:!P,children:e.jsx(s,{children:"Delete"})}),e.jsx(W,{...X,onClick:M,as:"button",children:e.jsx(s,{children:"Cancel"})})]})]}),R&&e.jsx(St,{})]})},Wt=Rt,Et=()=>({root:{w:"100%",mt:"108px",pt:"3%",overflow:"hidden"},infoBox:{w:"100%",h:"150px",px:"2%",borderRadius:"16px"},root2:{w:"1440px",h:"248px",mt:"1px"},font1:{fontSize:"24px",color:"#000000"},font2:{fontSize:"16px",color:"#999999"},editProfileText:{fontSize:"14px"},button:{w:"150px",h:"47px",borderRadius:"0px",background:"#000000",fontSize:"18px",lineHeight:"22px",color:"#FFFFFF"},contain:{w:"100%",h:"64px",mt:"297px"},head:{fontSize:{base:"18px",md:"20px"}},smallerDesc:{fontSize:{base:"10px",md:"16px"}},container:{w:"100px",_hover:{background:"black",color:"white"}},search:{w:"240px",h:"40px",background:"#F6F6F6",borderRadius:"53px"},font:{fontSize:"16px",lineHeight:"19px",_hover:{color:"#FFFFFF"}},popfont:{fontSize:"12px",lineHeight:"14px",color:"#999999"},singleCol:{w:"44%",h:"200px",borderRadius:"16px",borderWidth:"1px",borderColor:"#9999992B",overflow:"hidden",mb:"2vw"},popContentStyle:{borderRadius:"0",width:"100%",background:"#FFFFFF",border:"0px"},colOptionText:{fontSize:"12px"},cancelButton:{bg:"light",color:"dark",h:"40px",borderWidth:1,mt:"6px"},nextButton:{mt:"20px",color:"white",h:"40px",borderRadius:0,_hover:{bg:"dark"},bg:"dark"},editProfileButton:{borderRadius:"30px",alignSelf:"flex-start",top:"20%",borderColor:"dark"},newCollectionInput:{mt:"10px",h:"40px",borderRadius:0,_placeholder:{color:"#cfcfcf"}},iconCenter:{bg:"#f2f2f2",w:"40%",cursor:"pointer",h:"100%"},editIconStack:{bg:"light",py:"5%",pr:"20%",w:"15vw",borderRadius:"4px",boxShadow:"1px 2px 9px #00000035",pl:"5%"},imageDisplay:{h:"100%",bg:"grey",cursor:"pointer",w:"40%"},fontUnderline:{decoration:"underline"},nameStack:{ml:"5%",w:"60%"}});export{Wt as default};
