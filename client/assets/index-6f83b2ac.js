import{r as c,u as _e,O as Oe,a as ze,d as f,b2 as $e,o as Ae,p as Be,aq as De,aG as We,ax as Pe,b3 as Ge,b4 as He,b5 as Ne,b6 as Me,b7 as Qe,b8 as Ue,j as e,F as n,ah as k,m as D,L as qe,C as v,H as ie,q as y,E as W,aN as P,T as t,w as G,al as R,aH as Ke,aI as Ve,a0 as Ye,aJ as Je,G as a,I as x,f as g,aK as Xe,aL as Ze,aM as es,l as H,i as le,aO as ce,aP as xe,b9 as ss,a6 as de,ba as ns,aQ as ts,ai as os,aR as rs,aj as as,bb as is,aS as ls,S as cs}from"./index-1596cd59.js";const xs=({customPadding:hs,...he})=>{var X,Z,ee,se,ne,te,oe,re,ae;let i=_e();const{isOpen:N,onToggle:C}=Oe(),u=ze(),{token:l}=f(s=>s.authReducer),{user_data:o,my_rewards:ps,prev_notification_count:M,current_notification_count:gs,new_notification_count:us}=f(s=>s.userReducer),{cartItems:j}=f(s=>s.cartReducer),{order_data:F,getOrder_loading:bs}=f(s=>s.orderReducer),{data:w}=$e({page:1},{refetchOnMountOrArgChange:!0,skip:!l});c.useState(!1);const[S,L]=c.useState(""),[pe,ge]=c.useState(!0),{data:E,isLoading:fs}=Ae({page:1,limit:7,type:Be.PRODUCT},{refetchOnMountOrArgChange:!0}),{reward_type_product:I}=f(s=>s.productReducer),{collection_data:ue,collection_loading:js}=f(s=>s.collectionReducer);f(s=>s.userReducer);const be=ue.total,{data:T,isLoading:ws}=De({page:1,limit:5},{refetchOnMountOrArgChange:300}),{data:fe,isLoading:_,error:je}=We({search_value:S,page:1,limit:10},{skip:S.length<3,refetchOnMountOrArgChange:!0});let O=fe;const[Q,we]=c.useState(0),[z,me]=c.useState(0),[ms,U]=c.useState(!1),[$,ve]=c.useState([]),{root:Se,container:q,font:b,popfont:vs,search:A,shopperBox:Ce,infoBox:ke,shopperBusiness:ye,homeIcon:K,notification:V,helpText:Re,iconsLogo:Y,popoverTexts:d,popoverLightTexts:Fe,itemBox:m,searchRoot:Le,boxCircleColor:J}=ds();c.useEffect(()=>{let s=window.pageYOffset;const r=()=>{const p=window.pageYOffset;ge(s>p||p<=0),s=p};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),c.useEffect(()=>{l&&u(Pe({token:l})),l&&u(Ge({token:l})),l&&u(He({token:l})),l&&u(Ne({token:l})),Ee()},[]);const Ee=async()=>{var s;U(!0);try{const{data:r}=await Me.get_account_detail({address:(s=o==null?void 0:o.customer)==null?void 0:s.walletAddress}),p=[];for(const h in r.result.balance)p.push({contractAddress:Qe(h),balance:Ue(r.result.balance[h])});const B=I==null?void 0:I.map(h=>{const Ie=p==null?void 0:p.find(Te=>Te.contractAddress===(h==null?void 0:h.contractAddress));return{...h,balance:Ie}});ve(B==null?void 0:B.filter(h=>h.balance))}catch(r){console.log(r)}finally{U(!1)}};return e.jsxs(n,{...Se,pos:"fixed",flexDir:"column",top:pe?0:"-100%",left:"0",right:"0",transition:"top 0.3s ease-in-out",zIndex:2e6,children:[e.jsx(k,{w:"100%",bg:"#E3E3E3",children:e.jsx(D,{children:e.jsxs(n,{bg:"#E3E3E3",h:"50px",align:"center",children:[e.jsx(n,{...Ce,flexDir:"row",display:["none","flex"],children:["For Shoppers","For Businesses"].map((s,r)=>e.jsx(qe,{href:"",isExternal:!0,children:e.jsx(v,{as:"button",textTransform:"uppercase",bg:Q===r?"dark":"#C3C3C3",color:Q===r?"light":"dark",onClick:()=>we(r),fontSize:"14px",fontWeight:"400",pos:"relative",right:r===1?"10px":"0px",zIndex:r===0?100:10,borderLeftRadius:r===0?"50px":"0px",...ye,children:e.jsx(ie,{fontSize:["12px","12px","12px","12px","12px"],noOfLines:1,children:s})})},y()))}),e.jsxs(n,{...A,display:["flex","none"],as:"button",ml:-2,onClick:()=>{C()},children:[e.jsx(W,{as:P,color:"#000000"}),e.jsx(t,{noOfLines:1,...b,px:"3%",color:"#000000",children:"Search offers, brand or style..."})]}),e.jsx(G,{}),l?e.jsxs(n,{...ke,children:[e.jsx(v,{...Re,textTransform:"uppercase",children:"Help"}),e.jsx(R,{orientation:"vertical",h:"12px",mx:"5px",borderWidth:"2px",borderColor:"black"}),e.jsxs(Ke,{isLazy:!0,placement:"bottom-end",trigger:"hover",children:[e.jsx(Ve,{children:e.jsxs(n,{as:"button",flexDir:"row",align:"center",color:"dark",_hover:{bg:"black",color:"white"},textTransform:"uppercase",fontWeight:"700",fontSize:["12px","12px","12px","14px","14px"],children:[e.jsxs(t,{textTransform:"uppercase",fontWeight:"700",color:"dark",display:["none","block"],fontSize:["12px","12px","12px","14px","14px"],children:["Hi, ",((X=o==null?void 0:o.customer)==null?void 0:X.name)||"user"]}),e.jsx(Ye,{ml:"5px",name:`${(Z=o==null?void 0:o.customer)==null?void 0:Z.name}`,src:(ee=o==null?void 0:o.customer)==null?void 0:ee.profilePicture,size:"sm"})]})}),e.jsxs(Je,{borderRadius:"0",position:"relative",width:"250px",background:"#FFFFFF",border:"1px",children:[e.jsx(n,{as:"button",_hover:{bg:"#F6F6F6"},...m,onClick:()=>i(`${a}/settings`),w:"full",alignItems:"flex-start",textAlign:"left",h:"50px",justifyContent:"space-between",children:e.jsxs(n,{flexDir:"column",w:"full",children:[e.jsx(t,{...d,children:(se=o==null?void 0:o.customer)==null?void 0:se.name}),e.jsx(t,{...Fe,w:"full",children:o==null?void 0:o.email})]})}),e.jsx(R,{w:"100%"}),e.jsxs(n,{...m,h:"3vw",as:"button",_hover:{bg:"#F6F6F6"},onClick:()=>i(`${a}/dashboard/dashboard-my-assets`),children:[e.jsxs(n,{w:"100%",children:[e.jsx(x,{w:"1vw",h:"1vw",alignSelf:"center",mr:"5%",src:g.edit_Icon}),e.jsx(t,{...d,children:"My Rewards"})]}),e.jsx(t,{...d,alignSelf:"center",children:($==null?void 0:$.length)||0})]}),e.jsxs(n,{...m,h:"3vw",as:"button",_hover:{bg:"#F6F6F6"},children:[e.jsxs(n,{w:"100%",children:[e.jsx(x,{w:"1vw",h:"1vw",alignSelf:"center",mr:"5%",src:g.edit_Icon,onClick:()=>i(`${a}/dashboard/dashboard-saved/?tab=deals`)}),e.jsx(t,{...d,children:"My Deals"})]}),e.jsx(t,{...d,alignSelf:"center",children:(F==null?void 0:F.total)||0})]}),e.jsxs(n,{...m,h:"3vw",as:"button",_hover:{bg:"#F6F6F6"},onClick:()=>i(`${a}/dashboard/dashboard-saved?tab=saved`),children:[e.jsxs(n,{w:"100%",children:[e.jsx(x,{w:"1vw",h:"1vw",alignSelf:"center",mr:"5%",src:g.edit_Icon}),e.jsx(t,{...d,children:"Saved"})]}),e.jsx(t,{...d,alignSelf:"center",children:be||0})]}),e.jsx(R,{w:"100%"}),e.jsx(n,{...m,h:"3vw",as:"button",_hover:{bg:"#F6F6F6"},children:e.jsxs(n,{w:"100%",children:[e.jsx(x,{w:"1vw",h:"1vw",alignSelf:"center",mr:"5%",src:g.mobileapp_icon}),e.jsx(t,{...d,children:"Install mobile app"})]})}),e.jsx(R,{w:"100%"}),e.jsx(n,{...m,h:"3vw",as:"button",_hover:{bg:"#F6F6F6"},onClick:()=>{u(Xe()),u(Ze()),u(es())},children:e.jsxs(n,{w:"100%",children:[e.jsx(x,{w:"1vw",h:"1vw",alignSelf:"center",mr:"5%",src:g.logoutIcon}),e.jsx(t,{...d,children:"Logout"})]})})]})]})]}):e.jsx(n,{flexDir:"row",w:"20%",justify:"flex-end",children:["EN","FR","IT"].map((s,r)=>e.jsx(v,{as:H,w:"10%",h:"90%",color:r===z?"black":"white",borderWidth:.5,borderRadius:"100px",px:"7%",ml:"3%",_hover:{bg:r===z?"white":"dark"},bg:r===z?"white":"black",onClick:()=>{me(r)},children:e.jsx(ie,{fontSize:["14px","14px","14px","14px","14px"],children:s})},y()))})]})})}),e.jsx(k,{w:"100%",bg:"light",children:e.jsx(D,{children:e.jsx(n,{bg:"light",h:"55px",borderBottomWidth:1,w:"100%",display:["none","none","flex","flex","flex"],...he,children:e.jsxs(le,{w:"100%",children:[e.jsx(n,{...K,as:"button",onClick:()=>{i(l?`${a}/dashboard`:`${a}/`)},children:e.jsx(x,{src:g.appLogo,objectFit:"cover"})}),e.jsxs(n,{...A,as:"button",onClick:()=>{C()},children:[e.jsx(W,{as:P,color:"#000000"}),e.jsx(t,{noOfLines:1,...b,px:"3%",color:"#000000",children:"Search offers, brand or style..."})]}),e.jsx(n,{...q,as:"button",onClick:()=>i(o?`${a}/dashboard`:`${a}/login`),children:e.jsx(t,{...b,textTransform:"uppercase",fontWeight:"700",children:"Dashboard"})}),e.jsx(ce,{label:"Brands",children:(te=(ne=T==null?void 0:T.data)==null?void 0:ne.brands)==null?void 0:te.map(s=>s.logo&&c.createElement(xe,{as:"button",...b,key:y(),onClick:()=>i(`${a}/dashboard/shop/${s.id}`,{state:{...s}})},e.jsxs(le,{children:[e.jsx(x,{src:s==null?void 0:s.logo,w:"30px",h:"30px",objectFit:"contain",borderRadius:"20px"}),e.jsx(t,{textAlign:"left",children:s.name})]})))}),e.jsx(ce,{label:"Categories",children:(oe=E==null?void 0:E.data)==null?void 0:oe.categories.map(s=>c.createElement(xe,{...b,key:y(),onClick:()=>{i(`${a}/dashboard/category/${s.name}`,{state:{...s}})}},s.name))}),e.jsx(n,{...q,as:"button",onClick:()=>i(`${a}/bounties`),children:e.jsx(t,{...b,textTransform:"uppercase",fontWeight:"700",as:"button",children:"Earn Rewards"})}),e.jsx(G,{}),l?e.jsxs(e.Fragment,{children:[e.jsxs(n,{as:"button",...Y,...V,onClick:()=>i(`${a}/notification`),children:[e.jsx(x,{src:ss,mr:"1",w:"25px",h:"25px"}),((re=w==null?void 0:w.data)==null?void 0:re.total)-M>0&&e.jsx(de,{size:"21px",...J,justifyContent:"center",alignItems:"center",color:"light",className:"infinite-bounce",children:e.jsx(t,{fontSize:"14px",fontWeight:"600",children:((ae=w==null?void 0:w.data)==null?void 0:ae.length)-M})})]}),e.jsxs(n,{as:"button",...Y,...V,onClick:()=>i(`${a}/bag`),children:[e.jsx(x,{src:ns,mr:"1",w:"25px",h:"25px"}),(j==null?void 0:j.length)>0&&e.jsx(de,{size:"21px",...J,justifyContent:"center",alignItems:"center",color:"light",children:e.jsx(t,{fontSize:"14px",fontWeight:"600",children:j==null?void 0:j.length})})]})]}):e.jsxs(n,{children:[e.jsx(v,{as:H,bg:"black",color:"white",px:"15px",py:"3px",_hover:{bg:"dark"},borderRadius:"100px",onClick:()=>i(`${a}/register`),children:e.jsx(t,{children:"Create an account"})}),e.jsx(G,{}),e.jsx(v,{as:H,bg:"white",color:"dark",borderWidth:1,borderColor:"black",ml:"15px",py:"3px",_hover:{bg:"white"},borderRadius:"100px",onClick:()=>i(`${a}/login`),children:e.jsx(t,{children:"Login"})})]})]})})})}),e.jsx(k,{display:N?"block":"none",pos:"absolute",w:"100%",zIndex:1e3,bg:"white",minHeight:"100px",children:e.jsx(ts,{in:N,children:e.jsx(k,{zIndex:1e3,boxShadow:"1px 1px 3px #00000035",minHeight:"auto",children:e.jsxs(D,{children:[e.jsxs(n,{...Le,pt:5,minHeight:"auto",transition:"min-height 0.5s","transition-timing-function":"ease-in",_focus:{boxShadow:"none"},justifyContent:"space-between",children:[e.jsx(n,{...K,as:"button",onClick:()=>{i(l?`${a}/dashboard`:`${a}/`)},children:e.jsx(x,{src:g.appLogo,objectFit:"cover"})}),e.jsx(n,{...A,w:"600px",_focus:{boxShadow:"none"},flexDir:"column",children:e.jsxs(os,{_focus:{boxShadow:"none"},as:"button",children:[e.jsx(rs,{pointerEvents:"none",children:e.jsx(W,{as:P,color:"#999999"})}),e.jsx(as,{...b,value:S,onChange:({target:s})=>{L(s.value)},placeholder:"Search offers, brand or style...",borderRadius:"0",borderWidth:"0",onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),C(),i(`${a}/searchResult`,{state:S}))}})]})}),e.jsx(v,{as:"button",onClick:()=>{L(""),C()},children:e.jsx(x,{h:"30px",w:"60px",src:g.cancel_icon})})]}),e.jsx(is,{fallback:e.jsx(t,{children:"There was an unknown error"}),children:e.jsxs(n,{maxW:"600px",w:"100%",pos:"relative",left:["0px","120px","340px"],children:[je&&!_?e.jsx(t,{children:"Something unexpected happened. Try again later"}):e.jsx(e.Fragment,{}),O&&O.data.result.length>0?e.jsx(ls,{results:O.data.result,isLoading:_,searchText:S,clearClick:()=>{L("")},navigate:()=>{}}):e.jsx(n,{alignItems:"center",children:_?e.jsx(cs,{mt:"8px",mb:"8px",size:"sm"}):""})]})})]})})})})]})},Cs=c.memo(xs),ds=()=>({root:{w:"100%",zIndex:10},container:{h:"36px",px:"1%",align:"center"},boxCircleColor:{bgColor:"#3478F6"},search:{w:"250px",h:"40px",background:"light",borderRadius:"53px",border:"1px solid rgba(0, 0, 0, 0.05)",justify:"flex-start",align:"center",pl:"1%"},font:{fontSize:["12px"]},popfont:{fontSize:"12px",lineHeight:"14px",color:"#999999"},shopperBox:{h:"95%",flexDir:"row",justify:"space-between",align:"center"},infoBox:{h:"95%",align:"center",justify:"space-between"},shopperBusiness:{px:"14px",h:"30px",borderRightRadius:"50px"},homeIcon:{width:"77px",height:"32px",justify:"center",align:"center",mr:"2%"},notification:{w:"70px",h:"35px",background:"light",borderRadius:"53px",border:"1px solid rgba(0, 0, 0, 0.05)"},helpText:{h:"25px",w:"55px",rounded:"70px",bg:"dark",color:"white",fontSize:["14px","14px","14px","14px","14px"]},iconsLogo:{justify:"center",align:"center"},popoverTexts:{fontSize:["14px","14px","14px","14px","14px"],alignSelf:"flex-start"},popoverLightTexts:{fontSize:["12px","12px","12px","12px","12px"],color:"#999999",alignSelf:"flex-start"},itemBox:{w:"100%",h:"3vw",bg:"white",justify:"space-between",align:"center",px:"5%"},searchRoot:{w:"100%",bg:"light"}});export{Cs as default,ds as useNavbarStyles};
