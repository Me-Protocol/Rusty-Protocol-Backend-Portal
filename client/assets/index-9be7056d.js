import{r as h,u as ke,$ as Fe,a as ye,d as b,bc as Re,v as Ie,w as Le,J as Ee,aB as $e,j as e,F as s,ao as v,m as T,L as _e,C as j,H as se,y as C,K as B,D as m,aC as ze,aD as Te,M as Be,aE as Oe,G as o,T as r,I as l,f as x,aF as De,aG as We,aH as He,l as O,i as ne,W as re,aI as oe,aJ as te,aK as ae,bd as Pe,af as ie,be as Ae,aL as Me,ap as Ne,aM as Ge,aq as Qe,bf as Ke,aN as Je,S as Ve}from"./index-f182da16.js";const Ye=({customPadding:Ue,...le})=>{var K,J,V,Y,q,U,X,Z,ee;let t=ke();const{isOpen:D,onToggle:S}=Fe(),k=ye(),{token:f}=b(n=>n.authReducer),{user_data:a,my_rewards:Xe,prev_notification_count:W,current_notification_count:Ze,new_notification_count:es}=b(n=>n.userReducer),{cartItems:p}=b(n=>n.cartReducer),{data:g}=Re({page:1},{refetchOnMountOrArgChange:!0,skip:!f});h.useState(!1);const[w,F]=h.useState(""),[ce,xe]=h.useState(!0),{data:y,isLoading:ss}=Ie({page:1,limit:7,type:Le.PRODUCT},{refetchOnMountOrArgChange:!0}),{reward_type_product:R}=b(n=>n.productReducer),{collection_data:he,collection_loading:ns}=b(n=>n.collectionReducer),{my_deals:I}=b(n=>n.userReducer),de=he.total,{data:L,isLoading:rs}=Ee({page:1,limit:5},{refetchOnMountOrArgChange:300}),{data:pe,isLoading:E,error:ge}=$e({search_value:w,page:1,limit:10},{skip:w.length<3,refetchOnMountOrArgChange:!0});let $=pe;const[H,ue]=h.useState(0),[_,be]=h.useState(0),{root:je,container:P,font:u,popfont:os,search:A,shopperBox:fe,infoBox:we,shopperBusiness:me,homeIcon:M,notification:N,helpText:ve,iconsLogo:G,popoverTexts:c,popoverLightTexts:Ce,itemBox:d,searchRoot:Se,boxCircleColor:Q}=qe();return h.useEffect(()=>{let n=window.pageYOffset;const i=()=>{const z=window.pageYOffset;xe(n>z||z<=0),n=z};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),e.jsxs(s,{...je,pos:"fixed",flexDir:"column",top:ce?0:"-100%",left:"0",right:"0",transition:"top 0.3s ease-in-out",zIndex:2e6,children:[e.jsx(v,{w:"100%",bg:"#E3E3E3",children:e.jsx(T,{children:e.jsxs(s,{bg:"#E3E3E3",h:"50px",align:"center",children:[e.jsx(s,{...fe,flexDir:"row",children:["For Shoppers","For Businesses"].map((n,i)=>e.jsx(_e,{href:"",isExternal:!0,children:e.jsx(j,{as:"button",textTransform:"uppercase",bg:H===i?"dark":"#C3C3C3",color:H===i?"light":"dark",onClick:()=>ue(i),fontSize:"14px",fontWeight:"400",pos:"relative",right:i===1?"10px":"0px",zIndex:i===0?100:10,borderLeftRadius:i===0?"50px":"0px",...me,children:e.jsx(se,{fontSize:["12px","12px","12px","12px","12px"],noOfLines:1,children:n})})},C()))}),e.jsx(B,{}),f?e.jsxs(s,{...we,children:[e.jsx(j,{...ve,textTransform:"uppercase",children:"Help"}),e.jsx(m,{orientation:"vertical",h:"12px",mx:"5px",borderWidth:"2px",borderColor:"black"}),e.jsxs(ze,{isLazy:!0,placement:"bottom-end",trigger:"hover",children:[e.jsx(Te,{children:e.jsxs(s,{as:"button",flexDir:"row",align:"center",color:"dark",_hover:{bg:"black",color:"white"},textTransform:"uppercase",fontWeight:"700",fontSize:["14px","14px","14px","14px","14px"],children:["Hi, ",((K=a==null?void 0:a.customer)==null?void 0:K.name)||"user",e.jsx(Be,{ml:"5px",name:`${(J=a==null?void 0:a.customer)==null?void 0:J.name}`,src:(V=a==null?void 0:a.customer)==null?void 0:V.profilePicture,size:"sm"})]})}),e.jsxs(Oe,{borderRadius:"0",position:"relative",width:"250px",background:"#FFFFFF",border:"1px",children:[e.jsx(s,{as:"button",_hover:{bg:"#F6F6F6"},...d,onClick:()=>t(`${o}/settings`),w:"full",alignItems:"flex-start",textAlign:"left",h:"50px",justifyContent:"space-between",children:e.jsxs(s,{flexDir:"column",w:"full",children:[e.jsx(r,{...c,children:(Y=a==null?void 0:a.customer)==null?void 0:Y.name}),e.jsx(r,{...Ce,w:"full",children:a==null?void 0:a.email})]})}),e.jsx(m,{w:"100%"}),e.jsxs(s,{...d,h:"3vw",as:"button",_hover:{bg:"#F6F6F6"},onClick:()=>t(`${o}/dashboard/dashboard-my-assets`),children:[e.jsxs(s,{w:"100%",children:[e.jsx(l,{w:"1vw",h:"1vw",alignSelf:"center",mr:"5%",src:x.edit_Icon}),e.jsx(r,{...c,children:"My Rewards"})]}),e.jsx(r,{...c,alignSelf:"center",children:(R==null?void 0:R.length)||0})]}),e.jsxs(s,{...d,h:"3vw",as:"button",_hover:{bg:"#F6F6F6"},children:[e.jsxs(s,{w:"100%",children:[e.jsx(l,{w:"1vw",h:"1vw",alignSelf:"center",mr:"5%",src:x.edit_Icon,onClick:()=>t(`${o}/dashboard/dashboard-saved/?tab=deals`)}),e.jsx(r,{...c,children:"My Offers"})]}),e.jsx(r,{...c,alignSelf:"center",children:(I==null?void 0:I.length)||0})]}),e.jsxs(s,{...d,h:"3vw",as:"button",_hover:{bg:"#F6F6F6"},onClick:()=>t(`${o}/dashboard/dashboard-saved?tab=saved`),children:[e.jsxs(s,{w:"100%",children:[e.jsx(l,{w:"1vw",h:"1vw",alignSelf:"center",mr:"5%",src:x.edit_Icon}),e.jsx(r,{...c,children:"Saved"})]}),e.jsx(r,{...c,alignSelf:"center",children:de||0})]}),e.jsx(m,{w:"100%"}),e.jsx(s,{...d,h:"3vw",as:"button",_hover:{bg:"#F6F6F6"},onClick:()=>t(`${o}/dashboard/dashboard-my-assets`),children:e.jsxs(s,{w:"100%",children:[e.jsx(l,{w:"1vw",h:"1vw",alignSelf:"center",mr:"5%",src:x.edit_Icon}),e.jsx(r,{...c,children:"My Rewards"})]})}),e.jsx(s,{...d,h:"3vw",as:"button",_hover:{bg:"#F6F6F6"},children:e.jsxs(s,{w:"100%",children:[e.jsx(l,{w:"1vw",h:"1vw",alignSelf:"center",mr:"5%",src:x.edit_Icon}),e.jsx(r,{...c,children:"My Offers"})]})}),e.jsx(m,{w:"100%"}),e.jsx(s,{...d,h:"3vw",as:"button",_hover:{bg:"#F6F6F6"},children:e.jsxs(s,{w:"100%",children:[e.jsx(l,{w:"1vw",h:"1vw",alignSelf:"center",mr:"5%",src:x.mobileapp_icon}),e.jsx(r,{...c,children:"Install mobile app"})]})}),e.jsx(m,{w:"100%"}),e.jsx(s,{...d,h:"3vw",as:"button",_hover:{bg:"#F6F6F6"},onClick:()=>{k(De()),k(We()),k(He())},children:e.jsxs(s,{w:"100%",children:[e.jsx(l,{w:"1vw",h:"1vw",alignSelf:"center",mr:"5%",src:x.logoutIcon}),e.jsx(r,{...c,children:"Logout"})]})})]})]})]}):e.jsx(s,{flexDir:"row",w:"20%",justify:"flex-end",children:["EN","FR","IT"].map((n,i)=>e.jsx(j,{as:O,w:"10%",h:"90%",color:i===_?"black":"white",borderWidth:.5,borderRadius:"100px",px:"7%",ml:"3%",_hover:{bg:i===_?"white":"dark"},bg:i===_?"white":"black",onClick:()=>{be(i)},children:e.jsx(se,{fontSize:["14px","14px","14px","14px","14px"],children:n})},C()))})]})})}),e.jsx(v,{w:"100%",bg:"light",children:e.jsx(T,{children:e.jsx(s,{bg:"light",h:"55px",borderBottomWidth:1,w:"100%",display:["none","none","flex","flex","flex"],...le,children:e.jsxs(ne,{w:"100%",children:[e.jsx(s,{...M,as:"button",onClick:()=>{t(f?`${o}/dashboard`:`${o}/`)},children:e.jsx(l,{src:x.appLogo,objectFit:"cover"})}),e.jsxs(s,{...A,as:"button",onClick:()=>{S()},children:[e.jsx(re,{as:oe,color:"#000000"}),e.jsx(r,{noOfLines:1,...u,px:"3%",color:"#000000",children:"Search offers, brand or style..."})]}),e.jsx(s,{...P,as:"button",onClick:()=>t(a?`${o}/dashboard`:`${o}/login`),children:e.jsx(r,{...u,textTransform:"uppercase",fontWeight:"700",children:"Dashboard"})}),e.jsx(te,{label:"Brands",children:(U=(q=L==null?void 0:L.data)==null?void 0:q.brands)==null?void 0:U.map(n=>h.createElement(ae,{as:"button",...u,key:C(),onClick:()=>t(`${o}/dashboard/shop/${n.id}`,{state:{...n}})},e.jsxs(ne,{children:[e.jsx(l,{src:n==null?void 0:n.logo,w:"30px",h:"30px",objectFit:"contain",borderRadius:"20px"}),e.jsx(r,{textAlign:"left",children:n.name})]})))}),e.jsx(te,{label:"Categories",children:(X=y==null?void 0:y.data)==null?void 0:X.categories.map(n=>h.createElement(ae,{...u,key:C(),onClick:()=>{t(`${o}/dashboard/category/${n.name}`,{state:{...n}})}},n.name))}),e.jsx(s,{...P,as:"button",onClick:()=>t(`${o}/bounties`),children:e.jsx(r,{...u,textTransform:"uppercase",fontWeight:"700",as:"button",children:"Earn Rewards"})}),e.jsx(B,{}),f?e.jsxs(e.Fragment,{children:[e.jsxs(s,{as:"button",...G,...N,onClick:()=>t(`${o}/notification`),children:[e.jsx(l,{src:Pe,mr:"1",w:"25px",h:"25px"}),((Z=g==null?void 0:g.data)==null?void 0:Z.total)-W>0&&e.jsx(ie,{size:"21px",...Q,justifyContent:"center",alignItems:"center",color:"light",className:"infinite-bounce",children:e.jsx(r,{fontSize:"14px",fontWeight:"600",children:((ee=g==null?void 0:g.data)==null?void 0:ee.length)-W})})]}),e.jsxs(s,{as:"button",...G,...N,onClick:()=>t(`${o}/bag`),children:[e.jsx(l,{src:Ae,mr:"1",w:"25px",h:"25px"}),(p==null?void 0:p.length)>0&&e.jsx(ie,{size:"21px",...Q,justifyContent:"center",alignItems:"center",color:"light",children:e.jsx(r,{fontSize:"14px",fontWeight:"600",children:p==null?void 0:p.length})})]})]}):e.jsxs(s,{children:[e.jsx(j,{as:O,bg:"black",color:"white",px:"15px",py:"3px",_hover:{bg:"dark"},borderRadius:"100px",onClick:()=>t(`${o}/register`),children:e.jsx(r,{children:"Create an account"})}),e.jsx(B,{}),e.jsx(j,{as:O,bg:"white",color:"dark",borderWidth:1,borderColor:"black",ml:"15px",py:"3px",_hover:{bg:"white"},borderRadius:"100px",onClick:()=>t(`${o}/login`),children:e.jsx(r,{children:"Login"})})]})]})})})}),e.jsx(v,{display:D?"block":"none",pos:"absolute",w:"100%",zIndex:1e3,bg:"white",minHeight:"100px",children:e.jsx(Me,{in:D,children:e.jsx(v,{zIndex:1e3,boxShadow:"1px 1px 3px #00000035",minHeight:"auto",children:e.jsxs(T,{children:[e.jsxs(s,{...Se,pt:5,minHeight:"auto",transition:"min-height 0.5s","transition-timing-function":"ease-in",_focus:{boxShadow:"none"},justifyContent:"space-between",children:[e.jsx(s,{...M,as:"button",onClick:()=>{t(f?`${o}/dashboard`:`${o}/`)},children:e.jsx(l,{src:x.appLogo,objectFit:"cover"})}),e.jsx(s,{...A,w:"600px",_focus:{boxShadow:"none"},flexDir:"column",children:e.jsxs(Ne,{_focus:{boxShadow:"none"},as:"button",children:[e.jsx(Ge,{pointerEvents:"none",children:e.jsx(re,{as:oe,color:"#999999"})}),e.jsx(Qe,{...u,value:w,onChange:({target:n})=>{F(n.value)},placeholder:"Search offers, brand or style...",borderRadius:"0",borderWidth:"0",onKeyDown:n=>{n.key==="Enter"&&(n.preventDefault(),S(),t(`${o}/searchResult`,{state:w}))}})]})}),e.jsx(j,{as:"button",w:"50px",h:"50px",onClick:()=>{F(""),S()},children:e.jsx(l,{w:"40px",h:"40px",src:x.cancel_icon})})]}),e.jsx(Ke,{fallback:e.jsx(r,{children:"There was an unknown error"}),children:e.jsxs(s,{w:"600px",pos:"relative",left:["300px","300px","300px","300px","340px"],children:[ge&&!E?e.jsx(r,{children:"Something unexpected happened. Try again later"}):e.jsx(e.Fragment,{}),$&&$.data.result.length>0?e.jsx(Je,{results:$.data.result,isLoading:E,searchText:w,clearClick:()=>{F("")},navigate:()=>{}}):e.jsx(s,{alignItems:"center",children:E?e.jsx(Ve,{mt:"8px",mb:"8px",size:"sm"}):""})]})})]})})})})]})},as=h.memo(Ye),qe=()=>({root:{w:"100%",zIndex:10},container:{h:"36px",px:"1%",align:"center"},boxCircleColor:{bgColor:"#3478F6"},search:{w:"250px",h:"40px",background:"light",borderRadius:"53px",border:"1px solid rgba(0, 0, 0, 0.05)",justify:"flex-start",align:"center",pl:"1%"},font:{fontSize:["12px"]},popfont:{fontSize:"12px",lineHeight:"14px",color:"#999999"},shopperBox:{h:"95%",flexDir:"row",justify:"space-between",align:"center"},infoBox:{h:"95%",align:"center",justify:"space-between"},shopperBusiness:{px:"14px",h:"30px",borderRightRadius:"50px"},homeIcon:{width:"77px",height:"32px",justify:"center",align:"center",mr:"2%"},notification:{w:"70px",h:"35px",background:"light",borderRadius:"53px",border:"1px solid rgba(0, 0, 0, 0.05)"},helpText:{h:"25px",w:"55px",rounded:"70px",bg:"dark",color:"white",fontSize:["14px","14px","14px","14px","14px"]},iconsLogo:{justify:"center",align:"center"},popoverTexts:{fontSize:["14px","14px","14px","14px","14px"],alignSelf:"flex-start"},popoverLightTexts:{fontSize:["12px","12px","12px","12px","12px"],color:"#999999",alignSelf:"flex-start"},itemBox:{w:"100%",h:"3vw",bg:"white",justify:"space-between",align:"center",px:"5%"},searchRoot:{w:"100%",bg:"light"}});export{as as default,qe as useNavbarStyles};
