import{r as t,_ as A,u as Ue,a as qe,d as m,a_ as Je,b as Ye,a$ as M,b0 as Ke,b1 as Xe,$ as se,b2 as Qe,b3 as Ze,j as e,ao as z,S as v,F as r,m as eo,h as y,i as E,M as oo,T as n,K as ne,l as P,G as T,b4 as so,b5 as no,b6 as to,y as x,W as L,a6 as te,b7 as ro,b8 as B,O as re,V as ae,b9 as le,aa as ie,ab as ce,ac as de,aq as ao,C as _,H as lo,N as io,a2 as xe,I as he,f as pe,aC as co,aD as xo,aE as ho}from"./index-f182da16.js";import{A as po}from"./index.esm-49c0055e.js";import{e as ue}from"./empty-fb04a4d6.js";const uo=t.lazy(()=>A(()=>import("./index-f182da16.js").then(i=>i.cV),["assets/index-f182da16.js","assets/index-ed5220eb.css"])),fo=t.lazy(()=>A(()=>import("./index-b574d564.js"),["assets/index-b574d564.js","assets/index-f182da16.js","assets/index-ed5220eb.css","assets/index-0f1e5a48.js","assets/index-ebf179b7.js"])),mo=t.lazy(()=>A(()=>import("./index-e7316cf6.js"),["assets/index-e7316cf6.js","assets/index-f182da16.js","assets/index-ed5220eb.css"])),jo=()=>{var Y,K,X,Q,Z,ee,oe;let i=Ue();const h=qe(),fe=t.useRef(),{token:l}=m(o=>o.authReducer),{user_data:a}=m(o=>o.userReducer),{order_data:c,getOrder_loading:me}=m(o=>o.orderReducer),[je]=Je(),be=je.get("tab"),N=Ye(),{my_deals_loading:ge,my_followed_brands:d}=m(o=>o.userReducer),{collection_data:k,collection_loading:go}=m(o=>o.collectionReducer);t.useEffect(()=>{l&&h(M({token:l}))},[l]),t.useEffect(()=>{l&&(h(Ke({token:l})),h(Xe({token:l})))},[]);const{isOpen:we,onOpen:$,onClose:j}=se(),{isOpen:Ce,onOpen:Se,onClose:D}=se(),{root:ve,infoBox:ye,font1:ke,font2:De,editProfileText:Fe,contain:wo,smallerDesc:Oe,singleCol:W,popContentStyle:Re,colOptionText:Ie,cancelButton:H,nextButton:V,newCollectionInput:Me,editProfileButton:ze,iconCenter:Ee,editIconStack:Pe,imageDisplay:Te,fontUnderline:Le,nameStack:Be}=bo(),[_e]=Qe(),[Ae]=Ze(),[Ne,G]=t.useState(!1),[Co,U]=t.useState(""),[b,q]=t.useState(""),[F,J]=t.useState(!1);t.useState(!1),t.useState([]);const[g,O]=t.useState(null),[$e,We]=t.useState("");t.useEffect(()=>{const p=["January","February","March","April","May","June","July","August","September","October","November","December"][new Date().getMonth()];We(p)},[]);const R=[{id:"1",name:"My deals"},{id:"2",name:"My saved"},{id:"3",name:"My brands"}];async function He(){b&&(G(!0),await _e({name:b}).then(({data:o})=>{h(M({token:l})),xe(N,"Collection added successfully"),j()}).catch(o=>{U(o)}).finally(()=>{G(!1),q("")}))}async function Ve(o){J(!0),O(o),await Ae(o).then(({data:s})=>{h(M({token:l})),xe(N,"Collection deleted successfully"),j()}).catch(s=>{U(s)}).finally(()=>{D(),J(!1),O(null)})}function Ge(){var o;return e.jsx(e.Fragment,{children:e.jsxs(r,{w:"100%",justify:"space-between",flexDir:"row",flexWrap:"wrap",children:[(o=k==null?void 0:k.collections)==null?void 0:o.map((s,p)=>{var u,f;return e.jsxs(r,{...W,children:[e.jsx(r,{...Te,flexDir:"row",wrap:"wrap",children:e.jsx(he,{src:s==null?void 0:s.image,objectFit:"contain",fallbackSrc:pe.appLogoPlaceholder},x())}),e.jsxs(y,{justify:"center",...Be,children:[e.jsx(n,{noOfLines:1,fontSize:"18px",children:s==null?void 0:s.name}),e.jsxs(n,{color:"#999999",children:[(u=s.likes)==null?void 0:u.length," ",((f=s.likes)==null?void 0:f.length)>0?"items":"item"]})]}),e.jsx(r,{w:"10%",h:"15%",alignSelf:"center",children:e.jsx(co,{isLazy:!0,placement:"bottom",children:({isOpen:I,onClose:w})=>e.jsxs(e.Fragment,{children:[e.jsx(xo,{children:e.jsx(z,{as:"button",children:F&&s.id===g?e.jsx(v,{size:"sm"}):e.jsx(L,{w:"100%",h:"100%",as:po})})}),e.jsx(z,{as:"button",textAlign:"left",children:e.jsx(ho,{ref:fe,onClick:w,...Re,children:e.jsx(y,{...Pe,children:["Delete"].map((C,S)=>e.jsxs(r,{as:"button",flexDir:"row",align:"center",onClick:()=>{S===1?i(`${s==null?void 0:s.id}`,{state:{id:s==null?void 0:s.id}}):O((s==null?void 0:s.id)??null),Se()},children:[e.jsx(he,{w:"8%",h:"8%",src:pe.edit_Icon,mr:"5%"}),e.jsx(n,{...Ie,children:C})]},x()))})})})]})})})]},x())}),e.jsxs(r,{...W,onClick:$,children:[e.jsx(_,{...Ee,flexDir:"row",flexWrap:"wrap",children:e.jsx(L,{w:"3vw",h:"3vw",as:te})}),e.jsx(E,{ml:"5%",children:e.jsx(n,{children:"New collection"})})]})]})})}return e.jsxs(z,{w:"100%",h:"100vh",flexDir:"column",children:[e.jsx(t.Suspense,{fallback:e.jsx(v,{size:"sm"}),children:e.jsx(uo,{})}),e.jsx(r,{flexDir:"column",children:e.jsx(eo,{children:e.jsxs(y,{...ve,children:[e.jsxs(E,{...ye,bg:"#F2F2F2",children:[e.jsx(oo,{size:"xl",mr:"2%",name:`${(Y=a==null?void 0:a.customer)==null?void 0:Y.name}`,src:(K=a==null?void 0:a.customer)==null?void 0:K.profilePicture}),e.jsxs(y,{children:[e.jsx(n,{...ke,textTransform:"uppercase",children:(X=a==null?void 0:a.customer)==null?void 0:X.name}),e.jsxs(n,{...De,children:["Member since ",$e," ",new Date().getUTCFullYear()]})]}),e.jsx(ne,{}),e.jsx(P,{variant:"outline",...ze,onClick:()=>i(`${T}/settings`),children:e.jsx(n,{...Fe,children:"Edit Profile"})})]}),e.jsxs(so,{isLazy:!0,defaultIndex:be==="saved"?1:0,children:[e.jsxs(r,{flexDir:"row",w:"100%",children:[e.jsx(no,{children:R==null?void 0:R.map(o=>e.jsx(to,{...Oe,_selected:{color:"black",borderColor:"black"},color:"#999999",children:e.jsx(n,{fontWeight:"700",children:o.name})},x()))}),e.jsx(ne,{}),e.jsxs(E,{onClick:$,cursor:"pointer",children:[e.jsx(n,{fontWeight:"600",children:"New collection"}),e.jsx(L,{w:"30px",h:"30px",as:te})]})]}),e.jsxs(ro,{children:[e.jsx(B,{px:0,children:e.jsx(t.Suspense,{fallback:e.jsx(v,{size:"sm"}),children:((Q=c==null?void 0:c.orders)==null?void 0:Q.length)>0?e.jsx(e.Fragment,{children:(Z=c==null?void 0:c.orders)==null?void 0:Z.map(o=>{var s,p,u,f,I,w,C,S;return e.jsx(re,{isLoaded:!me,mb:"2px",children:e.jsx(fo,{name:(s=o==null?void 0:o.offer)==null?void 0:s.name,price:Number((p=o==null?void 0:o.offer)==null?void 0:p.originalPrice),token:`${(u=o==null?void 0:o.offer)==null?void 0:u.tokens} ${(I=(f=o==null?void 0:o.offer)==null?void 0:f.reward)==null?void 0:I.rewardSymbol}`,quantity:o==null?void 0:o.quantity,date:(w=o==null?void 0:o.offer)==null?void 0:w.updatedAt,expired:!1,image:(S=(C=o==null?void 0:o.offer)==null?void 0:C.offerImages[0])==null?void 0:S.url,rest:{...o}})},x())})}):e.jsxs(ae,{children:[e.jsx(r,{w:"500px",h:"500px",children:e.jsx(le,{animationData:ue,loop:!0,autoplay:!0,width:50,height:70})}),e.jsxs(n,{children:["You currently have no deals,"," ",e.jsx(n,{as:"button",onClick:()=>i(`${T}/dashboard/category`),...Le,children:"Explore your favorite deals to purchase"})]})]})})}),e.jsx(B,{px:0,children:Ge()}),e.jsx(B,{px:0,children:e.jsx(t.Suspense,{fallback:e.jsx(v,{size:"sm"}),children:((ee=d==null?void 0:d.following)==null?void 0:ee.length)>0?e.jsx(e.Fragment,{children:(oe=d==null?void 0:d.following)==null?void 0:oe.map(o=>e.jsx(re,{isLoaded:!ge,mb:"2px",children:e.jsx(mo,{item:{...o}},x())}))}):e.jsxs(ae,{children:[e.jsx(r,{w:"400px",h:"400px",children:e.jsx(le,{animationData:ue,loop:!0,autoplay:!0,width:50,height:70})}),e.jsxs(n,{children:["You currently have followed brands,"," ",e.jsx(n,{as:"button",onClick:()=>i(`${T}/dashboard/shop`),children:"Explore your favorite brands"})]})]})})})]})]})]})})}),e.jsxs(ie,{isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:we,size:"xl",onClose:j,motionPreset:"slideInBottom",closeOnOverlayClick:!1,children:[e.jsx(ce,{}),e.jsxs(de,{w:{base:"90vw",md:"30vw"},h:"15vw",borderRadius:0,p:"1%",children:[e.jsx(n,{children:"Create new collection"}),e.jsx(ao,{variant:"outline",...Me,placeholder:"Collection name",value:b,onChange:({target:o})=>{q(o.value)}}),e.jsx(P,{isLoading:Ne,...V,onClick:He,disabled:!b,children:e.jsx(n,{children:"Next"})}),e.jsx(_,{...H,onClick:j,as:"button",children:e.jsx(n,{children:"Cancel"})})]})]}),e.jsxs(ie,{isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:Ce,size:"xl",onClose:D,motionPreset:"slideInBottom",closeOnOverlayClick:!1,children:[e.jsx(ce,{}),e.jsxs(de,{w:{base:"90vw",md:"30vw"},h:"15vw",borderRadius:0,p:"1%",children:[e.jsxs(lo,{mb:3,fontSize:"sm",children:["Delete collection"," "]}),e.jsx(n,{children:"Are you sure you want to delete this collection? This action cannot be undone."}),e.jsx(P,{isLoading:!!g&&F,...V,bg:"red.600",onClick:()=>Ve(g),isDisabled:!g,children:e.jsx(n,{children:"Delete"})}),e.jsx(_,{...H,onClick:D,as:"button",children:e.jsx(n,{children:"Cancel"})})]})]}),F&&e.jsx(io,{})]})},ko=jo,bo=()=>({root:{w:"100%",mt:"108px",pt:"3%",overflow:"hidden"},infoBox:{w:"100%",h:"150px",px:"2%",borderRadius:"16px"},root2:{w:"1440px",h:"248px",mt:"1px"},font1:{fontSize:"24px",color:"#000000"},font2:{fontSize:"16px",color:"#999999"},editProfileText:{fontSize:"14px"},button:{w:"150px",h:"47px",borderRadius:"0px",background:"#000000",fontSize:"18px",lineHeight:"22px",color:"#FFFFFF"},contain:{w:"100%",h:"64px",mt:"297px"},head:{fontSize:{base:"18px",md:"20px"}},smallerDesc:{fontSize:{base:"10px",md:"16px"}},container:{w:"100px",_hover:{background:"black",color:"white"}},search:{w:"240px",h:"40px",background:"#F6F6F6",borderRadius:"53px"},font:{fontSize:"16px",lineHeight:"19px",_hover:{color:"#FFFFFF"}},popfont:{fontSize:"12px",lineHeight:"14px",color:"#999999"},singleCol:{w:"44%",h:"200px",borderRadius:"16px",borderWidth:"1px",borderColor:"#9999992B",overflow:"hidden",mb:"2vw"},popContentStyle:{borderRadius:"0",width:"100%",background:"#FFFFFF",border:"0px"},colOptionText:{fontSize:"12px"},cancelButton:{bg:"light",color:"dark",h:"40px",borderWidth:1,mt:"6px"},nextButton:{mt:"20px",color:"white",h:"40px",borderRadius:0,_hover:{bg:"dark"},bg:"dark"},editProfileButton:{borderRadius:"30px",alignSelf:"flex-start",top:"20%",borderColor:"dark"},newCollectionInput:{mt:"10px",h:"40px",borderRadius:0,_placeholder:{color:"#cfcfcf"}},iconCenter:{bg:"#f2f2f2",w:"40%",cursor:"pointer",h:"100%"},editIconStack:{bg:"light",py:"5%",pr:"20%",w:"15vw",borderRadius:"4px",boxShadow:"1px 2px 9px #00000035",pl:"5%"},imageDisplay:{h:"100%",bg:"grey",cursor:"pointer",w:"40%"},fontUnderline:{decoration:"underline"},nameStack:{ml:"5%",w:"60%"}});export{ko as default};
