import{r,_ as ie,Q as ae,b as ce,a as pe,d as H,aW as ue,g as b,j as e,h as n,i as d,al as I,T as l,J as he,S as N,a4 as de,o as h,v as B,$ as W,B as xe}from"./index-e858156d.js";const ge=r.lazy(()=>ie(()=>import("./index-ef641e1e.js"),["assets/index-ef641e1e.js","assets/index-e858156d.js","assets/index-ed5220eb.css","assets/countries-e12a8af3.js","assets/chunk-3RSXBRAN-db78bbc1.js"])),fe=()=>{var F,R,U,E,k,P,A;const{button:$,profileFont1:K,profileFont2:O,profileFont3:i,inputStyle:p}=M();ae();let y=ce();const S=pe(),{countrySelect:G}=M(),{user_data:t}=H(o=>o.userReducer),{token:u}=H(o=>o.authReducer),[w]=ue(),[Y,C]=r.useState("United States of America"),[Z,J]=r.useState(),[v,Q]=r.useState(),[V,x]=r.useState(!1),[g,q]=r.useState((F=t==null?void 0:t.customer)==null?void 0:F.height),[f,X]=r.useState((R=t==null?void 0:t.customer)==null?void 0:R.weight),[m,ee]=r.useState((U=t==null?void 0:t.customer)==null?void 0:U.bio),[j,oe]=r.useState((E=t==null?void 0:t.customer)==null?void 0:E.name);function te(o){console.log(o.target.files),J(URL.createObjectURL(o.target.files[0])),Q(o.target.files[0])}r.useEffect(()=>{se()},[]);const se=()=>{b.get("https://ipapi.co/json/").then(o=>{let a=o.data;C(a.country_name)}).catch(o=>{console.log(o)})};async function re(){const{signature:o,timestamp:a,cloudName:L,apiKey:ne}=await b.get(`${xe}/upload/image-signature`,{headers:{Authorization:`Bearer ${u}`}}).then(({data:s})=>{var T,z,D,_;return{apiKey:(T=s==null?void 0:s.data)==null?void 0:T.apiKey,cloudName:(z=s==null?void 0:s.data)==null?void 0:z.cloudName,signature:(D=s==null?void 0:s.data)==null?void 0:D.signature,timestamp:(_=s==null?void 0:s.data)==null?void 0:_.timestamp}}),c=new FormData;return c.append("file",v),c.append("cloud_name",L),c.append("api_key",ne),c.append("timestamp",a),c.append("signature",o),b.post(`https://api.cloudinary.com/v1_1/${L}/upload`,c,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:s})=>(console.log(s,"pppp"),{secure_url:s==null?void 0:s.secure_url}))}async function le(){if(x(!0),v){const{secure_url:o}=await re();await w({fullName:j,profilePicture:o,weight:f,height:g,bio:m}).then(({data:a})=>{u&&S(B({token:u})),W(y,"Profile updated successfully")}).catch(a=>{console.log(a,"UPDATeYUSERZRR")}).finally(()=>{x(!1)});return}await w({name:j,weight:f,height:g,bio:m}).then(({data:o})=>{u&&S(B({token:u})),W(y,"Profile updated successfully")}).catch(o=>{console.log(o,"UPDATeYUSERZRR")}).finally(()=>{x(!1)})}return e.jsxs(n,{children:[e.jsxs(d,{children:[e.jsx(I,{children:e.jsx(l,{...K,children:"Edit Profile"})}),e.jsx(he,{}),e.jsx(I,{as:"button",...$,onClick:le,children:e.jsx(l,{children:V?e.jsx(N,{size:"xs"}):"Save"})})]}),e.jsxs(d,{py:"2%",children:[e.jsx(de,{name:(k=t==null?void 0:t.customer)==null?void 0:k.name,src:Z||((P=t==null?void 0:t.customer)==null?void 0:P.profilePicture)}),e.jsxs(n,{children:[e.jsx(l,{...O,children:(A=t==null?void 0:t.customer)==null?void 0:A.name}),e.jsx(l,{...i,decoration:"underline",as:"button",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"image_uploads",style:{cursor:"pointer"},children:"Change profile photo"}),e.jsx("input",{type:"file",id:"image_uploads",name:"image_uploads",accept:".jpg, .jpeg, .png",style:{opacity:"0"},onChange:te,placeholder:"Changle profile photo"})]})})]})]}),e.jsxs(n,{children:[e.jsxs(d,{w:"100%",children:[e.jsxs(n,{w:"25%",children:[e.jsx(l,{...i,ml:"0",children:"Full Name"}),e.jsx(h,{...p,placeholder:"Enter Full Name",value:j,onChange:({target:o})=>{oe(o.value)},border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}})]}),e.jsxs(n,{w:"50%",children:[e.jsx(l,{...i,ml:"0",children:"Email"}),e.jsx(h,{...p,placeholder:"Enter Email",isDisabled:!0,value:t==null?void 0:t.email,border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}})]})]}),e.jsxs(d,{py:"20px",children:[e.jsxs(n,{w:"50%",children:[e.jsx(l,{...i,ml:"0",children:"Location"}),e.jsx(r.Suspense,{fallback:e.jsx(N,{size:"sm"}),children:e.jsx(ge,{value:Y,onChange:o=>{C(o.target.value)},...G})})]}),e.jsxs(n,{w:"25%",children:[e.jsx(l,{...i,ml:"0",children:"Weight"}),e.jsx(h,{...p,placeholder:"Enter Weight",value:f,onChange:({target:o})=>{X(o.value)},border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}})]}),e.jsxs(n,{w:"25%",children:[e.jsx(l,{...i,ml:"0",children:"Height"}),e.jsx(h,{...p,placeholder:"Enter Height",value:g,onChange:({target:o})=>{q(o.value)},border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}})]})]}),e.jsxs(n,{children:[e.jsx(l,{...i,ml:"0",children:"Bio"}),e.jsx(h,{...p,as:"textarea",h:"100px",w:"100%",textAlign:"start",placeholder:" Write your review here. It must be at least 5 characters long.",noOfLines:5,_focus:{borderColor:"dark",boxShadow:"none"},value:m,onChange:({target:o})=>{ee(o.value)},border:"1px solid rgba(0, 0, 0, 0.08)"})]})]})]})},je=fe,M=()=>({button:{display:"flex",alignItems:"center",justifyContent:"center",width:"71px",height:"42px",border:"1px solid #000000",borderRadius:"100px"},copyrightText:{color:"light",fontSize:["14px","16px","16px","14px","16px"]},countrySelect:{w:"100%",bg:"light",color:"dark",borderWidth:"1px",my:"30px",borderRadius:"0px",borderColor:"grey"},linksStyle:{color:"darkGrey"},profileFont1:{fontSize:"24px",lineHeight:"29px",color:"#000000"},profileFont2:{fontSize:"18px",lineHeight:"22px",color:"#000000"},profileFont3:{fontSize:"14px",lineHeight:"17px",color:"#000000",marginLeft:0,left:0},profileFont4:{fontSize:"14px",lineHeight:"20px",color:"#AFAFAF",marginLeft:0,left:0},inputStyle:{h:"48px",borderColor:"grey",variant:"outline",borderRadius:"0px"}});export{je as M};
