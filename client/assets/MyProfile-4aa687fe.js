import{r as n,_ as ae,J as ce,b as pe,a as ue,d as N,as as he,j as e,h as l,i as x,X as d,T as r,w as xe,S as I,a0 as de,ai as u,ah as B,aj as _,aw as M,U as W,g as $,B as me}from"./index-22a5f3d5.js";const ge=n.lazy(()=>ae(()=>import("./index-ceaee24d.js"),["assets/index-ceaee24d.js","assets/index-22a5f3d5.js","assets/index-00bfa456.css","assets/countries-020c4914.js","assets/chunk-3RSXBRAN-59d5bafe.js"])),fe=()=>{var F,R,U,E,k,P,z;const{button:O,profileFont1:G,profileFont2:Y,profileFont3:i,inputStyle:c}=K();ce();let S=pe();const w=ue(),{countrySelect:Z}=K(),{user_data:o}=N(t=>t.userReducer),{token:p}=N(t=>t.authReducer),[C]=he(),[m,J]=n.useState((o==null?void 0:o.countryName)||"United States of America"),[V,X]=n.useState(),[v,q]=n.useState(),[Q,g]=n.useState(!1),[f,ee]=n.useState((F=o==null?void 0:o.customer)==null?void 0:F.height),[j,oe]=n.useState((R=o==null?void 0:o.customer)==null?void 0:R.weight),[y,te]=n.useState((U=o==null?void 0:o.customer)==null?void 0:U.bio),[b,se]=n.useState((E=o==null?void 0:o.customer)==null?void 0:E.name);function re(t){console.log(t.target.files),X(URL.createObjectURL(t.target.files[0])),q(t.target.files[0])}console.log(o,"this is data");async function ne(){const{signature:t,timestamp:h,cloudName:A,apiKey:ie}=await $.get(`${me}/upload/image-signature`,{headers:{Authorization:`Bearer ${p}`}}).then(({data:s})=>{var L,T,D,H;return{apiKey:(L=s==null?void 0:s.data)==null?void 0:L.apiKey,cloudName:(T=s==null?void 0:s.data)==null?void 0:T.cloudName,signature:(D=s==null?void 0:s.data)==null?void 0:D.signature,timestamp:(H=s==null?void 0:s.data)==null?void 0:H.timestamp}}),a=new FormData;return a.append("file",v),a.append("cloud_name",A),a.append("api_key",ie),a.append("timestamp",h),a.append("signature",t),$.post(`https://api.cloudinary.com/v1_1/${A}/upload`,a,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:s})=>(console.log(s,"pppp"),{secure_url:s==null?void 0:s.secure_url}))}async function le(){if(g(!0),v){const{secure_url:t}=await ne();await C({fullName:b,profilePicture:t,location:m,weight:j,height:f,bio:y}).then(({data:h})=>{p&&w(M({token:p})),W(S,"Profile updated successfully")}).catch(h=>{console.log(h,"UPDATeYUSERZRR")}).finally(()=>{g(!1)});return}await C({name:b,location:m,weight:j,height:f,bio:y}).then(({data:t})=>{p&&w(M({token:p})),W(S,"Profile updated successfully")}).catch(t=>{console.log(t,"UPDATeYUSERZRR")}).finally(()=>{g(!1)})}return e.jsxs(l,{children:[e.jsxs(x,{children:[e.jsx(d,{children:e.jsx(r,{...G,children:"Edit Profile"})}),e.jsx(xe,{}),e.jsx(d,{as:"button",...O,onClick:le,children:e.jsx(r,{children:Q?e.jsx(I,{size:"xs"}):"Save"})})]}),e.jsxs(x,{py:"2%",children:[e.jsx(de,{name:(k=o==null?void 0:o.customer)==null?void 0:k.name,src:V||((P=o==null?void 0:o.customer)==null?void 0:P.profilePicture)}),e.jsxs(l,{children:[e.jsx(r,{...Y,children:(z=o==null?void 0:o.customer)==null?void 0:z.name}),e.jsx(r,{...i,decoration:"underline",as:"button",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"image_uploads",style:{cursor:"pointer"},children:"Change profile photo"}),e.jsx("input",{type:"file",id:"image_uploads",name:"image_uploads",accept:".jpg, .jpeg, .png",style:{opacity:"0"},onChange:re,placeholder:"Changle profile photo"})]})})]})]}),e.jsxs(l,{children:[e.jsxs(x,{w:"100%",children:[e.jsxs(l,{w:"25%",children:[e.jsx(r,{...i,ml:"0",children:"Full Name"}),e.jsx(u,{...c,placeholder:"Enter Full Name",value:b,onChange:({target:t})=>{se(t.value)},border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}})]}),e.jsxs(l,{w:"50%",children:[e.jsx(r,{...i,ml:"0",children:"Email"}),e.jsx(u,{...c,placeholder:"Enter Email",isDisabled:!0,value:o==null?void 0:o.email,border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}})]})]}),e.jsxs(x,{py:"20px",children:[e.jsxs(l,{w:"50%",children:[e.jsx(r,{...i,ml:"0",children:"Location"}),e.jsx(n.Suspense,{fallback:e.jsx(I,{size:"sm"}),children:e.jsx(ge,{value:m,onChange:t=>{J(t.target.value)},...Z})})]}),e.jsxs(l,{w:"25%",children:[e.jsx(r,{...i,ml:"0",children:"Weight"}),e.jsxs(B,{children:[e.jsx(u,{type:"number",...c,placeholder:"Enter Weight",value:j,onChange:({target:t})=>{oe(t.value)},border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}}),e.jsx(_,{mr:2,mt:1,fontSize:"6px",children:e.jsx(d,{children:e.jsx("span",{style:{fontSize:"12px"},children:"kg"})})})]})]}),e.jsxs(l,{w:"25%",children:[e.jsx(r,{...i,ml:"0",children:"Height"}),e.jsxs(B,{children:[e.jsx(_,{mr:2,mt:1,fontSize:"6px",children:e.jsx(d,{children:e.jsx("span",{style:{fontSize:"12px"},children:"cm"})})}),e.jsx(u,{...c,placeholder:"Enter Height",value:f,onChange:({target:t})=>{ee(t.value)},border:"1px solid rgba(0, 0, 0, 0.08)",_focus:{borderColor:"dark",boxShadow:"none"}})]})]})]}),e.jsxs(l,{children:[e.jsx(r,{...i,ml:"0",children:"Bio"}),e.jsx(u,{...c,p:"15px",as:"textarea",h:"100px",mb:10,w:"100%",textAlign:"start",placeholder:"Express yourself.",noOfLines:5,_focus:{borderColor:"dark",boxShadow:"none"},value:y,onChange:({target:t})=>{te(t.value)},border:"1px solid rgba(0, 0, 0, 0.08)"})]})]})]})},ye=fe,K=()=>({button:{display:"flex",alignItems:"center",justifyContent:"center",width:"71px",height:"42px",border:"1px solid #000000",borderRadius:"100px"},copyrightText:{color:"light",fontSize:["14px","16px","16px","14px","16px"]},countrySelect:{w:"100%",bg:"light",color:"dark",borderWidth:"1px",my:"30px",borderRadius:"0px",borderColor:"grey"},linksStyle:{color:"darkGrey"},profileFont1:{fontSize:"24px",lineHeight:"29px",color:"#000000"},profileFont2:{fontSize:"18px",lineHeight:"22px",color:"#000000"},profileFont3:{fontSize:"14px",lineHeight:"17px",color:"#000000",marginLeft:0,left:0},profileFont4:{fontSize:"14px",lineHeight:"20px",color:"#AFAFAF",marginLeft:0,left:0},inputStyle:{h:"48px",borderColor:"grey",variant:"outline",borderRadius:"0px"}});export{ye as M};
