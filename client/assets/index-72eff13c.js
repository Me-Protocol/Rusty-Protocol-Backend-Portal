import{j as e,aa as q,ab as K,ac as Q,bZ as ee,r as s,i as M,T as t,u as B,b as se,a as F,F as n,n as te,S as d,ao as V,b_ as oe,G as O,b$ as ae,a2 as re,_ as C,o as ne,$ as ie,d as le,c0 as ce,g as de,I as ue,f as xe,c1 as pe,V as me,e as he,L as z,B as fe,D as T,H as je,l as ge,c2 as be}from"./index-cb6f3678.js";import{u as Se}from"./Login-71eca662.js";import{F as ye}from"./formik.esm-af298c3b.js";import{I as we}from"./index.esm-6eb22d59.js";import{P as Ce,a as _e}from"./chunk-I5V4ORUK-7ff7a8cb.js";import{C as ve}from"./chunk-CWVAJCXJ-b15447d4.js";import"./chunk-7D6N5TE5-9ce20bd9.js";const Ee=({children:o,isOpen:i,onClose:a,modalContentStyle:r,modalBodyStyle:l,...u})=>e.jsxs(q,{isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:i,size:"lg",onClose:a,motionPreset:"slideInBottom",...u,children:[e.jsx(K,{bg:"#00000020",backdropFilter:"auto",backdropBlur:"2px"}),e.jsx(Q,{w:{base:"90vw",md:"60vw"},borderRadius:0,py:"1%",...r,children:e.jsx(ee,{...l,children:o})})]}),ke=({countFrom:o,onCountdownComplete:i})=>{const[a,r]=s.useState(o),[l,u]=s.useState(!0);s.useEffect(()=>{if(l&&a>0){const x=setInterval(()=>{r(a-1)},1e3);return()=>clearInterval(x)}else a===0&&l&&(u(!1),i())},[a,l,i]);const m=x=>{const g=Math.floor(x/60),h=x%60;return`${g.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`},j=()=>{o>0||(r(o),u(!0))};return e.jsxs(M,{as:"button",onClick:j,children:[e.jsx(t,{children:"Resend"}),e.jsxs(t,{opacity:a>0?1:0,children:["(",m(a),")"]})]})},Ie=({isOpen:o,onClose:i,token:a})=>{const[r,l]=s.useState(!1),[u,m]=s.useState(!1),[j,x]=s.useState(60),[g,h]=s.useState("");let I=B(),b=se();const _=F();async function P(p){try{m(!0);const{payload:f,error:v}=await _(oe({code:p,token:a}));if(v)return h(v.message);if(f){i();const E="error-toast";b.isActive(E)||b({id:E,position:"top",title:"Account Created Successfully",description:"Your account was created using email and password, please enter your email and password to continue",status:"success",duration:9e3,isClosable:!1}),I(`${O}/login`)}}catch{}finally{m(!1)}}async function R(){try{m(!0);const{payload:p,error:f}=await _(ae({token:a}));if(f)return h(f.message);p&&re(b,"Code resent successfully",9e3,"bottom-left")}catch{}finally{m(!1)}}return e.jsx(Ee,{isOpen:o,onClose:i,closeOnOverlayClick:!1,modalContentStyle:{borderRadius:"10px"},children:e.jsxs(n,{flexDir:"column",py:"5px",children:[e.jsx(n,{alignSelf:"flex-end",as:"button",onClick:i,mb:"20px",children:e.jsx(we,{size:20})}),e.jsx(t,{fontSize:"14px",mb:"10px",children:"Please provide the OTP sent to your Email"}),e.jsx(M,{w:"100%",h:"80px",children:e.jsx(Ce,{onComplete:p=>{h(""),P(p)},otp:!0,placeholder:"*",children:[1,2,3,4].map(()=>e.jsx(_e,{bg:"grey",borderRadius:10,borderWidth:0,w:"30%",h:"100%"},te()))})}),g&&e.jsx(t,{color:"red",children:g}),u&&e.jsx(d,{size:"sm",alignSelf:"flex-end",mt:"10px"}),e.jsxs(M,{fontSize:"14px",mt:"25px",children:[e.jsx(t,{children:"Did not receive OTP?"}),e.jsx(V,{opacity:r?1:.5,onClick:()=>{r&&(R(),x(j+1),l(!1))},children:e.jsx(ke,{countFrom:j,onCountdownComplete:()=>{l(!0)}})})]})]})})},Pe=s.lazy(()=>C(()=>import("./index-7562f712.js"),["assets/index-7562f712.js","assets/index-cb6f3678.js","assets/index-ed5220eb.css"])),Re=s.lazy(()=>C(()=>import("./index-cb6f3678.js").then(o=>o.cV),["assets/index-cb6f3678.js","assets/index-ed5220eb.css"])),w=s.lazy(()=>C(()=>import("./index-c368e9ab.js"),["assets/index-c368e9ab.js","assets/index-cb6f3678.js","assets/index-ed5220eb.css","assets/formik.esm-af298c3b.js"])),Le=s.lazy(()=>C(()=>import("./index-f215849d.js"),["assets/index-f215849d.js","assets/index-cb6f3678.js","assets/index-ed5220eb.css","assets/countries-020c4914.js","assets/chunk-3RSXBRAN-a794515d.js"])),ze=s.lazy(()=>C(()=>import("./index-8b427caa.js"),["assets/index-8b427caa.js","assets/index-cb6f3678.js","assets/index-ed5220eb.css"])),Me=()=>{const o=F();let i=B();const a=ne(),[r,l]=s.useState(!1),[u,m]=s.useState(!1),{isOpen:j,onClose:x,onOpen:g}=ie(),[h,I]=s.useState(""),[b,_]=s.useState(""),P=()=>l(!r),{token:R,registerLoading:p}=le(c=>c.authReducer),{root:f,boxLeft:v,boxRegister:E,leftImg:$,registerColumn:G,head:N,desc:k,basedText:L,checkBoxRoot:H,countrySelect:J}=Se();s.useEffect(()=>{o(ce()),W(),R&&i(`${O}/dashboard`)},[]);const[U,A]=s.useState("United States of America"),W=()=>{de.get("https://ipapi.co/json/").then(c=>{let S=c.data;A(S.country_name)}).catch(c=>{console.log(c)})},X=async({email:c,password:S,firstname:Y,lastname:Z})=>{if(!a)return;const{payload:D,error:y}=await o(be({firstname:Y,lastname:Z,email:c,password:S}));if(y)return console.log(y),_(y==null?void 0:y.message);D&&(I(D),g())};return e.jsxs(e.Fragment,{children:[e.jsx(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:e.jsx(n,{pos:"absolute",children:e.jsx(ze,{pos:"fixed"})})}),e.jsxs(n,{...f,children:[e.jsx(n,{...v,children:e.jsx(ue,{src:xe.AuthImage,alt:"Me Protocol",...$})}),e.jsx(n,{...E,overflowX:"hidden",children:e.jsx(ye,{initialValues:{email:"",password:"",confirm:"",firstname:"",lastname:""},validationSchema:pe,onSubmit:X,children:c=>e.jsxs(me,{as:"form",...G,onChange:()=>o(he()),onSubmit:c.handleSubmit,children:[e.jsx(t,{...N,children:"Letâ€™s get started."}),e.jsx(n,{w:"100%",justify:"space-between",children:e.jsx(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:e.jsx(z,{href:`${fe}/user/google`,w:"full",children:e.jsx(Re,{isLoading:u,name:"Sign up with Google",rest:{w:"100%"}})})})}),e.jsxs(n,{align:"center",w:"100%",justify:"space-between",children:[e.jsx(T,{w:"45%",color:"#ECECEC"}),e.jsx(t,{color:"#999999",fontSize:{base:"12px",md:"20px"},children:"or"}),e.jsx(T,{w:"45%",color:"#ECECEC"})]}),e.jsx(t,{...k,children:"Enter a few details to join the ME community"}),e.jsxs(n,{flexDir:{base:"column",md:"row"},justifyContent:"space-between",w:"100%",children:[e.jsx(n,{w:{base:"100%",md:"49%"},children:e.jsx(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:e.jsx(w,{name:"firstname",placeholder:"First Name"})})}),e.jsx(n,{w:{base:"100%",md:"49%"},children:e.jsx(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:e.jsx(w,{name:"lastname",placeholder:"Last Name"})})})]}),e.jsxs(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:[e.jsx(w,{name:"email",type:"email",placeholder:"your@email.com"}),b&&e.jsx(t,{fontSize:"12px",color:"red",children:b})]}),e.jsx(je,{...L,children:"Get yourself a password."}),e.jsx(t,{...k,children:"Passwords must include a symbol or number and have at least 8 characters."}),e.jsxs(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:[e.jsx(w,{name:"password",type:r?"text":"password",placeholder:"Password"}),e.jsx(w,{name:"confirm",type:r?"text":"password",placeholder:"Confirm Password"})]}),e.jsx(t,{as:ge,onClick:P,alignSelf:"flex-end",...L,pt:"0px",bg:"transparent",_hover:{bg:"transparent"},children:r?"Hide":"Show"}),e.jsx(t,{...L,children:"Where are you based?"}),e.jsx(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:e.jsx(Le,{value:U,onChange:S=>{A(S.target.value)},...J})}),e.jsx(n,{...H,children:e.jsx(ve,{w:"100%",borderColor:"black",spacing:"1rem",children:"Get exclusive offers, trends and deals"})}),e.jsx(s.Suspense,{fallback:e.jsx(d,{size:"sm"}),children:e.jsx(Pe,{isLoading:p,name:"Create Account"})}),e.jsxs(t,{...k,pt:"10px",children:["By signing up you accept to our"," ",e.jsxs(z,{href:"https://google.com",isExternal:!0,textDecoration:"underline",children:[" ","Terms and Services."]})]}),e.jsxs(t,{...k,pt:"10px",children:["Already have an account?",e.jsxs(z,{onClick:()=>{i(`${O}/login`,{replace:!0})},textDecoration:"underline",children:[" ","Login here."]})]}),e.jsx(V,{bg:"transparent",pt:"40px",w:"100%"})]})})})]}),e.jsx(Ie,{isOpen:j,onClose:x,token:h})]})},$e=Me;export{$e as default};
