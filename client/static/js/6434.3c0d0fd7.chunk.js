"use strict";(self.webpackChunkapp_web_frontend=self.webpackChunkapp_web_frontend||[]).push([[6434,6442,5224],{75224:function(e,n,t){t.r(n);var r=t(1413),s=t(72791),o=t(9055),i=t(80184),a=function(e){var n=e.name,t=e.isLoading,s=e.onClick,a=e.isDisabled,l=e.rest,u=c().root;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.z,(0,r.Z)((0,r.Z)((0,r.Z)({type:"submit",isDisabled:a,isLoading:t,onClick:s},u),l),{},{children:n}))})};n.default=(0,s.memo)(a);var c=function(){return{root:{colorScheme:"black",bg:"black",py:{base:5},width:"100%",h:"45px",borderRadius:"100px",loadingText:"Submitting",fontSize:{base:12,md:18}}}}},56442:function(e,n,t){t.r(n);var r=t(1413),s=t(72791),o=t(76582),i=t(81146),a=t(62825),c=t(57689),l=t(23823),u=t(95048),d=t(52780),x=t(80184),p=function(e){var n=e.pos,t=(0,c.s0)(),s=(0,u.v9)((function(e){return e.authReducer})).token,p=f(),h=p.styles,b=p.img;return(0,x.jsx)(l.default,{children:(0,x.jsx)(o.k,(0,r.Z)((0,r.Z)({as:"button",onClick:function(){t("".concat(d.cn,s?"/dashboard":"/"))},position:n||"absolute"},h),{},{children:(0,x.jsx)(i.E,(0,r.Z)({"data-testid":"logo-1",src:a.Z.appLogo},b))}))})};n.default=(0,s.memo)(p);var f=function(){return{styles:{w:"100%",h:"50px",justifyContent:"flex-start"},img:{mt:5,h:"50px"}}}},74417:function(e,n,t){t.d(n,{yK:function(){return E}});var r=t(1413),s=t(74165),o=t(15861),i=t(29439),a=t(62577),c=t(76582),l=t(31917),u=t(39589),d=t(93080),x=t(88675),p=t(10884),f=t(9055),h=t(72791),b=t(57689),m=t(55705),g=t(52780),j=t(95048),Z=t(5064),v=t(24263),k=t(35486),w=t(23823),y=t(92387),S=t(80184),C=(0,h.lazy)((function(){return t.e(6442).then(t.bind(t,56442))})),L=(0,h.lazy)((function(){return Promise.resolve().then(t.bind(t,6691))})),z=(0,h.lazy)((function(){return t.e(5224).then(t.bind(t,75224))})),R=(0,h.lazy)((function(){return t.e(4458).then(t.bind(t,4458))}));n.ZP=function(){(0,b.TH)();var e=(0,b.s0)(),n=(0,v.s)(),t=(0,j.I0)(),_=(0,h.useState)(!1),I=(0,i.Z)(_,2),D=I[0],P=(I[1],(0,j.v9)((function(e){return e.authReducer}))),F=P.isLoading,N=(P.error,P.token),T=((0,j.v9)((function(e){return e.userReducer})).user_data,(0,h.useState)(" ")),$=(0,i.Z)(T,2),A=$[0],G=$[1],W=(0,h.useState)(!1),Y=(0,i.Z)(W,2),q=Y[0],B=Y[1],H=E(),K=H.root,X=(H.boxLeft,H.boxLogin),J=(H.leftImg,H.loginColumn),M=H.head,V=H.desc,O=H.basedText;(0,h.useEffect)((function(){t((0,Z.bY)()),N&&(t((0,Z.bY)()),e("".concat(g.cn,"/dashboard")))}),[t,N,e]);var Q=function(){var r=(0,o.Z)((0,s.Z)().mark((function r(o,i){var a,c,l,u,d,x,p,f;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=o.email,c=o.password,n){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,t((0,Z.FR)({identifier:a,password:c}));case 5:if(l=r.sent,u=l.payload,!(d=l.error)){r.next=10;break}return r.abrupt("return",G(null===d||void 0===d?void 0:d.message));case 10:if(!u){r.next=16;break}return r.next=13,t((0,y.bG)({token:u}));case 13:p=r.sent,null!==(f=p.payload)&&void 0!==f&&null!==(x=f.customer)&&void 0!==x&&x.walletAddress?e("".concat(g.cn,"/dashboard")):e("".concat(g.cn,"/syncRewards"));case 16:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}(),U=function(){return B(!q)};return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(w.default,{children:[(0,S.jsx)(h.Suspense,{fallback:(0,S.jsx)(a.$,{size:"sm"}),children:(0,S.jsx)(C,{pos:"fixed"})}),(0,S.jsx)(c.k,(0,r.Z)((0,r.Z)({},K),{},{children:(0,S.jsx)(c.k,(0,r.Z)((0,r.Z)({},X),{},{children:(0,S.jsx)(m.J9,{initialValues:{email:"",password:""},validationSchema:g.gs,onSubmit:Q,children:function(n){return(0,S.jsxs)(l.g,(0,r.Z)((0,r.Z)({as:"form"},J),{},{onSubmit:n.handleSubmit,onChange:function(){return t((0,Z.bY)())},children:[(0,S.jsx)(u.X,(0,r.Z)((0,r.Z)({},M),{},{pb:2,children:"Let\u2019s Login"})),(0,S.jsx)(c.k,{w:"100%",justify:"space-between",children:(0,S.jsx)(h.Suspense,{fallback:(0,S.jsx)(a.$,{size:"sm"}),children:(0,S.jsx)(d.r,{href:"".concat(k._n,"/user/google"),w:"full",children:(0,S.jsx)(L,{isLoading:D,name:"Sign in with Google",onClick:function(){},rest:{w:"100%"}})})})}),(0,S.jsxs)(c.k,{align:"center",w:"100%",justify:"space-between",children:[(0,S.jsx)(x.i,{w:"45%",color:"#ECECEC"}),(0,S.jsx)(p.x,{color:"#999999",fontSize:{base:"12px",md:"20px"},children:"or"}),(0,S.jsx)(x.i,{w:"45%",color:"#ECECEC"})]}),(0,S.jsxs)(h.Suspense,{fallback:(0,S.jsx)(a.$,{size:"sm"}),children:[(0,S.jsx)(R,{name:"email",type:"email",placeholder:"your@email.com"}),(0,S.jsx)(R,{name:"password",type:q?"text":"password",placeholder:"Password"})]}),(0,S.jsx)(p.x,(0,r.Z)((0,r.Z)({as:f.z,onClick:U,alignSelf:"flex-end"},O),{},{bg:"transparent",_hover:{bg:"transparent"},p:"0px",fontSize:"14px",children:q?"Hide":"Show"})),A&&(0,S.jsx)(p.x,(0,r.Z)((0,r.Z)({},V),{},{color:"red",children:A})),(0,S.jsx)(d.r,(0,r.Z)((0,r.Z)({onClick:function(){return e("".concat(g.cn,"/password_reset"))}},V),{},{pb:3,textDecoration:"underline",w:"30%",children:"Forgot Password"})),(0,S.jsx)(h.Suspense,{fallback:(0,S.jsx)(a.$,{size:"sm"}),children:(0,S.jsx)(z,{isLoading:F,name:"Login"})}),(0,S.jsxs)(p.x,(0,r.Z)((0,r.Z)({},V),{},{pt:"10px",children:["Don\u2019t have an account yet?",(0,S.jsxs)(d.r,{onClick:function(){e("".concat(g.cn,"/register"))},textDecoration:"underline",children:[" ","Create one here."]})]}))]}))}})}))}))]})})};var E=function(){return{root:{h:"100vh",align:"center",justify:"center",bg:"light"},boxLeft:{display:["none","none","none","flex","flex"],bg:"light",fontSize:40,h:"100%",w:"40vw"},boxLogin:{fontSize:40,h:"100%",w:["100%","100%","80%","50%","50%"],overflow:"hidden"},boxRegister:{fontSize:40,h:"100vh",w:["100%","100%","80%","80%","70%"],justify:"center"},leftImg:{h:"100%",w:"100%"},loginColumn:{bg:"light",w:"100%",align:"flex-start",pt:{base:"5vh",md:"10vh"},px:{base:"15px"},justifySelf:"center"},registerColumn:{bg:"light",w:["100%","100%","100%","80%","70%"],align:"flex-start",pt:{base:"5vh",md:"10vh"},px:{base:"15px"},justifySelf:"center"},head:{fontSize:{base:"18px",md:"25px"},pt:"20px"},desc:{fontSize:{base:"15px",md:"17px"},w:{base:"100%",md:"85%"}},basedText:{pt:"30px",fontSize:{base:"18px",md:"20px"}},checkBoxRoot:{py:"20px"},countrySelect:{w:{base:"100%",md:"100%"},bg:"grey",color:"dark",borderColor:"light",borderWidth:"1px",align:"center"}}}},76434:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var r=t(74165),s=t(1413),o=t(15861),i=t(29439),a=t(28382),c=t(76582),l=t(81146),u=t(31917),d=t(39589),x=t(10884),p=t(51692),f=t(70548),h=t(62825),b=t(72791),m=t(75224),g=t(56442),j=t(57689),Z=t(74417),v=t(74569),k=t.n(v),w=t(35486),y=t(95048),S=t(52780),C=t(80184),L=function(){var e=(0,j.s0)(),n=((0,y.I0)(),(0,a.p)()),t=(0,Z.yK)(),v=t.root,L=t.boxLeft,R=(t.boxLogin,t.leftImg),E=(t.loginColumn,t.boxRegister),_=t.head,I=t.desc,D=t.registerColumn,P=z(),F=P.root2,N=(P.countrySelect,(0,b.useState)("566")),T=(0,i.Z)(N,2),$=(T[0],T[1],(0,b.useState)("")),A=(0,i.Z)($,2),G=A[0],W=A[1],Y=(0,b.useState)(""),q=(0,i.Z)(Y,2),B=q[0],H=q[1],K=(0,b.useState)(!1),X=(0,i.Z)(K,2),J=X[0],M=X[1];function V(){return(V=(0,o.Z)((0,r.Z)().mark((function t(){var s,o,i,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,M(!0),t.next=4,k().post("".concat(w._n,"/users/password/request-email-code"),{email:G});case 4:s=t.sent,null!==(o=s.data)&&void 0!==o&&o.reset&&(e("".concat(S.cn,"/password/").concat(G)),n({position:"top",title:"Reset link sent",description:"Please click the link sent to your email",status:"success",duration:9e3,isClosable:!0})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0,"SendResetLinkErr"),H(null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.error);case 13:return t.prev=13,M(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,9,13,16]])})))).apply(this,arguments)}return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c.k,{pos:"absolute",children:(0,C.jsx)(g.default,{pos:"fixed"})}),(0,C.jsxs)(c.k,(0,s.Z)((0,s.Z)({},v),{},{children:[(0,C.jsx)(c.k,(0,s.Z)((0,s.Z)({},L),{},{children:(0,C.jsx)(l.E,(0,s.Z)({src:h.Z.AuthImage,alt:"Me Protocol"},R))})),(0,C.jsx)(c.k,(0,s.Z)((0,s.Z)({},E),{},{children:(0,C.jsxs)(u.g,(0,s.Z)((0,s.Z)({},D),{},{children:[(0,C.jsx)(d.X,(0,s.Z)((0,s.Z)({},_),{},{pb:2,children:"Reset password"})),(0,C.jsx)(x.x,(0,s.Z)((0,s.Z)({},I),{},{children:"A reset link will be sent to your email."})),(0,C.jsx)(p.B,(0,s.Z)((0,s.Z)({},F),{},{children:(0,C.jsx)(f.I,{h:"100%",borderRadius:58,value:G,onChange:function(e){var n=e.target;W(n.value),H("")},boxShadow:"none",outline:"none",type:"email",placeholder:"your@email.com"})})),(0,C.jsx)(x.x,(0,s.Z)((0,s.Z)({color:"red"},I),{},{children:B})),(0,C.jsx)(m.default,{isLoading:J,isDisabled:!G.includes("@"),name:"Next",onClick:function(){return V.apply(this,arguments)}})]}))}))]}))]})},z=function(){return{root2:{w:"100%",h:"48px",align:"center",justify:"center",px:"0px",bg:"grey",borderWidth:0,borderColor:"transparent",outline:"none",boxShadow:"none",borderRadius:58},countrySelect:{w:"100%",color:"dark",borderWidth:"0px"}}}},93080:function(e,n,t){t.d(n,{r:function(){return x}});var r=t(1413),s=t(45987),o=t(75597),i=t(32481),a=t(62996),c=t(45113),l=t(36992),u=t(80184),d=["className","isExternal"],x=(0,o.G)((function(e,n){var t=(0,i.mq)("Link",e),o=(0,a.Lr)(e),x=o.className,p=o.isExternal,f=(0,s.Z)(o,d);return(0,u.jsx)(c.m.a,(0,r.Z)((0,r.Z)({target:p?"_blank":void 0,rel:p?"noopener":void 0,ref:n,className:(0,l.cx)("chakra-link",x)},f),{},{__css:t}))}));x.displayName="Link"}}]);
//# sourceMappingURL=6434.3c0d0fd7.chunk.js.map