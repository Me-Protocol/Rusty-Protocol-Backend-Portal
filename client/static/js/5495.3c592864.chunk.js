"use strict";(self.webpackChunkapp_web_frontend=self.webpackChunkapp_web_frontend||[]).push([[5495],{74417:function(e,n,t){t.d(n,{yK:function(){return P}});var r=t(1413),s=t(74165),o=t(15861),a=t(29439),i=t(62577),c=t(76582),l=t(31917),u=t(39589),d=t(93080),x=t(88675),p=t(10884),f=t(9055),h=t(72791),m=t(57689),j=t(55705),b=t(52780),g=t(95048),w=t(5064),Z=t(24263),v=t(35486),S=t(23823),y=t(92387),k=t(80184),C=(0,h.lazy)((function(){return t.e(6442).then(t.bind(t,56442))})),z=(0,h.lazy)((function(){return Promise.resolve().then(t.bind(t,6691))})),E=(0,h.lazy)((function(){return t.e(5224).then(t.bind(t,75224))})),L=(0,h.lazy)((function(){return t.e(4458).then(t.bind(t,4458))}));n.ZP=function(){(0,m.TH)();var e=(0,m.s0)(),n=(0,Z.s)(),t=(0,g.I0)(),R=(0,h.useState)(!1),O=(0,a.Z)(R,2),$=O[0],_=(O[1],(0,g.v9)((function(e){return e.authReducer}))),I=_.isLoading,A=(_.error,_.token),B=((0,g.v9)((function(e){return e.userReducer})).user_data,(0,h.useState)(" ")),D=(0,a.Z)(B,2),F=D[0],T=D[1],U=(0,h.useState)(!1),G=(0,a.Z)(U,2),Y=G[0],M=G[1],X=P(),H=X.root,W=(X.boxLeft,X.boxLogin),J=(X.leftImg,X.loginColumn),K=X.head,N=X.desc,V=X.basedText;(0,h.useEffect)((function(){t((0,w.bY)()),A&&(t((0,w.bY)()),e("".concat(b.cn,"/dashboard")))}),[t,A,e]);var q=function(){var r=(0,o.Z)((0,s.Z)().mark((function r(o,a){var i,c,l,u,d,x,p,f;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=o.email,c=o.password,n){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,t((0,w.FR)({identifier:i,password:c}));case 5:if(l=r.sent,u=l.payload,!(d=l.error)){r.next=10;break}return r.abrupt("return",T(null===d||void 0===d?void 0:d.message));case 10:if(!u){r.next=16;break}return r.next=13,t((0,y.bG)({token:u}));case 13:p=r.sent,null!==(f=p.payload)&&void 0!==f&&null!==(x=f.customer)&&void 0!==x&&x.walletAddress?e("".concat(b.cn,"/dashboard")):e("".concat(b.cn,"/syncRewards"));case 16:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}(),Q=function(){return M(!Y)};return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(S.default,{children:[(0,k.jsx)(h.Suspense,{fallback:(0,k.jsx)(i.$,{size:"sm"}),children:(0,k.jsx)(C,{pos:"fixed"})}),(0,k.jsx)(c.k,(0,r.Z)((0,r.Z)({},H),{},{children:(0,k.jsx)(c.k,(0,r.Z)((0,r.Z)({},W),{},{children:(0,k.jsx)(j.J9,{initialValues:{email:"",password:""},validationSchema:b.gs,onSubmit:q,children:function(n){return(0,k.jsxs)(l.g,(0,r.Z)((0,r.Z)({as:"form"},J),{},{onSubmit:n.handleSubmit,onChange:function(){return t((0,w.bY)())},children:[(0,k.jsx)(u.X,(0,r.Z)((0,r.Z)({},K),{},{pb:2,children:"Let\u2019s Login"})),(0,k.jsx)(c.k,{w:"100%",justify:"space-between",children:(0,k.jsx)(h.Suspense,{fallback:(0,k.jsx)(i.$,{size:"sm"}),children:(0,k.jsx)(d.r,{href:"".concat(v._n,"/user/google"),w:"full",children:(0,k.jsx)(z,{isLoading:$,name:"Sign in with Google",onClick:function(){},rest:{w:"100%"}})})})}),(0,k.jsxs)(c.k,{align:"center",w:"100%",justify:"space-between",children:[(0,k.jsx)(x.i,{w:"45%",color:"#ECECEC"}),(0,k.jsx)(p.x,{color:"#999999",fontSize:{base:"12px",md:"20px"},children:"or"}),(0,k.jsx)(x.i,{w:"45%",color:"#ECECEC"})]}),(0,k.jsxs)(h.Suspense,{fallback:(0,k.jsx)(i.$,{size:"sm"}),children:[(0,k.jsx)(L,{name:"email",type:"email",placeholder:"your@email.com"}),(0,k.jsx)(L,{name:"password",type:Y?"text":"password",placeholder:"Password"})]}),(0,k.jsx)(p.x,(0,r.Z)((0,r.Z)({as:f.z,onClick:Q,alignSelf:"flex-end"},V),{},{bg:"transparent",_hover:{bg:"transparent"},p:"0px",fontSize:"14px",children:Y?"Hide":"Show"})),F&&(0,k.jsx)(p.x,(0,r.Z)((0,r.Z)({},N),{},{color:"red",children:F})),(0,k.jsx)(d.r,(0,r.Z)((0,r.Z)({onClick:function(){return e("".concat(b.cn,"/password_reset"))}},N),{},{pb:3,textDecoration:"underline",w:"30%",children:"Forgot Password"})),(0,k.jsx)(h.Suspense,{fallback:(0,k.jsx)(i.$,{size:"sm"}),children:(0,k.jsx)(E,{isLoading:I,name:"Login"})}),(0,k.jsxs)(p.x,(0,r.Z)((0,r.Z)({},N),{},{pt:"10px",children:["Don\u2019t have an account yet?",(0,k.jsxs)(d.r,{onClick:function(){e("".concat(b.cn,"/register"))},textDecoration:"underline",children:[" ","Create one here."]})]}))]}))}})}))}))]})})};var P=function(){return{root:{h:"100vh",align:"center",justify:"center",bg:"light"},boxLeft:{display:["none","none","none","flex","flex"],bg:"light",fontSize:40,h:"100%",w:"40vw"},boxLogin:{fontSize:40,h:"100%",w:["100%","100%","80%","50%","50%"],overflow:"hidden"},boxRegister:{fontSize:40,h:"100vh",w:["100%","100%","80%","80%","70%"],justify:"center"},leftImg:{h:"100%",w:"100%"},loginColumn:{bg:"light",w:"100%",align:"flex-start",pt:{base:"5vh",md:"10vh"},px:{base:"15px"},justifySelf:"center"},registerColumn:{bg:"light",w:["100%","100%","100%","80%","70%"],align:"flex-start",pt:{base:"5vh",md:"10vh"},px:{base:"15px"},justifySelf:"center"},head:{fontSize:{base:"18px",md:"25px"},pt:"20px"},desc:{fontSize:{base:"15px",md:"17px"},w:{base:"100%",md:"85%"}},basedText:{pt:"30px",fontSize:{base:"18px",md:"20px"}},checkBoxRoot:{py:"20px"},countrySelect:{w:{base:"100%",md:"100%"},bg:"grey",color:"dark",borderColor:"light",borderWidth:"1px",align:"center"}}}},35495:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var r=t(1413),s=t(74165),o=t(15861),a=t(29439),i=t(51022),c=t(62577),l=t(76582),u=t(81146),d=t(31917),x=t(10884),p=t(93080),f=t(88675),h=t(39589),m=t(9055),j=t(52409),b=t(20824),g=t(62825),w=t(72791),Z=t(74417),v=t(55705),S=t(57689),y=t(52780),k=t(5064),C=t(95048),z=t(74569),E=t.n(z),L=t(24263),P=t(35486),R=t(28382),O=t(86762),$=t(45695),_=t(95273),I=t(40071),A=t(45987),B=t(70990),D=t(8874),F=t(53755),T=t(46241),U=t(80184),G=["children","isOpen","onClose","modalContentStyle","modalBodyStyle"],Y=function(e){var n=e.children,t=e.isOpen,s=e.onClose,o=e.modalContentStyle,a=e.modalBodyStyle,i=(0,A.Z)(e,G);return(0,U.jsxs)(B.u_,(0,r.Z)((0,r.Z)({isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:t,size:"lg",onClose:s,motionPreset:"slideInBottom"},i),{},{children:[(0,U.jsx)(D.Z,{bg:"#00000020",backdropFilter:"auto",backdropBlur:"2px"}),(0,U.jsx)(F.h,(0,r.Z)((0,r.Z)({w:{base:"90vw",md:"60vw"},borderRadius:0,py:"1%"},o),{},{children:(0,U.jsx)(T.f,(0,r.Z)((0,r.Z)({},a),{},{children:n}))}))]}))},M=t(40587),X=function(e){var n=e.countFrom,t=e.onCountdownComplete,r=(0,w.useState)(n),s=(0,a.Z)(r,2),o=s[0],i=s[1],c=(0,w.useState)(!0),l=(0,a.Z)(c,2),u=l[0],d=l[1];(0,w.useEffect)((function(){if(u&&o>0){var e=setInterval((function(){i(o-1)}),1e3);return function(){return clearInterval(e)}}0===o&&u&&(d(!1),t())}),[o,u,t]);return(0,U.jsxs)(O.U,{as:"button",onClick:function(){n>0||(i(n),d(!0))},children:[(0,U.jsx)(x.x,{children:"Resend"}),(0,U.jsxs)(x.x,{opacity:o>0?1:0,children:["(",function(e){var n=Math.floor(e/60),t=e%60;return"".concat(n.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"))}(o),")"]})]})},H=function(e){var n,t=e.isOpen,r=e.onClose,i=e.token,u=(0,w.useState)(!1),d=(0,a.Z)(u,2),p=d[0],f=d[1],h=(0,w.useState)(!1),m=(0,a.Z)(h,2),j=m[0],g=m[1],Z=(0,w.useState)(60),v=(0,a.Z)(Z,2),z=v[0],E=v[1],L=(0,w.useState)(""),P=(0,a.Z)(L,2),A=P[0],B=P[1],D=(0,S.s0)(),F=(0,R.p)(),T=(0,C.I0)();function G(){return(G=(0,o.Z)((0,s.Z)().mark((function e(n){var t,o,a,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,T((0,k.Al)({code:n,token:i}));case 4:if(t=e.sent,o=t.payload,!(a=t.error)){e.next=9;break}return e.abrupt("return",B(a.message));case 9:o&&(r(),c="error-toast",F.isActive(c)||F({id:c,position:"top",title:"Account Created Successfully",description:"Your account was created using email and password, please enter your email and password to continue",status:"success",duration:9e3,isClosable:!1}),D("".concat(y.cn,"/login"))),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,12,14,17]])})))).apply(this,arguments)}function H(){return(H=(0,o.Z)((0,s.Z)().mark((function e(){var n,t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,T((0,k.uj)({token:i}));case 4:if(n=e.sent,t=n.payload,!(r=n.error)){e.next=9;break}return e.abrupt("return",B(r.message));case 9:t&&(0,M.Z)(F,"Code resent successfully",9e3,"bottom-left"),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,12,14,17]])})))).apply(this,arguments)}return(0,U.jsx)(Y,{isOpen:t,onClose:r,closeOnOverlayClick:!1,modalContentStyle:{borderRadius:"10px"},children:(0,U.jsxs)(l.k,{flexDir:"column",py:"5px",children:[(0,U.jsx)(l.k,{alignSelf:"flex-end",as:"button",onClick:r,mb:"20px",children:(0,U.jsx)(I.R5A,{size:20})}),(0,U.jsx)(x.x,{fontSize:"14px",mb:"10px",children:"Please provide the OTP sent to your Email"}),(0,U.jsx)(O.U,{w:"100%",h:"80px",children:(0,U.jsx)($.E,{onComplete:function(e){B(""),function(e){G.apply(this,arguments)}(e)},otp:!0,placeholder:"*",children:null===(n=[1,2,3,4])||void 0===n?void 0:n.map((function(){return(0,U.jsx)($.x,{bg:"grey",borderRadius:10,borderWidth:0,w:"30%",h:"100%"},(0,_.x0)())}))})}),A&&(0,U.jsx)(x.x,{color:"red",children:A}),j&&(0,U.jsx)(c.$,{size:"sm",alignSelf:"flex-end",mt:"10px"}),(0,U.jsxs)(O.U,{fontSize:"14px",mt:"25px",children:[(0,U.jsx)(x.x,{children:"Did not receive OTP?"}),(0,U.jsx)(b.xu,{opacity:p?1:.5,onClick:function(){p&&(!function(){H.apply(this,arguments)}(),E(z+1),f(!1))},children:(0,U.jsx)(X,{countFrom:z,onCountdownComplete:function(){f(!0)}})})]})]})})},W=(0,w.lazy)((function(){return t.e(5224).then(t.bind(t,75224))})),J=(0,w.lazy)((function(){return Promise.resolve().then(t.bind(t,6691))})),K=(0,w.lazy)((function(){return t.e(4458).then(t.bind(t,4458))})),N=(0,w.lazy)((function(){return Promise.all([t.e(6669),t.e(2125)]).then(t.bind(t,22125))})),V=(0,w.lazy)((function(){return t.e(6442).then(t.bind(t,56442))})),q=function(){var e=(0,C.I0)(),n=(0,S.s0)(),t=(0,L.s)(),z=(0,w.useState)(!1),R=(0,a.Z)(z,2),O=R[0],$=R[1],_=(0,w.useState)(!1),I=(0,a.Z)(_,2),A=I[0],B=(I[1],(0,i.q)()),D=B.isOpen,F=B.onClose,T=B.onOpen,G=(0,w.useState)(""),Y=(0,a.Z)(G,2),M=Y[0],X=Y[1],q=(0,w.useState)(""),Q=(0,a.Z)(q,2),ee=Q[0],ne=Q[1],te=function(){return $(!O)},re=(0,C.v9)((function(e){return e.authReducer})),se=re.token,oe=re.registerLoading,ae=(0,Z.yK)(),ie=ae.root,ce=ae.boxLeft,le=ae.boxRegister,ue=ae.leftImg,de=ae.registerColumn,xe=ae.head,pe=ae.desc,fe=ae.basedText,he=ae.checkBoxRoot,me=ae.countrySelect;(0,w.useEffect)((function(){e((0,k.U1)()),Ze(),se&&n("".concat(y.cn,"/dashboard"))}),[]);var je=(0,w.useState)("United States of America"),be=(0,a.Z)(je,2),ge=be[0],we=be[1],Ze=function(){E().get("https://ipapi.co/json/").then((function(e){var n=e.data;we(n.country_name)})).catch((function(e){console.log(e)}))},ve=function(){var n=(0,o.Z)((0,s.Z)().mark((function n(r){var o,a,i,c,l,u,d;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r.email,a=r.password,i=r.firstname,c=r.lastname,t){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,e((0,k.Z_)({firstname:i,lastname:c,email:o,password:a}));case 5:if(l=n.sent,u=l.payload,!(d=l.error)){n.next=11;break}return console.log(d),n.abrupt("return",ne(null===d||void 0===d?void 0:d.message));case 11:u&&(X(u),T());case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:(0,U.jsx)(l.k,{pos:"absolute",children:(0,U.jsx)(V,{pos:"fixed"})})}),(0,U.jsxs)(l.k,(0,r.Z)((0,r.Z)({},ie),{},{children:[(0,U.jsx)(l.k,(0,r.Z)((0,r.Z)({},ce),{},{children:(0,U.jsx)(u.E,(0,r.Z)({src:g.Z.AuthImage,alt:"Me Protocol"},ue))})),(0,U.jsx)(l.k,(0,r.Z)((0,r.Z)({},le),{},{overflowX:"hidden",children:(0,U.jsx)(v.J9,{initialValues:{email:"",password:"",confirm:"",firstname:"",lastname:""},validationSchema:y.Un,onSubmit:ve,children:function(t){return(0,U.jsxs)(d.g,(0,r.Z)((0,r.Z)({as:"form"},de),{},{onChange:function(){return e((0,k.bY)())},onSubmit:t.handleSubmit,children:[(0,U.jsx)(x.x,(0,r.Z)((0,r.Z)({},xe),{},{children:"Let\u2019s get started."})),(0,U.jsx)(l.k,{w:"100%",justify:"space-between",children:(0,U.jsx)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:(0,U.jsx)(p.r,{href:"".concat(P._n,"/user/google"),w:"full",children:(0,U.jsx)(J,{isLoading:A,name:"Sign up with Google",rest:{w:"100%"}})})})}),(0,U.jsxs)(l.k,{align:"center",w:"100%",justify:"space-between",children:[(0,U.jsx)(f.i,{w:"45%",color:"#ECECEC"}),(0,U.jsx)(x.x,{color:"#999999",fontSize:{base:"12px",md:"20px"},children:"or"}),(0,U.jsx)(f.i,{w:"45%",color:"#ECECEC"})]}),(0,U.jsx)(x.x,(0,r.Z)((0,r.Z)({},pe),{},{children:"Enter a few details to join the ME community"})),(0,U.jsxs)(l.k,{flexDir:{base:"column",md:"row"},justifyContent:"space-between",w:"100%",children:[(0,U.jsx)(l.k,{w:{base:"100%",md:"49%"},children:(0,U.jsx)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:(0,U.jsx)(K,{name:"firstname",placeholder:"First Name"})})}),(0,U.jsx)(l.k,{w:{base:"100%",md:"49%"},children:(0,U.jsx)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:(0,U.jsx)(K,{name:"lastname",placeholder:"Last Name"})})})]}),(0,U.jsxs)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:[(0,U.jsx)(K,{name:"email",type:"email",placeholder:"your@email.com"}),ee&&(0,U.jsx)(x.x,{fontSize:"12px",color:"red",children:ee})]}),(0,U.jsx)(h.X,(0,r.Z)((0,r.Z)({},fe),{},{children:"Get yourself a password."})),(0,U.jsx)(x.x,(0,r.Z)((0,r.Z)({},pe),{},{children:"Passwords must include a symbol or number and have at least 8 characters."})),(0,U.jsxs)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:[(0,U.jsx)(K,{name:"password",type:O?"text":"password",placeholder:"Password"}),(0,U.jsx)(K,{name:"confirm",type:O?"text":"password",placeholder:"Confirm Password"})]}),(0,U.jsx)(x.x,(0,r.Z)((0,r.Z)({as:m.z,onClick:te,alignSelf:"flex-end"},fe),{},{pt:"0px",bg:"transparent",_hover:{bg:"transparent"},children:O?"Hide":"Show"})),(0,U.jsx)(x.x,(0,r.Z)((0,r.Z)({},fe),{},{children:"Where are you based?"})),(0,U.jsx)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:(0,U.jsx)(N,(0,r.Z)({value:ge,onChange:function(e){we(e.target.value)}},me))}),(0,U.jsx)(l.k,(0,r.Z)((0,r.Z)({},he),{},{children:(0,U.jsx)(j.X,{w:"100%",borderColor:"black",spacing:"1rem",children:"Get exclusive offers, trends and deals"})})),(0,U.jsx)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:(0,U.jsx)(W,{isLoading:oe,name:"Create Account"})}),(0,U.jsxs)(x.x,(0,r.Z)((0,r.Z)({},pe),{},{pt:"10px",children:["By signing up you accept to our"," ",(0,U.jsxs)(p.r,{href:"https://google.com",textDecoration:"underline",children:[" ","Terms and Services."]})]})),(0,U.jsxs)(x.x,(0,r.Z)((0,r.Z)({},pe),{},{pt:"10px",children:["Already have an account?",(0,U.jsxs)(p.r,{onClick:function(){n("".concat(y.cn,"/login"),{replace:!0})},textDecoration:"underline",children:[" ","Login here."]})]})),(0,U.jsx)(b.xu,{bg:"transparent",pt:"40px",w:"100%"})]}))}})}))]})),(0,U.jsx)(H,{isOpen:D,onClose:F,token:M})]})}}}]);
//# sourceMappingURL=5495.3c592864.chunk.js.map