"use strict";(self.webpackChunkapp_web_frontend=self.webpackChunkapp_web_frontend||[]).push([[7787],{87490:function(n,e,r){r.d(e,{W:function(){return l}});var o=r(93433);function l(n){console.log(n);var e={};return n.forEach((function(n){var r,l,i,d,t,a,s=e[null===n||void 0===n||null===(r=n.rewardRegistry)||void 0===r||null===(l=r.reward)||void 0===l?void 0:l.brandId];s?e[null===n||void 0===n||null===(i=n.rewardRegistry)||void 0===i||null===(d=i.reward)||void 0===d?void 0:d.brandId]=[].concat((0,o.Z)(s),[n]):e[null===n||void 0===n||null===(t=n.rewardRegistry)||void 0===t||null===(a=t.reward)||void 0===a?void 0:a.brandId]=[n]})),console.log("res",e),e}},75614:function(n,e,r){function o(){for(var n="",e=0;e<6;e++)n+="0123456789ABCDEF"[Math.floor(16*Math.random())];return n}r.d(e,{m:function(){return o}})},77787:function(n,e,r){r.r(e),r.d(e,{default:function(){return hn},useDashboardAssetsSingleBrand:function(){return pn}});var o=r(74165),l=r(15861),i=r(1413),d=r(29439),t=r(51022),a=r(76582),s=r(62577),u=r(92746),c=r(10884),x=r(71118),v=r(86762),h=r(20824),p=r(66484),f=r(76773),b=r(87251),m=r(45987),g=r(75597),j=r(32481),w=r(62996),y=r(45113),k=r(36992),Z=r(9886),S=r(80184),D=["className","layout"],C=(0,Z.k)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),L=(0,d.Z)(C,2),R=L[0],_=L[1],A=(0,g.G)((function(n,e){var r=(0,j.jC)("Table",n),o=(0,w.Lr)(n),l=o.className,d=o.layout,t=(0,m.Z)(o,D);return(0,S.jsx)(R,{value:r,children:(0,S.jsx)(y.m.table,(0,i.Z)({ref:e,__css:(0,i.Z)({tableLayout:d},r.table),className:(0,k.cx)("chakra-table",l)},t))})}));A.displayName="Table";var z=(0,g.G)((function(n,e){var r=_();return(0,S.jsx)(y.m.tbody,(0,i.Z)((0,i.Z)({},n),{},{ref:e,__css:r.tbody}))})),F=(0,g.G)((function(n,e){var r=_();return(0,S.jsx)(y.m.tr,(0,i.Z)((0,i.Z)({},n),{},{ref:e,__css:r.tr}))})),I=["isNumeric"],T=(0,g.G)((function(n,e){var r=n.isNumeric,o=(0,m.Z)(n,I),l=_();return(0,S.jsx)(y.m.td,(0,i.Z)((0,i.Z)({},o),{},{ref:e,__css:l.td,"data-is-numeric":r}))})),N=r(81146),E=r(18451),O=r(31917),M=r(72791);var B=r.p+"static/media/sentarrow.247d046d3230d923e5ca9a3787dcbae8.svg",W=r(98837),H=r(25984),P=r(57689),$=r(81319),G=r(35378),K=r(17571),U=r(23823),Y=r(77910),q=r(95048),X=r(35967),V=r(43623),J=r(72426),Q=r.n(J),nn=r(92387),en=r(52780),rn=r(87490),on=r(89572),ln=r(97419),dn=r(6222),tn=r(59741),an=r.n(tn),sn=r(75614),un=(0,M.lazy)((function(){return Promise.all([r.e(6669),r.e(9206)]).then(r.bind(r,10173))})),cn=(0,M.lazy)((function(){return r.e(5442).then(r.bind(r,55442))})),xn=(0,M.lazy)((function(){return Promise.resolve().then(r.bind(r,54776))})),vn=(0,M.lazy)((function(){return r.e(416).then(r.bind(r,90416))})),hn=function(){var n,e,r,m,g,j,w,y,k,Z,D,C,L,R,_,I,J,tn,hn,fn,bn,mn,gn,jn,wn,yn,kn,Zn,Sn,Dn,Cn,Ln,Rn,_n,An,zn=(0,P.s0)(),Fn=(0,q.I0)(),In=pn(),Tn=In.root,Nn=In.font,En=In.font1,On=In.font3,Mn=In.smallButton1,Bn=In.root2,Wn=In.nameStyles,Hn=In.graphBox,Pn=(0,P.UO)().id,$n=(0,P.TH)().state,Gn=(0,M.useState)([]),Kn=(0,d.Z)(Gn,2),Un=Kn[0],Yn=Kn[1],qn=(0,q.v9)((function(n){return null===n||void 0===n?void 0:n.authReducer})),Xn=qn.token,Vn=(0,q.v9)((function(n){return n.productReducer})),Jn=Vn.reward_type_product,Qn=(0,q.v9)((function(n){return null===n||void 0===n?void 0:n.userReducer})),ne=Qn.user_data,ee=Qn.my_debit_credit,re=(Qn.my_rewards,Qn.my_rewards_loading,Qn.my_debit_credit_single,ee&&(0,rn.W)(ee)[Pn]),oe=(0,M.useState)(!1),le=(0,d.Z)(oe,2),ie=le[0],de=(le[1],(0,G.dp)({page:1,limit:4,brandId:Pn},{refetchOnMountOrArgChange:!0,skip:!Pn})),te=de.data,ae=(de.isLoading,(0,G.eA)({id:Pn},{refetchOnFocus:!0,skip:!Pn})),se=ae.data,ue=(ae.error,{"Last 7 days":{label:"Last 7 days",millisecondsAgo:6048e5},"Last 30 days":{label:"Last 30 days",millisecondsAgo:2592e6},"Last 3 days":{label:"Last 3 days",millisecondsAgo:2592e5}}),ce=function(n){var e=Date.now()-n;return new Date(e).toISOString()},xe={startDate:ce(ue["Last 7 days"].millisecondsAgo),endDate:(new Date).toISOString(),dateRangeString:"Last 7 days"},ve=(0,M.useState)(xe),he=(0,d.Z)(ve,2),pe=he[0],fe=he[1],be=function(){var n=(0,l.Z)((0,o.Z)().mark((function n(){var e,r,l,d,t,a,s;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==ne&&void 0!==ne&&null!==(e=ne.customer)&&void 0!==e&&e.walletAddress){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,(0,on.get_account_detail)({address:null===ne||void 0===ne||null===(r=ne.customer)||void 0===r?void 0:r.walletAddress});case 4:for(a in l=n.sent,d=l.data,t=[],d.result.balance)t.push({contractAddress:ln.getAddress(a),balance:dn.formatEther(d.result.balance[a])});s=null===Jn||void 0===Jn?void 0:Jn.map((function(n){var e=null===t||void 0===t?void 0:t.find((function(e){return e.contractAddress===(null===n||void 0===n?void 0:n.contractAddress)}));return(0,i.Z)((0,i.Z)({},n),{},{balance:e})})),Yn(null===s||void 0===s?void 0:s.filter((function(n){return n.balance})));case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,M.useEffect)((function(){Fn((0,nn.wz)({token:Xn})),be()}),[]);(0,t.q)().onOpen;var me=(0,t.q)(),ge=(me.isOpen,me.onOpen),je=(me.onClose,(0,t.q)());je.isOpen,je.onOpen,je.onClose;X.kL.register(X.uw,X.f$,X.od,X.jn,X.Dx,X.u,X.Gu,X.De);(new Date).getMonth();var we=(0,sn.m)(),ye=re?{labels:[new Date(pe.startDate).toDateString(),new Date(pe.endDate).toDateString()],datasets:[{data:re.reduce((function(n,e,r){console.log("here",e);var o="CREDIT"===e.transactionType?parseFloat(e.amount):-parseFloat(e.amount),l=(0===n.length?0:n[n.length-1])+o;return n.push(l),n}),[]),fill:!1,label:null===(n=re[0])||void 0===n||null===(e=n.rewardRegistry)||void 0===e||null===(r=e.reward)||void 0===r?void 0:r.rewardName,borderColor:"#".concat((null===(m=re[0])||void 0===m||null===(g=m.rewardRegistry.reward)||void 0===g||null===(j=g.brand)||void 0===j?void 0:j.color)||we),backgroundColor:"#".concat((null===(w=re[0])||void 0===w||null===(y=w.rewardRegistry.reward)||void 0===y||null===(k=y.brand)||void 0===k?void 0:k.color)||we),borderWidth:2}]}:{labels:[],datasets:[]},ke=(0,rn.W)(ee)[$n.brandId]||[];return console.log("test",ke),(0,S.jsxs)(a.k,{flexDir:"column",children:[(0,S.jsx)(M.Suspense,{fallback:(0,S.jsx)(s.$,{size:"sm"}),children:(0,S.jsx)(xn,{})}),(0,S.jsx)(U.default,{children:(0,S.jsxs)(u.K,(0,i.Z)((0,i.Z)({},Tn),{},{children:[(0,S.jsx)(M.Suspense,{fallback:(0,S.jsx)(s.$,{size:"sm"}),children:(0,S.jsx)(cn,{breadcrumbs:[{name:"Home",link:"".concat(en.cn,"/dashboard")},{name:"Assets",link:"".concat(en.cn,"/dashboard/dashboard-my-assets")},{name:null===se||void 0===se||null===(Z=se.data)||void 0===Z||null===(D=Z.name)||void 0===D?void 0:D.replaceAll("_"," "),link:"".concat(en.cn,"/dashboard/dashboard-my-assets/").concat(Pn),isCurrentPage:!0}]})}),(0,S.jsxs)(a.k,(0,i.Z)((0,i.Z)({},Bn),{},{children:[(0,S.jsxs)(a.k,{flexDir:"column",children:[(0,S.jsxs)(c.x,(0,i.Z)((0,i.Z)({},Nn),{},{children:["Learn more about your personalized ",$n.rewardName," card"]})),(0,S.jsx)(x.L,{}),(0,S.jsx)(c.x,(0,i.Z)((0,i.Z)({},En),{},{mb:"10px",children:null===$n||void 0===$n||null===(C=$n.reward)||void 0===C||null===(L=C.brand)||void 0===L?void 0:L.description})),(0,S.jsx)(v.U,{children:(0,S.jsx)(h.xu,(0,i.Z)((0,i.Z)({as:"button"},Mn),{},{onClick:function(){var n,e,r,o,l,i;return zn("".concat(en.cn,"/dashboard/shop/").concat(null===se||void 0===se||null===(n=se.data)||void 0===n?void 0:n.id),{state:{id:null===$n||void 0===$n||null===(e=$n.reward)||void 0===e||null===(r=e.brand)||void 0===r?void 0:r.id,slug:null===$n||void 0===$n||null===(o=$n.reward)||void 0===o||null===(l=o.brand)||void 0===l?void 0:l.slug,brandName:null===$n||void 0===$n||null===(i=$n.reward)||void 0===i?void 0:i.brandName}})},children:(0,S.jsx)(c.x,(0,i.Z)((0,i.Z)({},Nn),{},{children:"Learn more"}))}))})]}),(0,S.jsx)(x.L,{}),(0,S.jsx)(h.xu,{style:{transform:"rotate(-35deg) translateX(60px) translateY(40px)"},children:(0,S.jsx)(Y.Z,{logo:(null===$n||void 0===$n||null===(R=$n.brand)||void 0===R?void 0:R.white_logo)||(null===$n||void 0===$n||null===(_=$n.brand)||void 0===_?void 0:_.logo),bg:null!==$n&&void 0!==$n&&null!==(I=$n.reward)&&void 0!==I&&null!==(J=I.brand)&&void 0!==J&&J.color?"#".concat(null===$n||void 0===$n||null===(tn=$n.reward)||void 0===tn||null===(hn=tn.brand)||void 0===hn?void 0:hn.color):"#363636",userName:"".concat(null===ne||void 0===ne||null===(fn=ne.customer)||void 0===fn?void 0:fn.name)})})]})),(0,S.jsxs)(a.k,(0,i.Z)((0,i.Z)({},Hn),{},{flexDir:"column",children:[(0,S.jsxs)(v.U,{h:"50px",w:"100%",children:[(0,S.jsx)(h.xu,{borderColor:"#".concat(null===$n||void 0===$n||null===(bn=$n.reward)||void 0===bn||null===(mn=bn.brand)||void 0===mn?void 0:mn.color),borderWidth:"2px",p:"3px",borderRadius:50,children:(0,S.jsx)(p.M,{as:"img",objectFit:"contain",src:(null===$n||void 0===$n||null===(gn=$n.brand)||void 0===gn?void 0:gn.white_logo)||(null===$n||void 0===$n||null===(jn=$n.brand)||void 0===jn?void 0:jn.logo),w:"50px",h:"50px",borderRadius:"70px"})}),(0,S.jsx)(c.x,{color:"white",fontSize:"18px",children:null===$n||void 0===$n||null===(wn=$n.reward)||void 0===wn?void 0:wn.rewardName}),(0,S.jsx)(x.L,{})]}),(0,S.jsxs)(v.U,{h:"50px",w:"100%",mt:"20px",children:[(0,S.jsxs)(u.K,{children:[(0,S.jsxs)(c.x,{fontSize:["14px","14px","14px","18px","16px"],color:"white",children:[null===(yn=Un.filter((function(n){var e;return(null===n||void 0===n||null===(e=n.brand)||void 0===e?void 0:e.id)===Pn})))||void 0===yn||null===(kn=yn.map((function(n){var e;return Number(null===n||void 0===n||null===(e=n.balance)||void 0===e?void 0:e.balance)})))||void 0===kn?void 0:kn.reduce((function(n,e){return n+e}),0).toLocaleString()," ","pts"]}),(0,S.jsx)(c.x,{fontSize:"14px",color:"#999999C5",children:"Balance"})]}),(0,S.jsx)(x.L,{})]}),(0,S.jsx)(x.L,{}),(0,S.jsxs)(a.k,{bg:"#262626",borderRadius:"8px",h:"70%",w:"100%",p:"1%",alignSelf:"flex-end",flexDir:"column",children:[(0,S.jsxs)(a.k,{w:"100%",h:"3vw",align:"center",children:[(0,S.jsx)(c.x,{color:"white",children:ie?"Percentage allocation":"Historic Progress"}),(0,S.jsx)(x.L,{}),(0,S.jsx)(a.k,{children:(0,S.jsx)(f.P,{color:"white",onChange:function(n){!function(n){console.log("heyooo",n);var e=ue[n].millisecondsAgo;fe((0,i.Z)((0,i.Z)({},pe),{},{startDate:ce(e),dateRangeString:n}))}(n.target.value)},value:pe.dateRangeString,variant:"unstyled",placeholder:"Select range",size:"sm",children:null===(Zn=["Last 30 days","Last 7 days","Last 3 days"])||void 0===Zn?void 0:Zn.map((function(n){return(0,S.jsx)("option",{value:n,children:n},(0,H.x0)())}))})})]}),(0,S.jsx)(a.k,{alignItems:"flex-end",justifyContent:"flex-end",h:"90%",w:"100%",children:(0,S.jsx)(V.x1,{width:1180,height:250,options:{type:"line",responsive:!0,stepped:"middle",elements:{point:{radius:0,hitRadius:10,hoverRadius:4,hoverBorderWidth:3}},scales:{x:{ticks:{autoSkip:!0},grid:{display:!1}},y:{min:0,ticks:{autoSkip:!0,maxTicksLimit:10},border:{display:!1},grid:{color:"#99999935"}}},plugins:{legend:{display:!1},title:{display:!1,text:"Chart.js Line Chart"}}},data:ye})})]})]})),(0,S.jsxs)(a.k,{w:"100%",pt:"40px",children:[(0,S.jsx)(c.x,(0,i.Z)((0,i.Z)({},Wn),{},{children:"Last transactions"})),(0,S.jsx)(x.L,{}),(0,S.jsx)(M.Suspense,{fallback:(0,S.jsx)(s.$,{size:"sm"}),children:(0,S.jsx)($.Z,{label:"Sort",children:null===(Sn=[1,2,3,4,5])||void 0===Sn?void 0:Sn.map((function(n){return(0,M.createElement)(b.Y,(0,i.Z)((0,i.Z)({as:"button"},Nn),{},{key:(0,H.x0)()}),(0,S.jsx)(c.x,{textAlign:"left",children:n}))}))})})]}),(0,S.jsxs)(a.k,{flexDir:"column",children:[ke&&0===ke.length&&(0,S.jsxs)(u.K,(0,i.Z)((0,i.Z)({},Tn),{},{align:"center",children:[(0,S.jsx)(an(),{animationData:K,style:{height:300}}),(0,S.jsx)(c.x,{pt:"3%",fontSize:"18px",fontWeight:"600",children:"You currently have no transactions"})]})),ke&&ke.length>0&&(0,S.jsx)(A,{variant:"simple",children:(0,S.jsx)(z,{children:ke.map((function(n){var e,r;return(0,S.jsxs)(F,{children:[(0,S.jsx)(T,{w:"10%",children:(0,S.jsxs)(a.k,{flexDir:"column",children:[(0,S.jsx)(c.x,{children:Q()(null===n||void 0===n?void 0:n.updatedAt).format("MMM DD")}),(0,S.jsx)(c.x,{children:Q()(null===n||void 0===n?void 0:n.updatedAt).format("hh:ss a")}),(0,S.jsx)(c.x,(0,i.Z)({},En))]})}),(0,S.jsx)(T,{width:"5%",children:(0,S.jsx)(a.k,{borderRadius:"md",bg:"black",w:10,h:10,justifyContent:"center",alignItems:"center",transform:"CREDIT"===(null===n||void 0===n?void 0:n.transactionType)?"rotate(180deg)":"rotate(360deg)",children:(0,S.jsx)(N.E,{src:B})})}),(0,S.jsx)(T,{w:"20%",children:(0,S.jsxs)(a.k,{flexDir:"column",alignItems:"flex-start",children:[(0,S.jsxs)(c.x,{children:["CREDIT"===(null===n||void 0===n?void 0:n.transactionType)?"Received":"Spent"," ",null===$n||void 0===$n?void 0:$n.rewardSymbol]}),(0,S.jsx)(c.x,(0,i.Z)((0,i.Z)({},En),{},{children:"Completed"}))]})}),(0,S.jsx)(T,{w:"12%",children:(0,S.jsxs)(u.K,{w:"98%",alignItems:"flex-start",children:[(0,S.jsx)(c.x,{alignSelf:"flex-end",color:"#999999",textAlign:"right",children:"From"}),(0,S.jsx)(c.x,{children:null===n||void 0===n||null===(e=n.rewardRegistry)||void 0===e||null===(r=e.reward)||void 0===r?void 0:r.contractAddress})]})}),(0,S.jsx)(T,{children:(0,S.jsx)(a.k,{flexDir:"column",children:(0,S.jsxs)(c.x,(0,i.Z)((0,i.Z)({},On),{},{textAlign:"right",textColor:"CREDIT"===(null===n||void 0===n?void 0:n.transactionType)?"green":"red",children:["CREDIT"===(null===n||void 0===n?void 0:n.transactionType)?parseFloat(null===n||void 0===n?void 0:n.amount):-1*parseFloat(null===n||void 0===n?void 0:n.amount),null===$n||void 0===$n?void 0:$n.rewardSymbol]}))})})]},(0,H.x0)())}))})})]}),(0,S.jsxs)(a.k,{w:"100%",pt:"40px",children:[(0,S.jsxs)(c.x,(0,i.Z)((0,i.Z)({},Wn),{},{children:["Offer from ",null===se||void 0===se||null===(Dn=se.data)||void 0===Dn?void 0:Dn.name]})),(0,S.jsx)(x.L,{}),(0,S.jsx)(M.Suspense,{fallback:(0,S.jsx)(s.$,{size:"sm"}),children:(0,S.jsx)(a.k,{children:(0,S.jsx)(h.xu,(0,i.Z)((0,i.Z)({as:"button"},Mn),{},{onClick:function(){var n,e,r,o,l,i;return zn("".concat(en.cn,"/dashboard/shop/").concat(null===se||void 0===se||null===(n=se.data)||void 0===n?void 0:n.id),{state:{id:null===$n||void 0===$n||null===(e=$n.reward)||void 0===e||null===(r=e.brand)||void 0===r?void 0:r.id,slug:null===$n||void 0===$n||null===(o=$n.reward)||void 0===o||null===(l=o.brand)||void 0===l?void 0:l.slug,brandName:null===$n||void 0===$n||null===(i=$n.reward)||void 0===i?void 0:i.brandName}})},children:(0,S.jsx)(c.x,(0,i.Z)((0,i.Z)({},Nn),{},{children:"Visit shop"}))}))})})]}),(0,S.jsx)(E.M,{columns:[2,2,3,4,4],spacingX:"3.5%",w:"100%",children:(0,S.jsxs)(M.Suspense,{fallback:(0,S.jsx)(s.$,{size:"sm"}),children:[(null===te||void 0===te||null===(Cn=te.data)||void 0===Cn?void 0:Cn.offers)&&(null===te||void 0===te||null===(Ln=te.data)||void 0===Ln||null===(Rn=Ln.offers)||void 0===Rn?void 0:Rn.length)<1&&(0,S.jsxs)(O.g,{children:[(0,S.jsx)(a.k,{w:"500px",h:"300px",children:(0,S.jsx)(an(),{animationData:W,loop:!0,autoplay:!0,width:50,height:70})}),(0,S.jsxs)(c.x,{children:["You have not synced any reward,"," ",(0,S.jsx)(c.x,{as:"button",onClick:ge,decoration:"underline",children:"sync now"})]})]}),null===te||void 0===te||null===(_n=te.data)||void 0===_n||null===(An=_n.offers)||void 0===An?void 0:An.map((function(n,e){var r,o,l;return(0,S.jsx)(vn,{isLoaded:!0,productTitle:n.name,points:"".concat(null===n||void 0===n?void 0:n.tokens).concat(null===(r=n.reward)||void 0===r?void 0:r.rewardSymbol),productSubtitle:null===(o=n.product)||void 0===o||null===(l=o.category)||void 0===l?void 0:l.name,price:n.originalPrice.toLocaleString(),isNew:Q()(Q()()).diff(null===n||void 0===n?void 0:n.createdAt,"days")<1,rest:(0,i.Z)({},n),i:e,bgImage:n.offerImages,onClick:function(){return zn("".concat(en.cn,"/productDetails/").concat(n.offerCode))}},(0,H.x0)())}))]})})]}))}),(0,S.jsx)(M.Suspense,{fallback:(0,S.jsx)(s.$,{size:"sm"}),children:(0,S.jsx)(un,{})})]})},pn=function(){return{root:{w:"100%",mt:"108px",pt:"3%",overflow:"hidden",pb:"3%"},root2:{bg:"#F2F2F2",h:"174px",w:"100%",borderRadius:"16px",p:"2%",overflow:"hidden"},nameStyles:{fontSize:["20px","20px"]},search:{w:"18%",h:"40px",background:"#F6F6F6",borderRadius:"53px",justify:"flex-start",align:"center",pl:"1%"},button:{w:{base:"18%",md:"6%"},color:"dark",borderWidth:.5,backgroundColor:"light",fontSize:"15px"},loadMore:{w:"132px",h:"32px",alignSelf:"center",py:"10px",borderRadius:"100px"},font:{fontSize:"16px",lineHeight:"22px",color:"#000000",marginBottom:"5px"},smallButton:{w:"95px",h:"42px",bg:"#000000",borderRadius:"100px"},smallButton1:{w:"124px",h:"42px",p:"10px 16px",border:"1px",borderColor:"#000000",borderRadius:"100px",color:"#000000"},font1:{fontSize:"14px",lineHeight:"17px",color:"#999999"},font2:{fontSize:"18px",lineHeight:"22px",color:"#FFFFFF"},font3:{fontSize:"16px",lineHeight:"22px",color:"#E71C1C"},graphBox:{bg:"dark",w:"100%",h:"35vw",borderRadius:"16px",p:"20px"}}}}}]);
//# sourceMappingURL=7787.889425f5.chunk.js.map