"use strict";(self.webpackChunkapp_web_frontend=self.webpackChunkapp_web_frontend||[]).push([[9633,6442,5224,4458],{75224:function(e,n,r){r.r(n);var s=r(1413),t=r(72791),o=r(9055),a=r(80184),i=function(e){var n=e.name,r=e.isLoading,t=e.onClick,i=e.isDisabled,c=e.rest,d=l().root;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.z,(0,s.Z)((0,s.Z)((0,s.Z)({type:"submit",isDisabled:i,isLoading:r,onClick:t},d),c),{},{children:n}))})};n.default=(0,t.memo)(i);var l=function(){return{root:{colorScheme:"black",bg:"black",py:{base:5},width:"100%",h:"45px",borderRadius:"100px",loadingText:"Submitting",fontSize:{base:12,md:18}}}}},4458:function(e,n,r){r.r(n),r.d(n,{useInputStyles:function(){return h}});var s=r(1413),t=r(29439),o=r(36459),a=r(70548),i=r(9657),l=r(62437),c=r(55705),d=r(72791),u=r(5064),x=r(95048),f=r(80184),p=function(e){var n=Object.assign({},((0,o.Z)(e),e)),r=(0,x.I0)(),p=h().styles,m=(0,c.U$)(n),b=(0,t.Z)(m,2),g=b[0],w=b[1];return(0,d.useEffect)((function(){r((0,u.bY)())}),[r]),(0,f.jsxs)(i.NI,{isInvalid:w.error&&w.touched,children:[(0,f.jsx)(c.gN,(0,s.Z)((0,s.Z)((0,s.Z)({},p),{},{as:a.I},g),n)),(0,f.jsx)(l.J1,{children:w.error})]})};n.default=(0,d.memo)(p);var h=function(){return{styles:{w:"100%",h:"50px",py:{base:5},justify:"flex-start",align:"center",pl:"15px",borderRadius:53,bg:"grey",color:"black",fontSize:{base:"12px",md:"16px"},focusBorderColor:"blue",_placeholder:{opacity:1,color:"placeholderColor"},errorBorderColor:"danger"}}}},56442:function(e,n,r){r.r(n);var s=r(1413),t=r(72791),o=r(76582),a=r(81146),i=r(62825),l=r(57689),c=r(23823),d=r(95048),u=r(52780),x=r(80184),f=function(e){var n=e.pos,r=(0,l.s0)(),t=(0,d.v9)((function(e){return e.authReducer})).token,f=p(),h=f.styles,m=f.img;return(0,x.jsx)(c.default,{children:(0,x.jsx)(o.k,(0,s.Z)((0,s.Z)({as:"button",onClick:function(){r("".concat(u.cn,t?"/dashboard":"/"))},position:n||"absolute"},h),{},{children:(0,x.jsx)(a.E,(0,s.Z)({"data-testid":"logo-1",src:i.Z.appLogo},m))}))})};n.default=(0,t.memo)(f);var p=function(){return{styles:{w:"100%",h:"50px",justifyContent:"flex-start"},img:{mt:5,h:"50px"}}}},74417:function(e,n,r){r.d(n,{yK:function(){return _}});var s=r(1413),t=r(74165),o=r(15861),a=r(29439),i=r(62577),l=r(76582),c=r(31917),d=r(39589),u=r(88675),x=r(10884),f=r(93080),p=r(72791),h=r(57689),m=r(55705),b=r(52780),g=r(95048),w=r(5064),j=r(24263),Z=r(35486),v=r(23823),y=r(92387),k=r(80184),S=(0,p.lazy)((function(){return r.e(6442).then(r.bind(r,56442))})),C=(0,p.lazy)((function(){return Promise.resolve().then(r.bind(r,6691))})),z=(0,p.lazy)((function(){return r.e(5224).then(r.bind(r,75224))})),E=(0,p.lazy)((function(){return r.e(4458).then(r.bind(r,4458))}));n.ZP=function(){(0,h.TH)();var e=(0,h.s0)(),n=(0,j.s)(),r=(0,g.I0)(),L=(0,p.useState)(!1),I=(0,a.Z)(L,2),F=I[0],P=(I[1],(0,g.v9)((function(e){return e.authReducer}))),R=P.isLoading,N=(P.error,P.token),M=((0,g.v9)((function(e){return e.userReducer})).user_data,(0,p.useState)(" ")),A=(0,a.Z)(M,2),D=A[0],J=A[1],$=_(),T=$.root,Y=($.boxLeft,$.boxLogin),B=($.leftImg,$.loginColumn),G=$.head,K=$.desc;(0,p.useEffect)((function(){r((0,w.bY)()),N&&(r((0,w.bY)()),e("".concat(b.cn,"/dashboard")))}),[r,N,e]);var O=function(){var s=(0,o.Z)((0,t.Z)().mark((function s(o,a){var i,l,c,d,u,x,f,p;return(0,t.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(i=o.email,l=o.password,n){s.next=3;break}return s.abrupt("return");case 3:return s.next=5,r((0,w.FR)({identifier:i,password:l}));case 5:if(c=s.sent,d=c.payload,!(u=c.error)){s.next=10;break}return s.abrupt("return",J(null===u||void 0===u?void 0:u.message));case 10:if(!d){s.next=16;break}return s.next=13,r((0,y.bG)({token:d}));case 13:f=s.sent,null!==(p=f.payload)&&void 0!==p&&null!==(x=p.customer)&&void 0!==x&&x.walletAddress?e("".concat(b.cn,"/dashboard")):e("".concat(b.cn,"/syncRewards"));case 16:case"end":return s.stop()}}),s)})));return function(e,n){return s.apply(this,arguments)}}();return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(v.default,{children:[(0,k.jsx)(p.Suspense,{fallback:(0,k.jsx)(i.$,{size:"sm"}),children:(0,k.jsx)(S,{pos:"fixed"})}),(0,k.jsx)(l.k,(0,s.Z)((0,s.Z)({},T),{},{children:(0,k.jsx)(l.k,(0,s.Z)((0,s.Z)({},Y),{},{children:(0,k.jsx)(m.J9,{initialValues:{email:"",password:""},validationSchema:b.gs,onSubmit:O,children:function(n){return(0,k.jsxs)(c.g,(0,s.Z)((0,s.Z)({as:"form"},B),{},{onSubmit:n.handleSubmit,onChange:function(){return r((0,w.bY)())},children:[(0,k.jsx)(d.X,(0,s.Z)((0,s.Z)({},G),{},{pb:2,children:"Let\u2019s Login"})),(0,k.jsx)(l.k,{w:"100%",justify:"space-between",children:(0,k.jsx)(p.Suspense,{fallback:(0,k.jsx)(i.$,{size:"sm"}),children:(0,k.jsx)(C,{isLoading:F,name:"Sign in with Google",onClick:function(){window.location.replace("".concat(Z._n,"/user/google"))},rest:{w:"100%"}})})}),(0,k.jsxs)(l.k,{align:"center",w:"100%",justify:"space-between",children:[(0,k.jsx)(u.i,{w:"45%",color:"#ECECEC"}),(0,k.jsx)(x.x,{color:"#999999",fontSize:{base:"12px",md:"20px"},children:"or"}),(0,k.jsx)(u.i,{w:"45%",color:"#ECECEC"})]}),(0,k.jsxs)(p.Suspense,{fallback:(0,k.jsx)(i.$,{size:"sm"}),children:[(0,k.jsx)(E,{name:"email",type:"email",placeholder:"your@email.com"}),(0,k.jsx)(E,{name:"password",type:"password",placeholder:"Password"})]}),D&&(0,k.jsx)(x.x,(0,s.Z)((0,s.Z)({},K),{},{color:"red",children:D})),(0,k.jsx)(f.r,(0,s.Z)((0,s.Z)({onClick:function(){return e("".concat(b.cn,"/password_reset"))}},K),{},{py:3,textDecoration:"underline",w:"30%",children:"Forgot Password"})),(0,k.jsx)(p.Suspense,{fallback:(0,k.jsx)(i.$,{size:"sm"}),children:(0,k.jsx)(z,{isLoading:R,name:"Login"})}),(0,k.jsxs)(x.x,(0,s.Z)((0,s.Z)({},K),{},{pt:"10px",children:["Don\u2019t have an account yet?",(0,k.jsxs)(f.r,{onClick:function(){e("".concat(b.cn,"/register"))},textDecoration:"underline",children:[" ","Create one here."]})]}))]}))}})}))}))]})})};var _=function(){return{root:{h:"100vh",align:"center",justify:"center",bg:"light"},boxLeft:{display:["none","none","none","flex","flex"],bg:"light",fontSize:40,h:"100%",w:"40vw"},boxLogin:{fontSize:40,h:"100%",w:["100%","100%","80%","50%","50%"],overflow:"hidden"},boxRegister:{fontSize:40,h:"100vh",w:["100%","100%","80%","80%","70%"],justify:"center"},leftImg:{h:"100%",w:"100%"},loginColumn:{bg:"light",w:"100%",align:"flex-start",pt:{base:"5vh",md:"10vh"},px:{base:"15px"},justifySelf:"center"},registerColumn:{bg:"light",w:["100%","100%","100%","80%","70%"],align:"flex-start",pt:{base:"5vh",md:"10vh"},px:{base:"15px"},justifySelf:"center"},head:{fontSize:{base:"18px",md:"25px"},pt:"20px"},desc:{pb:"5px",fontSize:{base:"15px",md:"17px"},w:{base:"100%",md:"85%"}},basedText:{pt:"30px",fontSize:{base:"18px",md:"20px"}},checkBoxRoot:{py:"20px"},countrySelect:{w:{base:"100%",md:"100%"},bg:"grey",color:"dark",borderColor:"light",borderWidth:"1px",align:"center"}}}},39633:function(e,n,r){r.r(n),r.d(n,{default:function(){return I}});var s=r(1413),t=r(74165),o=r(15861),a=r(29439),i=r(28382),l=r(76582),c=r(81146),d=r(92746),u=r(39589),x=r(10884),f=r(62577),p=r(9055),h=r(62825),m=r(72791),b=r(56442),g=r(57689),w=r(74417),j=r(4458),Z=r(93742),v=r(95048),y=r(5064),k=r(52780),S=r(55705),C=r(75224),z=r(74569),E=r.n(z),_=r(35486),L=r(80184),I=function(){var e=(0,g.s0)(),n=(0,v.I0)(),r=(0,i.p)(),z=(0,w.yK)(),I=z.root,F=z.boxLeft,P=z.boxLogin,R=z.leftImg,N=z.loginColumn,M=z.head,A=z.desc,D=z.basedText,J=(0,m.useState)("566"),$=(0,a.Z)(J,2),T=($[0],$[1],(0,m.useState)(!1)),Y=(0,a.Z)(T,2),B=Y[0],G=Y[1],K=(0,m.useState)(!1),O=(0,a.Z)(K,2),X=O[0],H=O[1],V=function(){return G(!B)},W=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(s,o){var a,i,l;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=s.password,H(!0),n.prev=2,n.next=5,E().post("".concat(_._n,"/users/password/reset-by-email"),{token:window.location.href.substring(window.location.href.indexOf("=")+1),newPassword:a});case 5:i=n.sent,null!==(l=i.data)&&void 0!==l&&l.isReset&&(e("".concat(k.cn,"/login")),r({position:"top",title:"Password changed",description:"Password updated successfully, please login with your new password",status:"success",duration:9e3,isClosable:!0})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),console.log(n.t0,"ChangePwdErr");case 13:return n.prev=13,H(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,10,13,16]])})));return function(e,r){return n.apply(this,arguments)}}();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(b.default,{}),(0,L.jsxs)(l.k,(0,s.Z)((0,s.Z)({},I),{},{children:[(0,L.jsx)(l.k,(0,s.Z)((0,s.Z)({},F),{},{children:(0,L.jsx)(c.E,(0,s.Z)({src:h.Z.AuthImage,alt:"Me Protocol"},R))})),(0,L.jsx)(l.k,(0,s.Z)((0,s.Z)({},P),{},{children:(0,L.jsx)(d.K,(0,s.Z)((0,s.Z)({},N),{},{children:window.location.href.indexOf("token=")>-1?(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(S.J9,{initialValues:{password:"",confirm:""},validationSchema:k.zW,onSubmit:W,children:function(e){return(0,L.jsxs)(d.K,{as:"form",onChange:function(){return n((0,y.bY)())},onSubmit:e.handleSubmit,w:{base:"100%",md:"35vw"},children:[(0,L.jsx)(u.X,(0,s.Z)((0,s.Z)({},M),{},{pb:2,children:"Create new password"})),(0,L.jsx)(x.x,(0,s.Z)((0,s.Z)({},A),{},{children:"Please provide and confirm a new password"})),(0,L.jsxs)(m.Suspense,{fallback:(0,L.jsx)(f.$,{size:"sm"}),children:[(0,L.jsx)(j.default,{name:"password",type:B?"text":"password",placeholder:"Password"}),(0,L.jsx)(j.default,{name:"confirm",type:B?"text":"password",placeholder:"Confirm Password"})]}),(0,L.jsx)(x.x,(0,s.Z)((0,s.Z)({as:p.z,onClick:V,alignSelf:"flex-end"},D),{},{pt:"0px",bg:"transparent",_hover:{bg:"transparent"},children:B?"Hide":"Show"})),(0,L.jsx)(m.Suspense,{fallback:(0,L.jsx)(f.$,{size:"sm"}),children:(0,L.jsx)(C.default,{isLoading:X,name:"Change password"})})]})}})}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(u.X,(0,s.Z)((0,s.Z)({},M),{},{pb:2,children:"Reset password"})),(0,L.jsx)(x.x,(0,s.Z)((0,s.Z)({},A),{},{children:"An email containing a password reset link has been sent to your email, please go to your email and click on the link change your password."})),(0,L.jsxs)(x.x,(0,s.Z)((0,s.Z)({flexDir:"row"},A),{},{textDecoration:"underline",children:["My link didn't arrive? Resend link in"," ",(0,L.jsx)(Z.Z,{minutes:1,seconds:1,text:" ",ButtonText:"Resend",resend:function(){console.log("button clicked")},background:"black"})]}))]})}))}))]}))]})}},62437:function(e,n,r){r.d(n,{J1:function(){return g}});var s=r(1413),t=r(29439),o=r(9657),a=r(49640),i=r(9886),l=r(75597),c=r(32481),d=r(62996),u=r(45113),x=r(36992),f=r(80184),p=(0,i.k)({name:"FormErrorStylesContext",errorMessage:"useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormError />\" "}),h=(0,t.Z)(p,2),m=h[0],b=h[1],g=(0,l.G)((function(e,n){var r=(0,c.jC)("FormError",e),t=(0,d.Lr)(e),a=(0,o.NJ)();return(null==a?void 0:a.isInvalid)?(0,f.jsx)(m,{value:r,children:(0,f.jsx)(u.m.div,(0,s.Z)((0,s.Z)({},null==a?void 0:a.getErrorMessageProps(t,n)),{},{className:(0,x.cx)("chakra-form__error-message",e.className),__css:(0,s.Z)({display:"flex",alignItems:"center"},r.text)}))}):null}));g.displayName="FormErrorMessage",(0,l.G)((function(e,n){var r=b(),t=(0,o.NJ)();if(!(null==t?void 0:t.isInvalid))return null;var i=(0,x.cx)("chakra-form__error-icon",e.className);return(0,f.jsx)(a.J,(0,s.Z)((0,s.Z)({ref:n,"aria-hidden":!0},e),{},{__css:r.icon,className:i,children:(0,f.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}))})).displayName="FormErrorIcon"}}]);
//# sourceMappingURL=9633.7b65208c.chunk.js.map