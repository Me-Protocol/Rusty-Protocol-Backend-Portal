"use strict";(self.webpackChunkapp_web_frontend=self.webpackChunkapp_web_frontend||[]).push([[659,3687,416],{90416:function(e,n,o){o.r(n);var r=o(1413),i=o(76582),t=o(20824),l=o(28773),d=o(81146),a=o(86762),x=o(10884),s=o(62825),p=o(30253),c=o(80184);n.default=function(e){var n,o,v,f=e.productTitle,h=e.productSubtitle,b=e.points,m=(e.price,e.isLoaded),j=(e.trending,e.isNew),g=e.bgImage,w=e.onClick,k=e.i,S=e.rest,Z=u().root;return(0,c.jsx)(i.k,(0,r.Z)((0,r.Z)({},Z),{},{flexDir:"column",pos:"relative",children:(0,c.jsx)(t.xu,{w:["280px","200px","280px","235px","280px"],px:"0px",children:(0,c.jsx)(l.O,{borderRadius:{base:"8px",md:"10px"},isLoaded:m,children:(0,c.jsxs)(i.k,{w:["280px","200px","280px","235px","280px"],h:["350px","270px","350px","320px","360px"],px:"0px",borderRadius:{base:"8px",md:"10px"},flexDir:"column",bg:"#F2F2F2",className:"card-hover",as:"button",onClick:w,role:"group",borderColor:"#00000012",borderWidth:"1px",children:[(0,c.jsx)(t.xu,{pos:"absolute",borderRadius:{base:"8px",md:"16px"},w:["280px","200px","280px","235px","280px"],h:["350px","270px","350px","320px","360px"],bg:"#0000000E",zIndex:100}),(0,c.jsx)(t.xu,{w:["280px","200px","280px","235px","280px"],overflow:"hidden",children:(0,c.jsx)(d.E,{src:null===(n=g[0])||void 0===n?void 0:n.url,w:"100%",h:["160px","190px","260px","230px","270px"],borderBottomEndRadius:{base:"8px",md:"10px"},borderBottomStartRadius:{base:"8px",md:"10px"},objectFit:"cover",fallbackSrc:s.Z.appLogoPlaceholder,fallbackStrategy:"beforeLoadOrError",mixBlendMode:"multiply",_groupHover:{transform:"scale(1.2)",transition:"all .2s linear"}})}),(0,c.jsxs)(a.U,{w:"70%",alignSelf:"center",mt:"5px",children:[(0,c.jsx)(d.E,{src:null===S||void 0===S||null===(o=S.brand)||void 0===o?void 0:o.logo,w:"20px",h:"20px",borderRadius:"20px",objectFit:"contain",bg:"grey"}),(0,c.jsx)(x.x,{noOfLines:1,textTransform:"uppercase",children:f})]}),(0,c.jsx)(x.x,{noOfLines:1,w:"70%",alignSelf:"center",opacity:.6,children:h}),(0,c.jsx)(i.k,{pos:"absolute",top:"-14.5px",right:["-1.5px","-1.5px",2===k||5===k||8===k||11===k?"0px":"-18.5px",3===k||7===k||11===k||15===k?"0px":"-15.5px",3===k||7===k||11===k||15===k?"0px":"-10.5px"],children:j?(0,c.jsx)(p.OD,{}):null}),(0,c.jsx)(t.xu,{bg:"dark",pos:"absolute",bottom:"0",w:["280px","200px","280px","235px","280px"],h:"30px",borderBottomRadius:"10px",color:"white",alignItems:"center",justifyContent:"center",children:(0,c.jsxs)(x.x,{pt:"2px",fontFamily:"Dot Matrix",fontSize:"20px",textTransform:"uppercase",children:[b," ",null===S||void 0===S||null===(v=S.brand)||void 0===v?void 0:v.brandName," PT"]})})]})})})}))};var u=function(){return{root:{w:"100%",align:"center",my:"5%",borderRadius:"16px",px:0}}}},83687:function(e,n,o){o.r(n);var r=o(1413),i=o(18451),t=o(76582),l=o(20824),d=o(28773),a=o(10884),x=o(86762),s=o(39589),p=o(25984),c=o(80184),u=o(72791);n.default=function(){var e,n=v().root;return(0,c.jsx)(i.M,{columns:[2,2,3,4,4],w:"100%",spacingX:["35px","35px","35px","15px","35px"],spacingY:"5px",children:null===(e=[1,2,3,4])||void 0===e?void 0:e.map((function(){return(0,u.createElement)(t.k,(0,r.Z)((0,r.Z)({},n),{},{flexDir:"column",key:(0,p.x0)()}),(0,c.jsxs)(l.xu,{w:"280px",children:[(0,c.jsx)(d.O,{borderRadius:{base:"8px",md:"16px"},isLoaded:!1,children:(0,c.jsx)(t.k,{w:"280px",h:"280px",borderRadius:{base:"8px",md:"16px"},flexDir:"column",bg:"#99999951",overflow:"hidden",className:"card-hover",as:"button",children:(0,c.jsx)(l.xu,{pos:"absolute",borderRadius:{base:"8px",md:"16px"},w:"280px",h:"280px",bg:"#99999951"})})}),(0,c.jsxs)(t.k,{flexDir:"column",mt:"2%",children:[(0,c.jsx)(t.k,{w:"280px",justify:"space-between",align:"center",children:(0,c.jsx)(d.O,{borderRadius:{base:"8px",md:"16px"},isLoaded:!1,children:(0,c.jsx)(a.x,{fontSize:["10px","10px","14px","16px","16px"],noOfLines:1,children:"productTitle"})})}),(0,c.jsx)(d.O,{borderRadius:{base:"8px",md:"16px"},isLoaded:!1,children:(0,c.jsx)(a.x,{fontSize:["8px","8px","12px","14px","14px"],opacity:.7,noOfLines:1,children:"points"})}),(0,c.jsx)(d.O,{borderRadius:{base:"8px",md:"16px"},isLoaded:!1,children:(0,c.jsxs)(x.U,{children:[(0,c.jsx)(s.X,{fontSize:["10px","10px","14px","16px","16px"],children:"points"}),(0,c.jsx)(a.x,{fontSize:["10px","10px","14px","16px","16px"],children:"price"})]})})]})]}))}))})};var v=function(){return{root:{pt:"2vh",align:"center",pb:"2%",borderRadius:"16px"}}}},10659:function(e,n,o){o.r(n),o.d(n,{default:function(){return N}});var r=o(74165),i=o(93433),t=o(1413),l=o(15861),d=o(29439),a=o(28382),x=o(76582),s=o(92746),p=o(86762),c=o(49640),u=o(10884),v=o(18451),f=o(62577),h=o(66484),b=o(9055),m=o(23853),j=o(57689),g=o(90416),w=o(25984),k=o(72791),S=o(95048),Z=o(83687),R=o(54776),y=o(56355),L=o(23823),E=o(74569),O=o.n(E),_=o(35486),F=o(40587),C=o(30253),T=o(52780),z=o(35378),D=o(72426),M=o.n(D),I=o(80184),N=function(){var e=(0,j.s0)(),n=P(),o=n.root,E=n.loadMore,D=(0,a.p)(),N=((0,j.UO)().id,(0,j.TH)().state),A=(0,k.useState)([]),B=(0,d.Z)(A,2),U=(B[0],B[1],(0,k.useState)([])),H=(0,d.Z)(U,2),X=H[0],G=H[1],J=(0,k.useState)(!1),W=(0,d.Z)(J,2),Y=(W[0],W[1],(0,k.useState)(1)),$=(0,d.Z)(Y,2),K=$[0],V=$[1],q=(0,k.useState)(!1),Q=(0,d.Z)(q,2),ee=Q[0],ne=Q[1],oe=(0,k.useState)(1),re=(0,d.Z)(oe,2),ie=(re[0],re[1]),te=(0,k.useState)(!1),le=(0,d.Z)(te,2),de=le[0],ae=le[1],xe=(0,S.v9)((function(e){return null===e||void 0===e?void 0:e.authReducer})),se=xe.token,pe=xe.session_id;function ce(){return(ce=(0,l.Z)((0,r.Z)().mark((function e(){var n,o,t,l,d,a,x;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(!0),ne(!1),e.prev=2,e.next=5,O().get("".concat(_._n,"/store/offer?page=").concat(K,"&limit=8&orderBy=MOST_VIEWED&sort=").concat(N||z.PE.POPULAR),{headers:{Authorization:"Bearer ".concat(se)}});case 5:d=e.sent,(null===(a=d.data)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.offers.length)<1&&(ne(!0),(0,F.Z)(D,"No more offer available",3e3,"top")),G([].concat((0,i.Z)(X),(0,i.Z)(null===a||void 0===a||null===(o=a.data)||void 0===o?void 0:o.offers))),ie(null===a||void 0===a||null===(t=a.data)||void 0===t||null===(l=t.pagination)||void 0===l?void 0:l.totalPage),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),null===(x=console)||void 0===x||x.log(e.t0,"GET_ALL_OFFERS_ERR");case 15:return e.prev=15,ae(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function ue(){return(ue=(0,l.Z)((0,r.Z)().mark((function e(){var n,o,t,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(!0),ne(!1),e.prev=2,e.next=5,O().get("".concat(_._n,"/views/recently-viewed/").concat(pe,"?page=").concat(K,"&limit=8"));case 5:o=e.sent,(null===(t=o.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.length)<1&&(ne(!0),(0,F.Z)(D,"No more offer available",3e3,"top")),G([].concat((0,i.Z)(X),(0,i.Z)(null===t||void 0===t?void 0:t.data))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),null===(l=console)||void 0===l||l.log(e.t0,"GET_ALL_OFFERS_ERR");case 14:return e.prev=14,ae(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))).apply(this,arguments)}return(0,k.useEffect)((function(){N?function(){ce.apply(this,arguments)}():function(){ue.apply(this,arguments)}()}),[K]),(0,I.jsxs)(x.k,{flexDir:"column",children:[(0,I.jsx)(R.default,{}),(0,I.jsx)(L.default,{children:(0,I.jsxs)(s.K,(0,t.Z)((0,t.Z)({},o),{},{children:[(0,I.jsxs)(p.U,{as:"button",onClick:function(){return e(-1)},children:[(0,I.jsx)(c.J,{as:m.YFh,w:"2vw",h:"2vw"}),(0,I.jsx)(u.x,{children:"Back"})]}),(0,I.jsx)(L.default,{children:(0,I.jsxs)(p.U,{mt:"20px",children:[(0,I.jsx)(C.H0,{}),(0,I.jsx)(u.x,{fontSize:["18px","18px"],textTransform:"uppercase",children:null===N||void 0===N?void 0:N.replaceAll("_"," ")})]})}),N&&(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(v.M,{columns:[2,2,3,4,4],spacingX:["35px","35px","35px","15px","35px"],w:"100%",children:null===X||void 0===X?void 0:X.map((function(n,o){var r,i,l,d;return(0,I.jsx)(g.default,{isLoaded:!0,productTitle:null===n||void 0===n?void 0:n.name,points:"".concat(null===n||void 0===n?void 0:n.tokens).concat(null===n||void 0===n||null===(r=n.reward)||void 0===r?void 0:r.rewardSymbol),productSubtitle:null===n||void 0===n||null===(i=n.product)||void 0===i||null===(l=i.category)||void 0===l?void 0:l.name,price:null===n||void 0===n||null===(d=n.originalPrice)||void 0===d?void 0:d.toLocaleString(),isNew:M()(M()()).diff(null===n||void 0===n?void 0:n.createdAt,"days")<1,rest:(0,t.Z)({},n),i:o,bgImage:null===n||void 0===n?void 0:n.offerImages,onClick:function(){return e("".concat(T.cn,"/productDetails/").concat(null===n||void 0===n?void 0:n.offerCode))}},(0,w.x0)())}))})}),!N&&(0,I.jsx)(I.Fragment,{children:de?(0,I.jsx)(Z.default,{}):(0,I.jsx)(v.M,{columns:[2,2,3,4,4],w:"100%",spacingX:"3.5%",mt:"40px",children:(0,I.jsx)(k.Suspense,{fallback:(0,I.jsx)(f.$,{size:"sm"}),children:null===X||void 0===X?void 0:X.map((function(n,o){var r,i,l,d;return(0,I.jsx)(g.default,{isLoaded:!0,productTitle:null===n||void 0===n?void 0:n.name,points:"".concat(null===n||void 0===n?void 0:n.tokens).concat(null===n||void 0===n||null===(r=n.reward)||void 0===r?void 0:r.rewardSymbol),productSubtitle:null===n||void 0===n||null===(i=n.product)||void 0===i||null===(l=i.category)||void 0===l?void 0:l.name,price:null===n||void 0===n||null===(d=n.originalPrice)||void 0===d?void 0:d.toLocaleString(),isNew:M()(M()()).diff(null===n||void 0===n?void 0:n.createdAt,"days")<1,rest:(0,t.Z)({},n),i:o,bgImage:null===n||void 0===n?void 0:n.offerImages,onClick:function(){return e("".concat(T.cn,"/productDetails/").concat(null===n||void 0===n?void 0:n.offerCode))}},(0,w.x0)())}))})})}),N&&(0,I.jsx)(I.Fragment,{children:!ee&&(0,I.jsx)(h.M,(0,t.Z)((0,t.Z)({as:b.z},E),{},{onClick:function(){V(K+1)},children:de?(0,I.jsx)(f.$,{size:"sm"}):(0,I.jsxs)(I.Fragment,{children:["Load more ",(0,I.jsx)(c.J,{as:y.iUH,ml:"5%"})]})}))})]}))})]})},P=function(){return{root:{w:"100%",mt:"108px",pt:"3%",overflow:"hidden",pb:"2%"},loadMore:{w:"132px",h:"32px",alignSelf:"center",py:"10px",borderRadius:"100px"}}}}}]);
//# sourceMappingURL=659.fd5f7b4a.chunk.js.map