"use strict";(self.webpackChunkapp_web_frontend=self.webpackChunkapp_web_frontend||[]).push([[5495],{74417:function(e,n,t){t.d(n,{yK:function(){return L}});var r=t(1413),s=t(74165),o=t(15861),a=t(29439),i=t(62577),c=t(76582),l=t(31917),u=t(39589),d=t(88675),x=t(10884),p=t(93080),f=t(72791),h=t(57689),m=t(55705),j=t(52780),b=t(95048),g=t(5064),w=t(24263),Z=t(35486),y=t(23823),v=t(92387),k=t(80184),S=(0,f.lazy)((function(){return t.e(6442).then(t.bind(t,56442))})),C=(0,f.lazy)((function(){return Promise.resolve().then(t.bind(t,6691))})),z=(0,f.lazy)((function(){return t.e(5224).then(t.bind(t,75224))})),E=(0,f.lazy)((function(){return t.e(4458).then(t.bind(t,4458))}));n.ZP=function(){(0,h.TH)();var e=(0,h.s0)(),n=(0,w.s)(),t=(0,b.I0)(),P=(0,f.useState)(!1),R=(0,a.Z)(P,2),O=R[0],$=(R[1],(0,b.v9)((function(e){return e.authReducer}))),_=$.isLoading,I=($.error,$.token),A=((0,b.v9)((function(e){return e.userReducer})).user_data,(0,f.useState)(" ")),B=(0,a.Z)(A,2),D=B[0],F=B[1],T=L(),U=T.root,G=(T.boxLeft,T.boxLogin),Y=(T.leftImg,T.loginColumn),M=T.head,X=T.desc;(0,f.useEffect)((function(){t((0,g.bY)()),I&&(t((0,g.bY)()),e("".concat(j.cn,"/dashboard")))}),[t,I,e]);var W=function(){var r=(0,o.Z)((0,s.Z)().mark((function r(o,a){var i,c,l,u,d,x,p,f;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=o.email,c=o.password,n){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,t((0,g.FR)({identifier:i,password:c}));case 5:if(l=r.sent,u=l.payload,!(d=l.error)){r.next=10;break}return r.abrupt("return",F(null===d||void 0===d?void 0:d.message));case 10:if(!u){r.next=16;break}return r.next=13,t((0,v.bG)({token:u}));case 13:p=r.sent,null!==(f=p.payload)&&void 0!==f&&null!==(x=f.customer)&&void 0!==x&&x.walletAddress?e("".concat(j.cn,"/dashboard")):e("".concat(j.cn,"/syncRewards"));case 16:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}();return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(y.default,{children:[(0,k.jsx)(f.Suspense,{fallback:(0,k.jsx)(i.$,{size:"sm"}),children:(0,k.jsx)(S,{pos:"fixed"})}),(0,k.jsx)(c.k,(0,r.Z)((0,r.Z)({},U),{},{children:(0,k.jsx)(c.k,(0,r.Z)((0,r.Z)({},G),{},{children:(0,k.jsx)(m.J9,{initialValues:{email:"",password:""},validationSchema:j.gs,onSubmit:W,children:function(n){return(0,k.jsxs)(l.g,(0,r.Z)((0,r.Z)({as:"form"},Y),{},{onSubmit:n.handleSubmit,onChange:function(){return t((0,g.bY)())},children:[(0,k.jsx)(u.X,(0,r.Z)((0,r.Z)({},M),{},{pb:2,children:"Let\u2019s Login"})),(0,k.jsx)(c.k,{w:"100%",justify:"space-between",children:(0,k.jsx)(f.Suspense,{fallback:(0,k.jsx)(i.$,{size:"sm"}),children:(0,k.jsx)(C,{isLoading:O,name:"Sign in with Google",onClick:function(){window.location.replace("".concat(Z._n,"/user/google"))},rest:{w:"100%"}})})}),(0,k.jsxs)(c.k,{align:"center",w:"100%",justify:"space-between",children:[(0,k.jsx)(d.i,{w:"45%",color:"#ECECEC"}),(0,k.jsx)(x.x,{color:"#999999",fontSize:{base:"12px",md:"20px"},children:"or"}),(0,k.jsx)(d.i,{w:"45%",color:"#ECECEC"})]}),(0,k.jsxs)(f.Suspense,{fallback:(0,k.jsx)(i.$,{size:"sm"}),children:[(0,k.jsx)(E,{name:"email",type:"email",placeholder:"your@email.com"}),(0,k.jsx)(E,{name:"password",type:"password",placeholder:"Password"})]}),D&&(0,k.jsx)(x.x,(0,r.Z)((0,r.Z)({},X),{},{color:"red",children:D})),(0,k.jsx)(p.r,(0,r.Z)((0,r.Z)({onClick:function(){return e("".concat(j.cn,"/password_reset"))}},X),{},{py:3,textDecoration:"underline",w:"30%",children:"Forgot Password"})),(0,k.jsx)(f.Suspense,{fallback:(0,k.jsx)(i.$,{size:"sm"}),children:(0,k.jsx)(z,{isLoading:_,name:"Login"})}),(0,k.jsxs)(x.x,(0,r.Z)((0,r.Z)({},X),{},{pt:"10px",children:["Don\u2019t have an account yet?",(0,k.jsxs)(p.r,{onClick:function(){e("".concat(j.cn,"/register"))},textDecoration:"underline",children:[" ","Create one here."]})]}))]}))}})}))}))]})})};var L=function(){return{root:{h:"100vh",align:"center",justify:"center",bg:"light"},boxLeft:{display:["none","none","none","flex","flex"],bg:"light",fontSize:40,h:"100%",w:"40vw"},boxLogin:{fontSize:40,h:"100%",w:["100%","100%","80%","50%","50%"],overflow:"hidden"},boxRegister:{fontSize:40,h:"100vh",w:["100%","100%","80%","80%","70%"],justify:"center"},leftImg:{h:"100%",w:"100%"},loginColumn:{bg:"light",w:"100%",align:"flex-start",pt:{base:"5vh",md:"10vh"},px:{base:"15px"},justifySelf:"center"},registerColumn:{bg:"light",w:["100%","100%","100%","80%","70%"],align:"flex-start",pt:{base:"5vh",md:"10vh"},px:{base:"15px"},justifySelf:"center"},head:{fontSize:{base:"18px",md:"25px"},pt:"20px"},desc:{pb:"5px",fontSize:{base:"15px",md:"17px"},w:{base:"100%",md:"85%"}},basedText:{pt:"30px",fontSize:{base:"18px",md:"20px"}},checkBoxRoot:{py:"20px"},countrySelect:{w:{base:"100%",md:"100%"},bg:"grey",color:"dark",borderColor:"light",borderWidth:"1px",align:"center"}}}},35495:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var r=t(1413),s=t(74165),o=t(15861),a=t(29439),i=t(51022),c=t(62577),l=t(76582),u=t(81146),d=t(31917),x=t(10884),p=t(88675),f=t(39589),h=t(9055),m=t(52409),j=t(93080),b=t(20824),g=t(62825),w=t(72791),Z=t(74417),y=t(55705),v=t(57689),k=t(52780),S=t(5064),C=t(95048),z=t(74569),E=t.n(z),L=t(24263),P=t(35486),R=t(28382),O=t(86762),$=t(45695),_=t(95273),I=t(40071),A=t(45987),B=t(70990),D=t(8874),F=t(18762),T=t(46241),U=t(80184),G=["children","isOpen","onClose","modalContentStyle","modalBodyStyle"],Y=function(e){var n=e.children,t=e.isOpen,s=e.onClose,o=e.modalContentStyle,a=e.modalBodyStyle,i=(0,A.Z)(e,G);return(0,U.jsxs)(B.u_,(0,r.Z)((0,r.Z)({isCentered:!0,blockScrollOnMount:!0,scrollBehavior:"inside",isOpen:t,size:"lg",onClose:s,motionPreset:"slideInBottom"},i),{},{children:[(0,U.jsx)(D.Z,{bg:"#00000020",backdropFilter:"auto",backdropBlur:"2px"}),(0,U.jsx)(F.h,(0,r.Z)((0,r.Z)({w:{base:"90vw",md:"60vw"},borderRadius:0,py:"1%"},o),{},{children:(0,U.jsx)(T.f,(0,r.Z)((0,r.Z)({},a),{},{children:n}))}))]}))},M=t(40587),X=function(e){var n=e.countFrom,t=e.onCountdownComplete,r=(0,w.useState)(n),s=(0,a.Z)(r,2),o=s[0],i=s[1],c=(0,w.useState)(!0),l=(0,a.Z)(c,2),u=l[0],d=l[1];(0,w.useEffect)((function(){if(u&&o>0){var e=setInterval((function(){i(o-1)}),1e3);return function(){return clearInterval(e)}}0===o&&u&&(d(!1),t())}),[o,u,t]);return(0,U.jsxs)(O.U,{as:"button",onClick:function(){n>0||(i(n),d(!0))},children:[(0,U.jsx)(x.x,{children:"Resend"}),(0,U.jsxs)(x.x,{opacity:o>0?1:0,children:["(",function(e){var n=Math.floor(e/60),t=e%60;return"".concat(n.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"))}(o),")"]})]})},W=function(e){var n,t=e.isOpen,r=e.onClose,i=e.token,u=(0,w.useState)(!1),d=(0,a.Z)(u,2),p=d[0],f=d[1],h=(0,w.useState)(!1),m=(0,a.Z)(h,2),j=m[0],g=m[1],Z=(0,w.useState)(60),y=(0,a.Z)(Z,2),z=y[0],E=y[1],L=(0,w.useState)(""),P=(0,a.Z)(L,2),A=P[0],B=P[1],D=(0,v.s0)(),F=(0,R.p)(),T=(0,C.I0)();function G(){return(G=(0,o.Z)((0,s.Z)().mark((function e(n){var t,o,a,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,T((0,S.Al)({code:n,token:i}));case 4:if(t=e.sent,o=t.payload,!(a=t.error)){e.next=9;break}return e.abrupt("return",B(a.message));case 9:o&&(r(),c="error-toast",F.isActive(c)||F({id:c,position:"top",title:"Account Created Successfully",description:"Your account was created using email and password, please enter your email and password to continue",status:"success",duration:9e3,isClosable:!1}),D("".concat(k.cn,"/login"))),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,12,14,17]])})))).apply(this,arguments)}function W(){return(W=(0,o.Z)((0,s.Z)().mark((function e(){var n,t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,T((0,S.uj)({token:i}));case 4:if(n=e.sent,t=n.payload,!(r=n.error)){e.next=9;break}return e.abrupt("return",B(r.message));case 9:t&&(0,M.Z)(F,"Code resent successfully",9e3,"bottom-left"),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,12,14,17]])})))).apply(this,arguments)}return(0,U.jsx)(Y,{isOpen:t,onClose:r,closeOnOverlayClick:!1,modalContentStyle:{borderRadius:"10px"},children:(0,U.jsxs)(l.k,{flexDir:"column",py:"5px",children:[(0,U.jsx)(l.k,{alignSelf:"flex-end",as:"button",onClick:r,mb:"20px",children:(0,U.jsx)(I.R5A,{size:20})}),(0,U.jsx)(x.x,{fontSize:"14px",mb:"10px",children:"Please provide the OTP sent to your Email"}),(0,U.jsx)(O.U,{w:"100%",h:"80px",children:(0,U.jsx)($.E,{onComplete:function(e){B(""),function(e){G.apply(this,arguments)}(e)},otp:!0,placeholder:"*",children:null===(n=[1,2,3,4])||void 0===n?void 0:n.map((function(){return(0,U.jsx)($.x,{bg:"grey",borderRadius:10,borderWidth:0,w:"30%",h:"100%"},(0,_.x0)())}))})}),A&&(0,U.jsx)(x.x,{color:"red",children:A}),j&&(0,U.jsx)(c.$,{size:"sm",alignSelf:"flex-end",mt:"10px"}),(0,U.jsxs)(O.U,{fontSize:"14px",mt:"25px",children:[(0,U.jsx)(x.x,{children:"Did not receive OTP?"}),(0,U.jsx)(b.xu,{opacity:p?1:.5,onClick:function(){p&&(!function(){W.apply(this,arguments)}(),E(z+1),f(!1))},children:(0,U.jsx)(X,{countFrom:z,onCountdownComplete:function(){f(!0)}})})]})]})})},H=(0,w.lazy)((function(){return t.e(5224).then(t.bind(t,75224))})),J=(0,w.lazy)((function(){return Promise.resolve().then(t.bind(t,6691))})),K=(0,w.lazy)((function(){return t.e(4458).then(t.bind(t,4458))})),N=(0,w.lazy)((function(){return Promise.all([t.e(6669),t.e(2125)]).then(t.bind(t,22125))})),V=(0,w.lazy)((function(){return t.e(6442).then(t.bind(t,56442))})),q=function(){var e=(0,C.I0)(),n=(0,v.s0)(),t=(0,L.s)(),z=(0,w.useState)(!1),R=(0,a.Z)(z,2),O=R[0],$=R[1],_=(0,w.useState)(!1),I=(0,a.Z)(_,2),A=I[0],B=I[1],D=(0,i.q)(),F=D.isOpen,T=D.onClose,G=D.onOpen,Y=(0,w.useState)(""),M=(0,a.Z)(Y,2),X=M[0],q=M[1],Q=(0,w.useState)(""),ee=(0,a.Z)(Q,2),ne=ee[0],te=ee[1],re=function(){return $(!O)},se=(0,C.v9)((function(e){return e.authReducer})),oe=se.token,ae=se.registerLoading,ie=(0,Z.yK)(),ce=ie.root,le=ie.boxLeft,ue=ie.boxRegister,de=ie.leftImg,xe=ie.registerColumn,pe=ie.head,fe=ie.desc,he=ie.basedText,me=ie.checkBoxRoot,je=ie.countrySelect;(0,w.useEffect)((function(){e((0,S.U1)()),ye(),oe&&n("".concat(k.cn,"/dashboard"))}),[]);var be=(0,w.useState)("United States of America"),ge=(0,a.Z)(be,2),we=ge[0],Ze=ge[1],ye=function(){E().get("https://ipapi.co/json/").then((function(e){var n=e.data;Ze(n.country_name)})).catch((function(e){console.log(e)}))},ve=function(){var n=(0,o.Z)((0,s.Z)().mark((function n(r){var o,a,i,c,l,u,d;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r.email,a=r.password,i=r.firstname,c=r.lastname,t){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,e((0,S.Z_)({firstname:i,lastname:c,email:o,password:a}));case 5:if(l=n.sent,u=l.payload,!(d=l.error)){n.next=11;break}return console.log(d),n.abrupt("return",te(null===d||void 0===d?void 0:d.message));case 11:u&&(q(u),G());case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();function ke(){return Se.apply(this,arguments)}function Se(){return(Se=(0,o.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{B(!0),window.location.replace("".concat(P._n,"/user/google"))}catch(n){console.log(n,"err google")}finally{B(!1)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:(0,U.jsx)(l.k,{pos:"absolute",children:(0,U.jsx)(V,{pos:"fixed"})})}),(0,U.jsxs)(l.k,(0,r.Z)((0,r.Z)({},ce),{},{children:[(0,U.jsx)(l.k,(0,r.Z)((0,r.Z)({},le),{},{children:(0,U.jsx)(u.E,(0,r.Z)({src:g.Z.AuthImage,alt:"Me Protocol"},de))})),(0,U.jsx)(l.k,(0,r.Z)((0,r.Z)({},ue),{},{overflowX:"hidden",children:(0,U.jsx)(y.J9,{initialValues:{email:"",password:"",confirm:"",firstname:"",lastname:""},validationSchema:k.Un,onSubmit:ve,children:function(t){return(0,U.jsxs)(d.g,(0,r.Z)((0,r.Z)({as:"form"},xe),{},{onChange:function(){return e((0,S.bY)())},onSubmit:t.handleSubmit,children:[(0,U.jsx)(x.x,(0,r.Z)((0,r.Z)({},pe),{},{children:"Let\u2019s get started."})),(0,U.jsx)(l.k,{w:"100%",justify:"space-between",children:(0,U.jsx)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:(0,U.jsx)(J,{isLoading:A,name:"Sign up with Google",onClick:ke,rest:{w:"100%"}})})}),(0,U.jsxs)(l.k,{align:"center",w:"100%",justify:"space-between",children:[(0,U.jsx)(p.i,{w:"45%",color:"#ECECEC"}),(0,U.jsx)(x.x,{color:"#999999",fontSize:{base:"12px",md:"20px"},children:"or"}),(0,U.jsx)(p.i,{w:"45%",color:"#ECECEC"})]}),(0,U.jsx)(x.x,(0,r.Z)((0,r.Z)({},fe),{},{children:"Enter a few details to join the ME community"})),(0,U.jsxs)(l.k,{flexDir:{base:"column",md:"row"},justifyContent:"space-between",w:"100%",children:[(0,U.jsx)(l.k,{w:{base:"100%",md:"49%"},children:(0,U.jsx)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:(0,U.jsx)(K,{name:"firstname",placeholder:"First Name"})})}),(0,U.jsx)(l.k,{w:{base:"100%",md:"49%"},children:(0,U.jsx)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:(0,U.jsx)(K,{name:"lastname",placeholder:"Last Name"})})})]}),(0,U.jsxs)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:[(0,U.jsx)(K,{name:"email",type:"email",placeholder:"your@email.com"}),ne&&(0,U.jsx)(x.x,{fontSize:"12px",color:"red",children:ne})]}),(0,U.jsx)(f.X,(0,r.Z)((0,r.Z)({},he),{},{children:"Get yourself a password."})),(0,U.jsx)(x.x,(0,r.Z)((0,r.Z)({},fe),{},{children:"Passwords must include a symbol or number and have at least 8 characters."})),(0,U.jsxs)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:[(0,U.jsx)(K,{name:"password",type:O?"text":"password",placeholder:"Password"}),(0,U.jsx)(K,{name:"confirm",type:O?"text":"password",placeholder:"Confirm Password"})]}),(0,U.jsx)(x.x,(0,r.Z)((0,r.Z)({as:h.z,onClick:re,alignSelf:"flex-end"},he),{},{pt:"0px",bg:"transparent",_hover:{bg:"transparent"},children:O?"Hide":"Show"})),(0,U.jsx)(x.x,(0,r.Z)((0,r.Z)({},he),{},{children:"Where are you based?"})),(0,U.jsx)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:(0,U.jsx)(N,(0,r.Z)({value:we,onChange:function(e){Ze(e.target.value)}},je))}),(0,U.jsx)(l.k,(0,r.Z)((0,r.Z)({},me),{},{children:(0,U.jsx)(m.X,{w:"100%",borderColor:"black",spacing:"1rem",children:"Get exclusive offers, trends and deals"})})),(0,U.jsx)(w.Suspense,{fallback:(0,U.jsx)(c.$,{size:"sm"}),children:(0,U.jsx)(H,{isLoading:ae,name:"Create Account"})}),(0,U.jsxs)(x.x,(0,r.Z)((0,r.Z)({},fe),{},{pt:"10px",children:["By signing up you accept to our"," ",(0,U.jsxs)(j.r,{href:"https://google.com",textDecoration:"underline",children:[" ","Terms and Services."]})]})),(0,U.jsxs)(x.x,(0,r.Z)((0,r.Z)({},fe),{},{pt:"10px",children:["Already have an account?",(0,U.jsxs)(j.r,{onClick:function(){n("".concat(k.cn,"/login"),{replace:!0})},textDecoration:"underline",children:[" ","Login here."]})]})),(0,U.jsx)(b.xu,{bg:"transparent",pt:"40px",w:"100%"})]}))}})}))]})),(0,U.jsx)(W,{isOpen:F,onClose:T,token:X})]})}}}]);
//# sourceMappingURL=5495.67e5e562.chunk.js.map