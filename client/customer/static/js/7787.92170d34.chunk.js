"use strict";(self.webpackChunkapp_web_frontend=self.webpackChunkapp_web_frontend||[]).push([[7787],{87490:function(e,n,r){r.d(n,{W:function(){return l}});var o=r(93433);function l(e){console.log(e);var n={};return e.forEach((function(e){var r,l,i,d,t,a,s=n[null===e||void 0===e||null===(r=e.rewardRegistry)||void 0===r||null===(l=r.reward)||void 0===l?void 0:l.brandId];s?n[null===e||void 0===e||null===(i=e.rewardRegistry)||void 0===i||null===(d=i.reward)||void 0===d?void 0:d.brandId]=[].concat((0,o.Z)(s),[e]):n[null===e||void 0===e||null===(t=e.rewardRegistry)||void 0===t||null===(a=t.reward)||void 0===a?void 0:a.brandId]=[e]})),console.log("res",n),n}},75614:function(e,n,r){function o(){for(var e="",n=0;n<6;n++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}r.d(n,{m:function(){return o}})},77787:function(e,n,r){r.r(n),r.d(n,{default:function(){return ce},useDashboardAssetsSingleBrand:function(){return xe}});var o=r(74165),l=r(15861),i=r(1413),d=r(29439),t=r(51022),a=r(76582),s=r(62577),u=r(92746),c=r(10884),x=r(71118),v=r(86762),h=r(20824),p=r(66484),f=r(76773),b=r(87251),m=r(45987),g=r(75597),j=r(32481),w=r(62996),y=r(45113),Z=r(36992),k=r(9886),S=r(80184),D=["className","layout"],C=(0,k.k)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),L=(0,d.Z)(C,2),R=L[0],_=L[1],A=(0,g.G)((function(e,n){var r=(0,j.jC)("Table",e),o=(0,w.Lr)(e),l=o.className,d=o.layout,t=(0,m.Z)(o,D);return(0,S.jsx)(R,{value:r,children:(0,S.jsx)(y.m.table,(0,i.Z)({ref:n,__css:(0,i.Z)({tableLayout:d},r.table),className:(0,Z.cx)("chakra-table",l)},t))})}));A.displayName="Table";var z=(0,g.G)((function(e,n){var r=_();return(0,S.jsx)(y.m.tbody,(0,i.Z)((0,i.Z)({},e),{},{ref:n,__css:r.tbody}))})),F=(0,g.G)((function(e,n){var r=_();return(0,S.jsx)(y.m.tr,(0,i.Z)((0,i.Z)({},e),{},{ref:n,__css:r.tr}))})),I=["isNumeric"],T=(0,g.G)((function(e,n){var r=e.isNumeric,o=(0,m.Z)(e,I),l=_();return(0,S.jsx)(y.m.td,(0,i.Z)((0,i.Z)({},o),{},{ref:n,__css:l.td,"data-is-numeric":r}))})),N=r(81146),E=r(18451),O=r(72791);var M=r.p+"static/media/sentarrow.247d046d3230d923e5ca9a3787dcbae8.svg",B=r(25984),W=r(57689),H=r(81319),P=r(35378),$=r(17571),G=r(23823),K=r(64936),U=r(95048),q=r(35967),Y=r(43623),X=r(72426),V=r.n(X),J=r(92387),Q=r(52780),ee=r(87490),ne=r(89572),re=r(97419),oe=r(6222),le=r(59741),ie=r.n(le),de=r(75614),te=(0,O.lazy)((function(){return Promise.all([r.e(6669),r.e(9206)]).then(r.bind(r,10173))})),ae=(0,O.lazy)((function(){return r.e(5442).then(r.bind(r,55442))})),se=(0,O.lazy)((function(){return Promise.resolve().then(r.bind(r,54776))})),ue=(0,O.lazy)((function(){return r.e(416).then(r.bind(r,90416))})),ce=function(){var e,n,r,m,g,j,w,y,Z,k,D,C,L,R,_,I,X,le,ce,ve,he,pe,fe,be,me,ge,je,we,ye,Ze,ke,Se,De=(0,W.s0)(),Ce=(0,U.I0)(),Le=xe(),Re=Le.root,_e=Le.font,Ae=Le.font1,ze=Le.font3,Fe=Le.smallButton1,Ie=Le.root2,Te=Le.nameStyles,Ne=Le.graphBox,Ee=(0,W.UO)().id,Oe=(0,W.TH)().state,Me=(0,O.useState)([]),Be=(0,d.Z)(Me,2),We=Be[0],He=Be[1],Pe=(0,U.v9)((function(e){return null===e||void 0===e?void 0:e.authReducer})),$e=Pe.token,Ge=(0,U.v9)((function(e){return e.productReducer})),Ke=Ge.reward_type_product,Ue=(0,U.v9)((function(e){return null===e||void 0===e?void 0:e.userReducer})),qe=Ue.user_data,Ye=Ue.my_debit_credit,Xe=(Ue.my_rewards,Ue.my_rewards_loading,Ue.my_debit_credit_single,Ye&&(0,ee.W)(Ye)[Ee]),Ve=(0,O.useState)(!1),Je=(0,d.Z)(Ve,2),Qe=Je[0],en=(Je[1],(0,P.dp)({page:1,limit:4,brandId:Ee},{refetchOnMountOrArgChange:!0,skip:!Ee})),nn=en.data,rn=(en.isLoading,(0,P.eA)({id:Ee},{refetchOnFocus:!0,skip:!Ee})),on=rn.data,ln=(rn.error,{"Last 7 days":{label:"Last 7 days",millisecondsAgo:6048e5},"Last 30 days":{label:"Last 30 days",millisecondsAgo:2592e6},"Last 3 days":{label:"Last 3 days",millisecondsAgo:2592e5}}),dn=function(e){var n=Date.now()-e;return new Date(n).toISOString()},tn={startDate:dn(ln["Last 7 days"].millisecondsAgo),endDate:(new Date).toISOString(),dateRangeString:"Last 7 days"},an=(0,O.useState)(tn),sn=(0,d.Z)(an,2),un=sn[0],cn=sn[1],xn=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){var n,r,l,d,t,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==qe&&void 0!==qe&&null!==(n=qe.customer)&&void 0!==n&&n.walletAddress){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,ne.get_account_detail)({address:null===qe||void 0===qe||null===(r=qe.customer)||void 0===r?void 0:r.walletAddress});case 4:for(a in l=e.sent,d=l.data,t=[],d.result.balance)t.push({contractAddress:re.getAddress(a),balance:oe.formatEther(d.result.balance[a])});s=null===Ke||void 0===Ke?void 0:Ke.map((function(e){var n=null===t||void 0===t?void 0:t.find((function(n){return n.contractAddress===(null===e||void 0===e?void 0:e.contractAddress)}));return(0,i.Z)((0,i.Z)({},e),{},{balance:n})})),He(null===s||void 0===s?void 0:s.filter((function(e){return e.balance})));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,O.useEffect)((function(){Ce((0,J.wz)({token:$e})),xn()}),[]);(0,t.q)().onOpen;var vn=(0,t.q)(),hn=(vn.isOpen,vn.onOpen,vn.onClose,(0,t.q)());hn.isOpen,hn.onOpen,hn.onClose;q.kL.register(q.uw,q.f$,q.od,q.jn,q.Dx,q.u,q.Gu,q.De);(new Date).getMonth();var pn=(0,de.m)(),fn=Xe?{labels:[new Date(un.startDate).toDateString(),new Date(un.endDate).toDateString()],datasets:[{data:Xe.reduce((function(e,n,r){console.log("here",n);var o="CREDIT"===n.transactionType?parseFloat(n.amount):-parseFloat(n.amount),l=(0===e.length?0:e[e.length-1])+o;return e.push(l),e}),[]),fill:!1,label:null===(e=Xe[0])||void 0===e||null===(n=e.rewardRegistry)||void 0===n||null===(r=n.reward)||void 0===r?void 0:r.rewardName,borderColor:"#".concat((null===(m=Xe[0])||void 0===m||null===(g=m.rewardRegistry.reward)||void 0===g||null===(j=g.brand)||void 0===j?void 0:j.color)||pn),backgroundColor:"#".concat((null===(w=Xe[0])||void 0===w||null===(y=w.rewardRegistry.reward)||void 0===y||null===(Z=y.brand)||void 0===Z?void 0:Z.color)||pn),borderWidth:2}]}:{labels:[],datasets:[]},bn=(0,ee.W)(Ye)[Oe.brandId]||[];return console.log("test",bn),(0,S.jsxs)(a.k,{flexDir:"column",children:[(0,S.jsx)(O.Suspense,{fallback:(0,S.jsx)(s.$,{size:"sm"}),children:(0,S.jsx)(se,{})}),(0,S.jsx)(G.default,{children:(0,S.jsxs)(u.K,(0,i.Z)((0,i.Z)({},Re),{},{children:[(0,S.jsx)(O.Suspense,{fallback:(0,S.jsx)(s.$,{size:"sm"}),children:(0,S.jsx)(ae,{breadcrumbs:[{name:"Home",link:"".concat(Q.cn,"/dashboard")},{name:"Assets",link:"".concat(Q.cn,"/dashboard/dashboard-my-assets")},{name:null===on||void 0===on||null===(k=on.data)||void 0===k||null===(D=k.name)||void 0===D?void 0:D.replaceAll("_"," "),link:"".concat(Q.cn,"/dashboard/dashboard-my-assets/").concat(Ee),isCurrentPage:!0}]})}),(0,S.jsxs)(a.k,(0,i.Z)((0,i.Z)({},Ie),{},{children:[(0,S.jsxs)(a.k,{flexDir:"column",children:[(0,S.jsxs)(c.x,(0,i.Z)((0,i.Z)({},_e),{},{children:["Learn more about your personalized ",Oe.rewardName," card"]})),(0,S.jsx)(x.L,{}),(0,S.jsx)(c.x,(0,i.Z)((0,i.Z)({},Ae),{},{mb:"10px",children:null===Oe||void 0===Oe||null===(C=Oe.reward)||void 0===C||null===(L=C.brand)||void 0===L?void 0:L.description})),(0,S.jsx)(v.U,{children:(0,S.jsx)(h.xu,(0,i.Z)((0,i.Z)({as:"button"},Fe),{},{onClick:function(){var e,n,r,o,l,i;return De("".concat(Q.cn,"/dashboard/shop/").concat(null===on||void 0===on||null===(e=on.data)||void 0===e?void 0:e.id),{state:{id:null===Oe||void 0===Oe||null===(n=Oe.reward)||void 0===n||null===(r=n.brand)||void 0===r?void 0:r.id,slug:null===Oe||void 0===Oe||null===(o=Oe.reward)||void 0===o||null===(l=o.brand)||void 0===l?void 0:l.slug,brandName:null===Oe||void 0===Oe||null===(i=Oe.reward)||void 0===i?void 0:i.brandName}})},children:(0,S.jsx)(c.x,(0,i.Z)((0,i.Z)({},_e),{},{children:"Learn more"}))}))})]}),(0,S.jsx)(x.L,{}),(0,S.jsx)(h.xu,{style:{transform:"rotate(-35deg) translateX(60px) translateY(40px)"},children:(0,S.jsx)(K.Z,{logo:(null===Oe||void 0===Oe||null===(R=Oe.brand)||void 0===R?void 0:R.white_logo)||(null===Oe||void 0===Oe||null===(_=Oe.brand)||void 0===_?void 0:_.logo),bg:null!==Oe&&void 0!==Oe&&null!==(I=Oe.reward)&&void 0!==I&&null!==(X=I.brand)&&void 0!==X&&X.color?"#".concat(null===Oe||void 0===Oe||null===(le=Oe.reward)||void 0===le||null===(ce=le.brand)||void 0===ce?void 0:ce.color):"#363636",userName:"".concat(null===qe||void 0===qe||null===(ve=qe.customer)||void 0===ve?void 0:ve.name)})})]})),(0,S.jsxs)(a.k,(0,i.Z)((0,i.Z)({},Ne),{},{flexDir:"column",children:[(0,S.jsxs)(v.U,{h:"50px",w:"100%",children:[(0,S.jsx)(h.xu,{borderColor:"#".concat(null===Oe||void 0===Oe||null===(he=Oe.reward)||void 0===he||null===(pe=he.brand)||void 0===pe?void 0:pe.color),borderWidth:"2px",p:"3px",borderRadius:50,children:(0,S.jsx)(p.M,{as:"img",objectFit:"contain",src:(null===Oe||void 0===Oe||null===(fe=Oe.brand)||void 0===fe?void 0:fe.white_logo)||(null===Oe||void 0===Oe||null===(be=Oe.brand)||void 0===be?void 0:be.logo),w:"50px",h:"50px",borderRadius:"70px"})}),(0,S.jsx)(c.x,{color:"white",fontSize:"18px",children:null===Oe||void 0===Oe||null===(me=Oe.reward)||void 0===me?void 0:me.rewardName}),(0,S.jsx)(x.L,{})]}),(0,S.jsxs)(v.U,{h:"50px",w:"100%",mt:"20px",children:[(0,S.jsxs)(u.K,{children:[(0,S.jsxs)(c.x,{fontSize:["14px","14px","14px","18px","16px"],color:"white",children:[null===(ge=We.filter((function(e){var n;return(null===e||void 0===e||null===(n=e.brand)||void 0===n?void 0:n.id)===Ee})))||void 0===ge||null===(je=ge.map((function(e){var n;return Number(null===e||void 0===e||null===(n=e.balance)||void 0===n?void 0:n.balance)})))||void 0===je?void 0:je.reduce((function(e,n){return e+n}),0).toLocaleString()," ","pts"]}),(0,S.jsx)(c.x,{fontSize:"14px",color:"#999999C5",children:"Balance"})]}),(0,S.jsx)(x.L,{})]}),(0,S.jsx)(x.L,{}),(0,S.jsxs)(a.k,{bg:"#262626",borderRadius:"8px",h:"70%",w:"100%",p:"1%",alignSelf:"flex-end",flexDir:"column",children:[(0,S.jsxs)(a.k,{w:"100%",h:"3vw",align:"center",children:[(0,S.jsx)(c.x,{color:"white",children:Qe?"Percentage allocation":"Historic Progress"}),(0,S.jsx)(x.L,{}),(0,S.jsx)(a.k,{children:(0,S.jsx)(f.P,{color:"white",onChange:function(e){!function(e){console.log("heyooo",e);var n=ln[e].millisecondsAgo;cn((0,i.Z)((0,i.Z)({},un),{},{startDate:dn(n),dateRangeString:e}))}(e.target.value)},value:un.dateRangeString,variant:"unstyled",placeholder:"Select range",size:"sm",children:null===(we=["Last 30 days","Last 7 days","Last 3 days"])||void 0===we?void 0:we.map((function(e){return(0,S.jsx)("option",{value:e,children:e},(0,B.x0)())}))})})]}),(0,S.jsx)(a.k,{alignItems:"flex-end",justifyContent:"flex-end",h:"90%",w:"100%",children:(0,S.jsx)(Y.x1,{width:1180,height:250,options:{type:"line",responsive:!0,stepped:"middle",elements:{point:{radius:0,hitRadius:10,hoverRadius:4,hoverBorderWidth:3}},scales:{x:{ticks:{autoSkip:!0},grid:{display:!1}},y:{min:0,ticks:{autoSkip:!0,maxTicksLimit:10},border:{display:!1},grid:{color:"#99999935"}}},plugins:{legend:{display:!1},title:{display:!1,text:"Chart.js Line Chart"}}},data:fn})})]})]})),(0,S.jsxs)(a.k,{w:"100%",pt:"40px",children:[(0,S.jsx)(c.x,(0,i.Z)((0,i.Z)({},Te),{},{children:"Last transactions"})),(0,S.jsx)(x.L,{}),(0,S.jsx)(O.Suspense,{fallback:(0,S.jsx)(s.$,{size:"sm"}),children:(0,S.jsx)(H.Z,{label:"Sort",children:null===(ye=[1,2,3,4,5])||void 0===ye?void 0:ye.map((function(e){return(0,O.createElement)(b.Y,(0,i.Z)((0,i.Z)({as:"button"},_e),{},{key:(0,B.x0)()}),(0,S.jsx)(c.x,{textAlign:"left",children:e}))}))})})]}),(0,S.jsxs)(a.k,{flexDir:"column",children:[bn&&0===bn.length&&(0,S.jsxs)(u.K,(0,i.Z)((0,i.Z)({},Re),{},{align:"center",children:[(0,S.jsx)(ie(),{animationData:$,style:{height:300}}),(0,S.jsx)(c.x,{pt:"3%",fontSize:"18px",fontWeight:"600",children:"You currently have no transactions"})]})),bn&&bn.length>0&&(0,S.jsx)(A,{variant:"simple",children:(0,S.jsx)(z,{children:bn.map((function(e){var n,r;return(0,S.jsxs)(F,{children:[(0,S.jsx)(T,{w:"10%",children:(0,S.jsxs)(a.k,{flexDir:"column",children:[(0,S.jsx)(c.x,{children:V()(null===e||void 0===e?void 0:e.updatedAt).format("MMM DD")}),(0,S.jsx)(c.x,{children:V()(null===e||void 0===e?void 0:e.updatedAt).format("hh:ss a")}),(0,S.jsx)(c.x,(0,i.Z)({},Ae))]})}),(0,S.jsx)(T,{width:"5%",children:(0,S.jsx)(a.k,{borderRadius:"md",bg:"black",w:10,h:10,justifyContent:"center",alignItems:"center",transform:"CREDIT"===(null===e||void 0===e?void 0:e.transactionType)?"rotate(180deg)":"rotate(360deg)",children:(0,S.jsx)(N.E,{src:M})})}),(0,S.jsx)(T,{w:"20%",children:(0,S.jsxs)(a.k,{flexDir:"column",alignItems:"flex-start",children:[(0,S.jsxs)(c.x,{children:["CREDIT"===(null===e||void 0===e?void 0:e.transactionType)?"Synced":"Spent"," ",null===Oe||void 0===Oe?void 0:Oe.rewardSymbol]}),(0,S.jsx)(c.x,(0,i.Z)((0,i.Z)({},Ae),{},{children:"Completed"}))]})}),(0,S.jsx)(T,{w:"12%",children:(0,S.jsxs)(u.K,{w:"98%",alignItems:"flex-start",children:[(0,S.jsx)(c.x,{alignSelf:"flex-end",color:"#999999",textAlign:"right",children:"From"}),(0,S.jsx)(c.x,{children:null===e||void 0===e||null===(n=e.rewardRegistry)||void 0===n||null===(r=n.reward)||void 0===r?void 0:r.contractAddress})]})}),(0,S.jsx)(T,{children:(0,S.jsx)(a.k,{flexDir:"column",children:(0,S.jsxs)(c.x,(0,i.Z)((0,i.Z)({},ze),{},{textAlign:"right",textColor:"CREDIT"===(null===e||void 0===e?void 0:e.transactionType)?"green":"red",children:["CREDIT"===(null===e||void 0===e?void 0:e.transactionType)?parseFloat(null===e||void 0===e?void 0:e.amount):-1*parseFloat(null===e||void 0===e?void 0:e.amount),null===Oe||void 0===Oe?void 0:Oe.rewardSymbol]}))})})]},(0,B.x0)())}))})})]}),(0,S.jsxs)(a.k,{w:"100%",pt:"40px",children:[(0,S.jsxs)(c.x,(0,i.Z)((0,i.Z)({},Te),{},{children:["Offer from ",null===on||void 0===on||null===(Ze=on.data)||void 0===Ze?void 0:Ze.name]})),(0,S.jsx)(x.L,{}),(0,S.jsx)(O.Suspense,{fallback:(0,S.jsx)(s.$,{size:"sm"}),children:(0,S.jsx)(a.k,{children:(0,S.jsx)(h.xu,(0,i.Z)((0,i.Z)({as:"button"},Fe),{},{onClick:function(){var e,n,r,o,l,i;return De("".concat(Q.cn,"/dashboard/shop/").concat(null===on||void 0===on||null===(e=on.data)||void 0===e?void 0:e.id),{state:{id:null===Oe||void 0===Oe||null===(n=Oe.reward)||void 0===n||null===(r=n.brand)||void 0===r?void 0:r.id,slug:null===Oe||void 0===Oe||null===(o=Oe.reward)||void 0===o||null===(l=o.brand)||void 0===l?void 0:l.slug,brandName:null===Oe||void 0===Oe||null===(i=Oe.reward)||void 0===i?void 0:i.brandName}})},children:(0,S.jsx)(c.x,(0,i.Z)((0,i.Z)({},_e),{},{children:"Visit shop"}))}))})})]}),(0,S.jsx)(E.M,{columns:[2,2,3,4,4],spacingX:"3.5%",w:"100%",children:(0,S.jsx)(O.Suspense,{fallback:(0,S.jsx)(s.$,{size:"sm"}),children:null===nn||void 0===nn||null===(ke=nn.data)||void 0===ke||null===(Se=ke.offers)||void 0===Se?void 0:Se.map((function(e,n){var r,o,l;return(0,S.jsx)(ue,{isLoaded:!0,productTitle:e.name,points:"".concat(null===e||void 0===e?void 0:e.tokens).concat(null===(r=e.reward)||void 0===r?void 0:r.rewardSymbol),productSubtitle:null===(o=e.product)||void 0===o||null===(l=o.category)||void 0===l?void 0:l.name,price:e.originalPrice.toLocaleString(),isNew:V()(V()()).diff(null===e||void 0===e?void 0:e.createdAt,"days")<1,rest:(0,i.Z)({},e),i:n,bgImage:e.offerImages,onClick:function(){return De("".concat(Q.cn,"/productDetails/").concat(e.offerCode))}},(0,B.x0)())}))})})]}))}),(0,S.jsx)(O.Suspense,{fallback:(0,S.jsx)(s.$,{size:"sm"}),children:(0,S.jsx)(te,{})})]})},xe=function(){return{root:{w:"100%",mt:"108px",pt:"3%",overflow:"hidden",pb:"3%"},root2:{bg:"#F2F2F2",h:"174px",w:"100%",borderRadius:"16px",p:"2%",overflow:"hidden"},nameStyles:{fontSize:["20px","20px"]},search:{w:"18%",h:"40px",background:"#F6F6F6",borderRadius:"53px",justify:"flex-start",align:"center",pl:"1%"},button:{w:{base:"18%",md:"6%"},color:"dark",borderWidth:.5,backgroundColor:"light",fontSize:"15px"},loadMore:{w:"132px",h:"32px",alignSelf:"center",py:"10px",borderRadius:"100px"},font:{fontSize:"16px",lineHeight:"22px",color:"#000000",marginBottom:"5px"},smallButton:{w:"95px",h:"42px",bg:"#000000",borderRadius:"100px"},smallButton1:{w:"124px",h:"42px",p:"10px 16px",border:"1px",borderColor:"#000000",borderRadius:"100px",color:"#000000"},font1:{fontSize:"14px",lineHeight:"17px",color:"#999999"},font2:{fontSize:"18px",lineHeight:"22px",color:"#FFFFFF"},font3:{fontSize:"16px",lineHeight:"22px",color:"#E71C1C"},graphBox:{bg:"dark",w:"100%",h:"35vw",borderRadius:"16px",p:"20px"}}}}}]);
//# sourceMappingURL=7787.92170d34.chunk.js.map